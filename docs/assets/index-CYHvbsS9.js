(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const tc=!1;var Ih=Array.isArray,t_=Array.prototype.indexOf,ou=Array.from,e_=Object.defineProperty,aa=Object.getOwnPropertyDescriptor,n_=Object.getOwnPropertyDescriptors,r_=Object.prototype,i_=Array.prototype,Fh=Object.getPrototypeOf,wl=Object.isExtensible;function a_(t){for(var e=0;e<t.length;e++)t[e]()}function Oh(){var t,e,n=new Promise((r,i)=>{t=r,e=i});return{promise:n,resolve:t,reject:e}}const te=2,Ph=4,su=8,zn=16,lr=32,jr=64,Ms=128,Ke=512,oe=1024,we=2048,Un=4096,Ne=8192,Jn=16384,qh=32768,hi=65536,xl=1<<17,zh=1<<18,Ri=1<<19,o_=1<<20,Cr=32768,ec=1<<21,fu=1<<22,tr=1<<23,hf=Symbol("$state"),s_=Symbol(""),ii=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function f_(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function c_(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function u_(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function l_(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function d_(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function h_(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Uh=1,jh=2,Hh=4,p_=8,m_=16,b_=1,g_=2,ne=Symbol(),__="http://www.w3.org/1999/xhtml";function v_(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Yh(t){return t===this.v}function y_(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Bh(t){return!y_(t,this.v)}let w_=!1,Je=null;function pi(t){Je=t}function Ca(t,e=!1,n){Je={p:Je,i:!1,c:null,e:null,s:t,x:null,l:null}}function ka(t){var e=Je,n=e.e;if(n!==null){e.e=null;for(var r of n)j_(r)}return e.i=!0,Je=e.p,{}}function Wh(){return!0}let wr=[];function Gh(){var t=wr;wr=[],a_(t)}function $s(t){if(wr.length===0&&!oa){var e=wr;queueMicrotask(()=>{e===wr&&Gh()})}wr.push(t)}function x_(){for(;wr.length>0;)Gh()}function Vh(t){var e=At;if(e===null)return xt.f|=tr,t;if((e.f&qh)===0){if((e.f&Ms)===0)throw t;e.b.error(t)}else mi(t,e)}function mi(t,e){for(;e!==null;){if((e.f&Ms)!==0)try{e.b.error(t);return}catch(n){t=n}e=e.parent}throw t}const io=new Set;let St=null,Ao=null,Fe=null,Re=[],Ss=null,nc=!1,oa=!1;class cn{committed=!1;current=new Map;previous=new Map;#t=new Set;#e=new Set;#r=0;#n=0;#f=null;#a=[];#i=[];skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#n>0}process(e){Re=[],Ao=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const r of e)this.#o(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#s(n.effects),this.#s(n.render_effects),this.#s(n.block_effects)):(Ao=this,St=null,Ml(n.render_effects),Ml(n.effects),Ao=null,this.#f?.resolve()),Fe=null}#o(e,n){e.f^=oe;for(var r=e.first;r!==null;){var i=r.f,a=(i&(lr|jr))!==0,o=a&&(i&oe)!==0,s=o||(i&Ne)!==0||this.skipped_effects.has(r);if((r.f&Ms)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[],block_effects:[]}),!s&&r.fn!==null){a?r.f^=oe:(i&Ph)!==0?n.effects.push(r):La(r)&&((r.f&zn)!==0&&n.block_effects.push(r),ha(r));var f=r.first;if(f!==null){r=f;continue}}var c=r.parent;for(r=r.next;r===null&&c!==null;)c===n.effect&&(this.#s(n.effects),this.#s(n.render_effects),this.#s(n.block_effects),n=n.parent),r=c.next,c=c.parent}}#s(e){for(const n of e)((n.f&we)!==0?this.#a:this.#i).push(n),this.#c(n.deps),ce(n,oe)}#c(e){if(e!==null)for(const n of e)(n.f&te)===0||(n.f&Cr)===0||(n.f^=Cr,this.#c(n.deps))}capture(e,n){this.previous.has(e)||this.previous.set(e,n),(e.f&tr)===0&&(this.current.set(e,e.v),Fe?.set(e,e.v))}activate(){St=this,this.apply()}deactivate(){St===this&&(St=null,Fe=null)}flush(){if(this.activate(),Re.length>0){if(Xh(),St!==null&&St!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#e)e(this);this.#e.clear()}#u(){if(this.#n===0){for(const e of this.#t)e();this.#t.clear()}this.#r===0&&this.#l()}#l(){if(io.size>1){this.previous.clear();var e=Fe,n=!0,r={parent:null,effect:null,effects:[],render_effects:[],block_effects:[]};for(const a of io){if(a===this){n=!1;continue}const o=[];for(const[f,c]of this.current){if(a.current.has(f))if(n&&c!==a.current.get(f))a.current.set(f,c);else continue;o.push(f)}if(o.length===0)continue;const s=[...a.current.keys()].filter(f=>!this.current.has(f));if(s.length>0){var i=Re;Re=[];const f=new Set,c=new Map;for(const u of o)Zh(u,s,f,c);if(Re.length>0){St=a,a.apply();for(const u of Re)a.#o(u,r);a.deactivate()}Re=i}}St=null,Fe=e}this.committed=!0,io.delete(this)}increment(e){this.#r+=1,e&&(this.#n+=1)}decrement(e){this.#r-=1,e&&(this.#n-=1),this.revive()}revive(){for(const e of this.#a)ce(e,we),kr(e);for(const e of this.#i)ce(e,Un),kr(e);this.#a=[],this.#i=[],this.flush()}oncommit(e){this.#t.add(e)}ondiscard(e){this.#e.add(e)}settled(){return(this.#f??=Oh()).promise}static ensure(){if(St===null){const e=St=new cn;io.add(St),oa||cn.enqueue(()=>{St===e&&e.flush()})}return St}static enqueue(e){$s(e)}apply(){}}function M_(t){var e=oa;oa=!0;try{for(var n;;){if(x_(),Re.length===0&&(St?.flush(),Re.length===0))return Ss=null,n;Xh()}}finally{oa=e}}function Xh(){var t=nr;nc=!0;var e=null;try{var n=0;for(Io(!0);Re.length>0;){var r=cn.ensure();if(n++>1e3){var i,a;$_()}r.process(Re),er.clear()}}finally{nc=!1,Io(t),Ss=null}}function $_(){try{c_()}catch(t){mi(t,Ss)}}let Cn=null;function Ml(t){var e=t.length;if(e!==0){for(var n=0;n<e;){var r=t[n++];if((r.f&(Jn|Ne))===0&&La(r)&&(Cn=new Set,ha(r),r.deps===null&&r.first===null&&r.nodes_start===null&&(r.teardown===null&&r.ac===null?u0(r):r.fn=null),Cn?.size>0)){er.clear();for(const i of Cn){if((i.f&(Jn|Ne))!==0)continue;const a=[i];let o=i.parent;for(;o!==null;)Cn.has(o)&&(Cn.delete(o),a.push(o)),o=o.parent;for(let s=a.length-1;s>=0;s--){const f=a[s];(f.f&(Jn|Ne))===0&&ha(f)}}Cn.clear()}}Cn=null}}function Zh(t,e,n,r){if(!n.has(t)&&(n.add(t),t.reactions!==null))for(const i of t.reactions){const a=i.f;(a&te)!==0?Zh(i,e,n,r):(a&(fu|zn))!==0&&(a&we)===0&&Qh(i,e,r)&&(ce(i,we),kr(i))}}function Qh(t,e,n){const r=n.get(t);if(r!==void 0)return r;if(t.deps!==null)for(const i of t.deps){if(e.includes(i))return!0;if((i.f&te)!==0&&Qh(i,e,n))return n.set(i,!0),!0}return n.set(t,!1),!1}function kr(t){for(var e=Ss=t;e.parent!==null;){e=e.parent;var n=e.f;if(nc&&e===At&&(n&zn)!==0&&(n&zh)===0)return;if((n&(jr|lr))!==0){if((n&oe)===0)return;e.f^=oe}}Re.push(e)}function S_(t){let e=0,n=Er(0),r;return()=>{Ts()&&(g(n),o0(()=>(e===0&&(r=w0(()=>t(()=>sa(n)))),e+=1,()=>{$s(()=>{e-=1,e===0&&(r?.(),r=void 0,sa(n))})})))}}var T_=hi|Ri|Ms;function A_(t,e,n){new N_(t,e,n)}class N_{parent;#t=!1;#e;#r=null;#n;#f;#a;#i=null;#o=null;#s=null;#c=null;#u=null;#l=0;#d=0;#p=!1;#h=null;#v=S_(()=>(this.#h=Er(this.#l),()=>{this.#h=null}));constructor(e,n,r){this.#e=e,this.#n=n,this.#f=r,this.parent=At.b,this.#t=!!this.#n.pending,this.#a=du(()=>{At.b=this;{var i=this.#g();try{this.#i=Ie(()=>r(i))}catch(a){this.error(a)}this.#d>0?this.#b():this.#t=!1}return()=>{this.#u?.remove()}},T_)}#y(){try{this.#i=Ie(()=>this.#f(this.#e))}catch(e){this.error(e)}this.#t=!1}#w(){const e=this.#n.pending;e&&(this.#o=Ie(()=>e(this.#e)),cn.enqueue(()=>{var n=this.#g();this.#i=this.#m(()=>(cn.ensure(),Ie(()=>this.#f(n)))),this.#d>0?this.#b():(si(this.#o,()=>{this.#o=null}),this.#t=!1)}))}#g(){var e=this.#e;return this.#t&&(this.#u=or(),this.#e.before(this.#u),e=this.#u),e}is_pending(){return this.#t||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#n.pending}#m(e){var n=At,r=xt,i=Je;mn(this.#a),ve(this.#a),pi(this.#a.ctx);try{return e()}catch(a){return Vh(a),null}finally{mn(n),ve(r),pi(i)}}#b(){const e=this.#n.pending;this.#i!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),h0(this.#i,this.#c)),this.#o===null&&(this.#o=Ie(()=>e(this.#e)))}#_(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#_(e);return}this.#d+=e,this.#d===0&&(this.#t=!1,this.#o&&si(this.#o,()=>{this.#o=null}),this.#c&&(this.#e.before(this.#c),this.#c=null))}update_pending_count(e){this.#_(e),this.#l+=e,this.#h&&bi(this.#h,this.#l)}get_effect_pending(){return this.#v(),g(this.#h)}error(e){var n=this.#n.onerror;let r=this.#n.failed;if(this.#p||!n&&!r)throw e;this.#i&&(ye(this.#i),this.#i=null),this.#o&&(ye(this.#o),this.#o=null),this.#s&&(ye(this.#s),this.#s=null);var i=!1,a=!1;const o=()=>{if(i){v_();return}i=!0,a&&h_(),cn.ensure(),this.#l=0,this.#s!==null&&si(this.#s,()=>{this.#s=null}),this.#t=this.has_pending_snippet(),this.#i=this.#m(()=>(this.#p=!1,Ie(()=>this.#f(this.#e)))),this.#d>0?this.#b():this.#t=!1};var s=xt;try{ve(null),a=!0,n?.(e,o),a=!1}catch(f){mi(f,this.#a&&this.#a.parent)}finally{ve(s)}r&&$s(()=>{this.#s=this.#m(()=>{cn.ensure(),this.#p=!0;try{return Ie(()=>{r(this.#e,()=>e,()=>o)})}catch(f){return mi(f,this.#a.parent),null}finally{this.#p=!1}})})}}function C_(t,e,n,r){const i=cu;if(n.length===0&&t.length===0){r(e.map(i));return}var a=St,o=At,s=k_();function f(){Promise.all(n.map(c=>E_(c))).then(c=>{s();try{r([...e.map(i),...c])}catch(u){(o.f&Jn)===0&&mi(u,o)}a?.deactivate(),Ro()}).catch(c=>{mi(c,o)})}t.length>0?Promise.all(t).then(()=>{s();try{return f()}finally{a?.deactivate(),Ro()}}):f()}function k_(){var t=At,e=xt,n=Je,r=St;return function(a=!0){mn(t),ve(e),pi(n),a&&r?.activate()}}function Ro(){mn(null),ve(null),pi(null)}function cu(t){var e=te|we,n=xt!==null&&(xt.f&te)!==0?xt:null;return At!==null&&(At.f|=Ri),{ctx:Je,deps:null,effects:null,equals:Yh,f:e,fn:t,reactions:null,rv:0,v:ne,wv:0,parent:n??At,ac:null}}function E_(t,e){let n=At;n===null&&f_();var r=n.b,i=void 0,a=Er(ne),o=!xt,s=new Map;return Y_(()=>{var f=Oh();i=f.promise;try{Promise.resolve(t()).then(f.resolve,f.reject).then(()=>{c===St&&c.committed&&c.deactivate(),Ro()})}catch(l){f.reject(l),Ro()}var c=St;if(o){var u=!r.is_pending();r.update_pending_count(1),c.increment(u),s.get(c)?.reject(ii),s.delete(c),s.set(c,f)}const d=(l,h=void 0)=>{if(c.activate(),h)h!==ii&&(a.f|=tr,bi(a,h));else{(a.f&tr)!==0&&(a.f^=tr),bi(a,l);for(const[p,m]of s){if(s.delete(p),p===c)break;m.reject(ii)}}o&&(r.update_pending_count(-1),c.decrement(u))};f.promise.then(d,l=>d(null,l||"unknown"))}),U_(()=>{for(const f of s.values())f.reject(ii)}),new Promise(f=>{function c(u){function d(){u===i?f(a):c(i)}u.then(d,d)}c(i)})}function Ct(t){const e=cu(t);return p0(e),e}function D_(t){const e=cu(t);return e.equals=Bh,e}function Kh(t){var e=t.effects;if(e!==null){t.effects=null;for(var n=0;n<e.length;n+=1)ye(e[n])}}function L_(t){for(var e=t.parent;e!==null;){if((e.f&te)===0)return(e.f&Jn)===0?e:null;e=e.parent}return null}function uu(t){var e,n=At;mn(L_(t));try{t.f&=~Cr,Kh(t),e=_0(t)}finally{mn(n)}return e}function Jh(t){var e=uu(t);if(t.equals(e)||(St?.is_fork||(t.v=e),t.wv=b0()),!Da)if(Fe!==null)Ts()&&Fe.set(t,e);else{var n=(t.f&Ke)===0?Un:oe;ce(t,n)}}let rc=new Set;const er=new Map;let t0=!1;function Er(t,e){var n={f:0,v:t,reactions:null,equals:Yh,rv:0,wv:0};return n}function _t(t,e){const n=Er(t);return p0(n),n}function R_(t,e=!1,n=!0){const r=Er(t);return e||(r.equals=Bh),r}function ot(t,e,n=!1){xt!==null&&(!un||(xt.f&xl)!==0)&&Wh()&&(xt.f&(te|zn|fu|xl))!==0&&!Fn?.includes(t)&&d_();let r=n?Te(e):e;return bi(t,r)}function bi(t,e){if(!t.equals(e)){var n=t.v;Da?er.set(t,e):er.set(t,n),t.v=e;var r=cn.ensure();r.capture(t,n),(t.f&te)!==0&&((t.f&we)!==0&&uu(t),ce(t,(t.f&Ke)!==0?oe:Un)),t.wv=b0(),e0(t,we),At!==null&&(At.f&oe)!==0&&(At.f&(lr|jr))===0&&(Le===null?W_([t]):Le.push(t)),!r.is_fork&&rc.size>0&&!t0&&I_()}return e}function I_(){t0=!1;var t=nr;Io(!0);const e=Array.from(rc);try{for(const n of e)(n.f&oe)!==0&&ce(n,Un),La(n)&&ha(n)}finally{Io(t)}rc.clear()}function sa(t){ot(t,t.v+1)}function e0(t,e){var n=t.reactions;if(n!==null)for(var r=n.length,i=0;i<r;i++){var a=n[i],o=a.f,s=(o&we)===0;if(s&&ce(a,e),(o&te)!==0){var f=a;Fe?.delete(f),(o&Cr)===0&&(o&Ke&&(a.f|=Cr),e0(f,Un))}else s&&((o&zn)!==0&&Cn!==null&&Cn.add(a),kr(a))}}function Te(t){if(typeof t!="object"||t===null||hf in t)return t;const e=Fh(t);if(e!==r_&&e!==i_)return t;var n=new Map,r=Ih(t),i=_t(0),a=$r,o=s=>{if($r===a)return s();var f=xt,c=$r;ve(null),Al(a);var u=s();return ve(f),Al(c),u};return r&&n.set("length",_t(t.length)),new Proxy(t,{defineProperty(s,f,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&u_();var u=n.get(f);return u===void 0?u=o(()=>{var d=_t(c.value);return n.set(f,d),d}):ot(u,c.value,!0),!0},deleteProperty(s,f){var c=n.get(f);if(c===void 0){if(f in s){const u=o(()=>_t(ne));n.set(f,u),sa(i)}}else ot(c,ne),sa(i);return!0},get(s,f,c){if(f===hf)return t;var u=n.get(f),d=f in s;if(u===void 0&&(!d||aa(s,f)?.writable)&&(u=o(()=>{var h=Te(d?s[f]:ne),p=_t(h);return p}),n.set(f,u)),u!==void 0){var l=g(u);return l===ne?void 0:l}return Reflect.get(s,f,c)},getOwnPropertyDescriptor(s,f){var c=Reflect.getOwnPropertyDescriptor(s,f);if(c&&"value"in c){var u=n.get(f);u&&(c.value=g(u))}else if(c===void 0){var d=n.get(f),l=d?.v;if(d!==void 0&&l!==ne)return{enumerable:!0,configurable:!0,value:l,writable:!0}}return c},has(s,f){if(f===hf)return!0;var c=n.get(f),u=c!==void 0&&c.v!==ne||Reflect.has(s,f);if(c!==void 0||At!==null&&(!u||aa(s,f)?.writable)){c===void 0&&(c=o(()=>{var l=u?Te(s[f]):ne,h=_t(l);return h}),n.set(f,c));var d=g(c);if(d===ne)return!1}return u},set(s,f,c,u){var d=n.get(f),l=f in s;if(r&&f==="length")for(var h=c;h<d.v;h+=1){var p=n.get(h+"");p!==void 0?ot(p,ne):h in s&&(p=o(()=>_t(ne)),n.set(h+"",p))}if(d===void 0)(!l||aa(s,f)?.writable)&&(d=o(()=>_t(void 0)),ot(d,Te(c)),n.set(f,d));else{l=d.v!==ne;var m=o(()=>Te(c));ot(d,m)}var b=Reflect.getOwnPropertyDescriptor(s,f);if(b?.set&&b.set.call(u,c),!l){if(r&&typeof f=="string"){var y=n.get("length"),v=Number(f);Number.isInteger(v)&&v>=y.v&&ot(y,v+1)}sa(i)}return!0},ownKeys(s){g(i);var f=Reflect.ownKeys(s).filter(d=>{var l=n.get(d);return l===void 0||l.v!==ne});for(var[c,u]of n)u.v!==ne&&!(c in s)&&f.push(c);return f},setPrototypeOf(){l_()}})}var $l,n0,r0,i0;function F_(){if($l===void 0){$l=window,n0=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,n=Text.prototype;r0=aa(e,"firstChild").get,i0=aa(e,"nextSibling").get,wl(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),wl(n)&&(n.__t=void 0)}}function or(t=""){return document.createTextNode(t)}function Zn(t){return r0.call(t)}function Ea(t){return i0.call(t)}function w(t,e){return Zn(t)}function Tt(t,e=!1){{var n=Zn(t);return n instanceof Comment&&n.data===""?Ea(n):n}}function M(t,e=1,n=!1){let r=t;for(;e--;)r=Ea(r);return r}function O_(t){t.textContent=""}function a0(){return!1}let Sl=!1;function P_(){Sl||(Sl=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function lu(t){var e=xt,n=At;ve(null),mn(null);try{return t()}finally{ve(e),mn(n)}}function q_(t,e,n,r=n){t.addEventListener(e,()=>lu(n));const i=t.__on_r;i?t.__on_r=()=>{i(),r(!0)}:t.__on_r=()=>r(!0),P_()}function z_(t,e){var n=e.last;n===null?e.last=e.first=t:(n.next=t,t.prev=n,e.last=t)}function dr(t,e,n){var r=At;r!==null&&(r.f&Ne)!==0&&(t|=Ne);var i={ctx:Je,deps:null,nodes_start:null,nodes_end:null,f:t|we|Ke,first:null,fn:e,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(n)try{ha(i),i.f|=qh}catch(s){throw ye(i),s}else e!==null&&kr(i);var a=i;if(n&&a.deps===null&&a.teardown===null&&a.nodes_start===null&&a.first===a.last&&(a.f&Ri)===0&&(a=a.first,(t&zn)!==0&&(t&hi)!==0&&a!==null&&(a.f|=hi)),a!==null&&(a.parent=r,r!==null&&z_(a,r),xt!==null&&(xt.f&te)!==0&&(t&jr)===0)){var o=xt;(o.effects??=[]).push(a)}return i}function Ts(){return xt!==null&&!un}function U_(t){const e=dr(su,null,!1);return ce(e,oe),e.teardown=t,e}function j_(t){return dr(Ph|o_,t,!1)}function H_(t){cn.ensure();const e=dr(jr|Ri,t,!0);return(n={})=>new Promise(r=>{n.outro?si(e,()=>{ye(e),r(void 0)}):(ye(e),r(void 0))})}function Y_(t){return dr(fu|Ri,t,!0)}function o0(t,e=0){return dr(su|e,t,!0)}function Dt(t,e=[],n=[],r=[]){C_(r,e,n,i=>{dr(su,()=>t(...i.map(g)),!0)})}function du(t,e=0){var n=dr(zn|e,t,!0);return n}function Ie(t){return dr(lr|Ri,t,!0)}function s0(t){var e=t.teardown;if(e!==null){const n=Da,r=xt;Tl(!0),ve(null);try{e.call(null)}finally{Tl(n),ve(r)}}}function f0(t,e=!1){var n=t.first;for(t.first=t.last=null;n!==null;){const i=n.ac;i!==null&&lu(()=>{i.abort(ii)});var r=n.next;(n.f&jr)!==0?n.parent=null:ye(n,e),n=r}}function B_(t){for(var e=t.first;e!==null;){var n=e.next;(e.f&lr)===0&&ye(e),e=n}}function ye(t,e=!0){var n=!1;(e||(t.f&zh)!==0)&&t.nodes_start!==null&&t.nodes_end!==null&&(c0(t.nodes_start,t.nodes_end),n=!0),f0(t,e&&!n),Fo(t,0),ce(t,Jn);var r=t.transitions;if(r!==null)for(const a of r)a.stop();s0(t);var i=t.parent;i!==null&&i.first!==null&&u0(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=t.ac=null}function c0(t,e){for(;t!==null;){var n=t===e?null:Ea(t);t.remove(),t=n}}function u0(t){var e=t.parent,n=t.prev,r=t.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),e!==null&&(e.first===t&&(e.first=r),e.last===t&&(e.last=n))}function si(t,e,n=!0){var r=[];hu(t,r,!0),l0(r,()=>{n&&ye(t),e&&e()})}function l0(t,e){var n=t.length;if(n>0){var r=()=>--n||e();for(var i of t)i.out(r)}else e()}function hu(t,e,n){if((t.f&Ne)===0){if(t.f^=Ne,t.transitions!==null)for(const o of t.transitions)(o.is_global||n)&&e.push(o);for(var r=t.first;r!==null;){var i=r.next,a=(r.f&hi)!==0||(r.f&lr)!==0&&(t.f&zn)!==0;hu(r,e,a?n:!1),r=i}}}function pu(t){d0(t,!0)}function d0(t,e){if((t.f&Ne)!==0){t.f^=Ne,(t.f&oe)===0&&(ce(t,we),kr(t));for(var n=t.first;n!==null;){var r=n.next,i=(n.f&hi)!==0||(n.f&lr)!==0;d0(n,i?e:!1),n=r}if(t.transitions!==null)for(const a of t.transitions)(a.is_global||e)&&a.in()}}function h0(t,e){for(var n=t.nodes_start,r=t.nodes_end;n!==null;){var i=n===r?null:Ea(n);e.append(n),n=i}}let nr=!1;function Io(t){nr=t}let Da=!1;function Tl(t){Da=t}let xt=null,un=!1;function ve(t){xt=t}let At=null;function mn(t){At=t}let Fn=null;function p0(t){xt!==null&&(Fn===null?Fn=[t]:Fn.push(t))}let me=null,$e=0,Le=null;function W_(t){Le=t}let m0=1,da=0,$r=da;function Al(t){$r=t}function b0(){return++m0}function La(t){var e=t.f;if((e&we)!==0)return!0;if(e&te&&(t.f&=~Cr),(e&Un)!==0){var n=t.deps;if(n!==null)for(var r=n.length,i=0;i<r;i++){var a=n[i];if(La(a)&&Jh(a),a.wv>t.wv)return!0}(e&Ke)!==0&&Fe===null&&ce(t,oe)}return!1}function g0(t,e,n=!0){var r=t.reactions;if(r!==null&&!Fn?.includes(t))for(var i=0;i<r.length;i++){var a=r[i];(a.f&te)!==0?g0(a,e,!1):e===a&&(n?ce(a,we):(a.f&oe)!==0&&ce(a,Un),kr(a))}}function _0(t){var e=me,n=$e,r=Le,i=xt,a=Fn,o=Je,s=un,f=$r,c=t.f;me=null,$e=0,Le=null,xt=(c&(lr|jr))===0?t:null,Fn=null,pi(t.ctx),un=!1,$r=++da,t.ac!==null&&(lu(()=>{t.ac.abort(ii)}),t.ac=null);try{t.f|=ec;var u=t.fn,d=u(),l=t.deps;if(me!==null){var h;if(Fo(t,$e),l!==null&&$e>0)for(l.length=$e+me.length,h=0;h<me.length;h++)l[$e+h]=me[h];else t.deps=l=me;if(nr&&Ts()&&(t.f&Ke)!==0)for(h=$e;h<l.length;h++)(l[h].reactions??=[]).push(t)}else l!==null&&$e<l.length&&(Fo(t,$e),l.length=$e);if(Wh()&&Le!==null&&!un&&l!==null&&(t.f&(te|Un|we))===0)for(h=0;h<Le.length;h++)g0(Le[h],t);return i!==null&&i!==t&&(da++,Le!==null&&(r===null?r=Le:r.push(...Le))),(t.f&tr)!==0&&(t.f^=tr),d}catch(p){return Vh(p)}finally{t.f^=ec,me=e,$e=n,Le=r,xt=i,Fn=a,pi(o),un=s,$r=f}}function G_(t,e){let n=e.reactions;if(n!==null){var r=t_.call(n,t);if(r!==-1){var i=n.length-1;i===0?n=e.reactions=null:(n[r]=n[i],n.pop())}}n===null&&(e.f&te)!==0&&(me===null||!me.includes(e))&&(ce(e,Un),(e.f&Ke)!==0&&(e.f^=Ke,e.f&=~Cr),Kh(e),Fo(e,0))}function Fo(t,e){var n=t.deps;if(n!==null)for(var r=e;r<n.length;r++)G_(t,n[r])}function ha(t){var e=t.f;if((e&Jn)===0){ce(t,oe);var n=At,r=nr;At=t,nr=!0;try{(e&zn)!==0?B_(t):f0(t),s0(t);var i=_0(t);t.teardown=typeof i=="function"?i:null,t.wv=m0;var a;tc&&w_&&(t.f&we)!==0&&t.deps}finally{nr=r,At=n}}}async function V_(){await Promise.resolve(),M_()}function g(t){var e=t.f,n=(e&te)!==0;if(xt!==null&&!un){var r=At!==null&&(At.f&Jn)!==0;if(!r&&!Fn?.includes(t)){var i=xt.deps;if((xt.f&ec)!==0)t.rv<da&&(t.rv=da,me===null&&i!==null&&i[$e]===t?$e++:me===null?me=[t]:me.includes(t)||me.push(t));else{(xt.deps??=[]).push(t);var a=t.reactions;a===null?t.reactions=[xt]:a.includes(xt)||a.push(xt)}}}if(Da){if(er.has(t))return er.get(t);if(n){var o=t,s=o.v;return((o.f&oe)===0&&o.reactions!==null||y0(o))&&(s=uu(o)),er.set(o,s),s}}else n&&!Fe?.has(t)&&(o=t,La(o)&&Jh(o),nr&&Ts()&&(o.f&Ke)===0&&v0(o));if(Fe?.has(t))return Fe.get(t);if((t.f&tr)!==0)throw t.v;return t.v}function v0(t){if(t.deps!==null){t.f^=Ke;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&te)!==0&&(e.f&Ke)===0&&v0(e)}}function y0(t){if(t.v===ne)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(er.has(e)||(e.f&te)!==0&&y0(e))return!0;return!1}function w0(t){var e=un;try{return un=!0,t()}finally{un=e}}const X_=-7169;function ce(t,e){t.f=t.f&X_|e}const Z_=["touchstart","touchmove"];function Q_(t){return Z_.includes(t)}const x0=new Set,ic=new Set;function Ra(t){for(var e=0;e<t.length;e++)x0.add(t[e]);for(var n of ic)n(t)}let Nl=null;function ao(t){var e=this,n=e.ownerDocument,r=t.type,i=t.composedPath?.()||[],a=i[0]||t.target;Nl=t;var o=0,s=Nl===t&&t.__root;if(s){var f=i.indexOf(s);if(f!==-1&&(e===document||e===window)){t.__root=e;return}var c=i.indexOf(e);if(c===-1)return;f<=c&&(o=f)}if(a=i[o]||t.target,a!==e){e_(t,"currentTarget",{configurable:!0,get(){return a||n}});var u=xt,d=At;ve(null),mn(null);try{for(var l,h=[];a!==null;){var p=a.assignedSlot||a.parentNode||a.host||null;try{var m=a["__"+r];m!=null&&(!a.disabled||t.target===a)&&m.call(a,t)}catch(b){l?h.push(b):l=b}if(t.cancelBubble||p===e||p===null)break;a=p}if(l){for(let b of h)queueMicrotask(()=>{throw b});throw l}}finally{t.__root=e,delete t.currentTarget,ve(u),mn(d)}}}function M0(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Oo(t,e){var n=At;n.nodes_start===null&&(n.nodes_start=t,n.nodes_end=e)}function bt(t,e){var n=(e&b_)!==0,r=(e&g_)!==0,i,a=!t.startsWith("<!>");return()=>{i===void 0&&(i=M0(a?t:"<!>"+t),n||(i=Zn(i)));var o=r||n0?document.importNode(i,!0):i.cloneNode(!0);if(n){var s=Zn(o),f=o.lastChild;Oo(s,f)}else Oo(o,o);return o}}function Jt(){var t=document.createDocumentFragment(),e=document.createComment(""),n=or();return t.append(e,n),Oo(e,n),t}function rt(t,e){t!==null&&t.before(e)}function K(t,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(t.__t??=t.nodeValue)&&(t.__t=n,t.nodeValue=n+"")}function K_(t,e){return J_(t,e)}const Jr=new Map;function J_(t,{target:e,anchor:n,props:r={},events:i,context:a,intro:o=!0}){F_();var s=new Set,f=d=>{for(var l=0;l<d.length;l++){var h=d[l];if(!s.has(h)){s.add(h);var p=Q_(h);e.addEventListener(h,ao,{passive:p});var m=Jr.get(h);m===void 0?(document.addEventListener(h,ao,{passive:p}),Jr.set(h,1)):Jr.set(h,m+1)}}};f(ou(x0)),ic.add(f);var c=void 0,u=H_(()=>{var d=n??e.appendChild(or());return A_(d,{pending:()=>{}},l=>{if(a){Ca({});var h=Je;h.c=a}i&&(r.$$events=i),c=t(l,r)||{},a&&ka()}),()=>{for(var l of s){e.removeEventListener(l,ao);var h=Jr.get(l);--h===0?(document.removeEventListener(l,ao),Jr.delete(l)):Jr.set(l,h)}ic.delete(f),d!==n&&d.parentNode?.removeChild(d)}});return tv.set(c,u),c}let tv=new WeakMap;class ev{anchor;#t=new Map;#e=new Map;#r=new Map;#n=new Set;#f=!0;constructor(e,n=!0){this.anchor=e,this.#f=n}#a=()=>{var e=St;if(this.#t.has(e)){var n=this.#t.get(e),r=this.#e.get(n);if(r)pu(r),this.#n.delete(n);else{var i=this.#r.get(n);i&&(this.#e.set(n,i.effect),this.#r.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[a,o]of this.#t){if(this.#t.delete(a),a===e)break;const s=this.#r.get(o);s&&(ye(s.effect),this.#r.delete(o))}for(const[a,o]of this.#e){if(a===n||this.#n.has(a))continue;const s=()=>{if(Array.from(this.#t.values()).includes(a)){var c=document.createDocumentFragment();h0(o,c),c.append(or()),this.#r.set(a,{effect:o,fragment:c})}else ye(o);this.#n.delete(a),this.#e.delete(a)};this.#f||!r?(this.#n.add(a),si(o,s,!1)):s()}}};#i=e=>{this.#t.delete(e);const n=Array.from(this.#t.values());for(const[r,i]of this.#r)n.includes(r)||(ye(i.effect),this.#r.delete(r))};ensure(e,n){var r=St,i=a0();if(n&&!this.#e.has(e)&&!this.#r.has(e))if(i){var a=document.createDocumentFragment(),o=or();a.append(o),this.#r.set(e,{effect:Ie(()=>n(o)),fragment:a})}else this.#e.set(e,Ie(()=>n(this.anchor)));if(this.#t.set(r,e),i){for(const[s,f]of this.#e)s===e?r.skipped_effects.delete(f):r.skipped_effects.add(f);for(const[s,f]of this.#r)s===e?r.skipped_effects.delete(f.effect):r.skipped_effects.add(f.effect);r.oncommit(this.#a),r.ondiscard(this.#i)}else this.#a()}}function zt(t,e,n=!1){var r=new ev(t),i=n?hi:0;function a(o,s){r.ensure(o,s)}du(()=>{var o=!1;e((s,f=!0)=>{o=!0,a(f,s)}),o||a(!1,null)},i)}function Pe(t,e){return e}function nv(t,e,n){for(var r=[],i=e.length,a=0;a<i;a++)hu(e[a].e,r,!0);l0(r,()=>{var o=r.length===0&&n!==null;if(o){var s=n,f=s.parentNode;O_(f),f.append(s),t.items.clear(),an(t,e[0].prev,e[i-1].next)}for(var c=0;c<i;c++){var u=e[c];o||(t.items.delete(u.k),an(t,u.prev,u.next)),ye(u.e,!o)}t.first===e[0]&&(t.first=e[0].prev)})}function qe(t,e,n,r,i,a=null){var o=t,s=new Map,f=null,c=(e&Hh)!==0,u=(e&Uh)!==0,d=(e&jh)!==0;if(c){var l=t;o=l.appendChild(or())}var h=null,p=D_(()=>{var _=n();return Ih(_)?_:_==null?[]:ou(_)}),m,b=!0;function y(){rv($,m,o,e,r),h!==null&&(m.length===0?(h.fragment?(o.before(h.fragment),h.fragment=null):pu(h.effect),v.first=h.effect):si(h.effect,()=>{h=null}))}var v=du(()=>{m=g(p);for(var _=m.length,N=new Set,x=St,A=null,C=a0(),k=0;k<_;k+=1){var E=m[k],S=r(E,k),F=b?null:s.get(S);F?(u&&bi(F.v,E),d?bi(F.i,k):F.i=k,C&&x.skipped_effects.delete(F.e)):(F=iv(b?o:null,A,E,S,k,i,e,n),b&&(F.o=!0,A===null?f=F:A.next=F,A=F),s.set(S,F)),N.add(S)}if(_===0&&a&&!h)if(b)h={fragment:null,effect:Ie(()=>a(o))};else{var O=document.createDocumentFragment(),R=or();O.append(R),h={fragment:O,effect:Ie(()=>a(R))}}if(!b)if(C){for(const[T,P]of s)N.has(T)||x.skipped_effects.add(P.e);x.oncommit(y),x.ondiscard(()=>{})}else y();g(p)}),$={effect:v,items:s,first:f};b=!1}function rv(t,e,n,r,i){var a=(r&p_)!==0,o=e.length,s=t.items,f=t.first,c,u=null,d,l=[],h=[],p,m,b,y;if(a)for(y=0;y<o;y+=1)p=e[y],m=i(p,y),b=s.get(m),b.a?.measure(),(d??=new Set).add(b);for(y=0;y<o;y+=1){if(p=e[y],m=i(p,y),b=s.get(m),t.first??=b,!b.o){b.o=!0;var v=u?u.next:f;an(t,u,b),an(t,b,v),pf(b,v,n),u=b,l=[],h=[],f=u.next;continue}if((b.e.f&Ne)!==0&&(pu(b.e),a&&(b.a?.unfix(),(d??=new Set).delete(b))),b!==f){if(c!==void 0&&c.has(b)){if(l.length<h.length){var $=h[0],_;u=$.prev;var N=l[0],x=l[l.length-1];for(_=0;_<l.length;_+=1)pf(l[_],$,n);for(_=0;_<h.length;_+=1)c.delete(h[_]);an(t,N.prev,x.next),an(t,u,N),an(t,x,$),f=$,u=x,y-=1,l=[],h=[]}else c.delete(b),pf(b,f,n),an(t,b.prev,b.next),an(t,b,u===null?t.first:u.next),an(t,u,b),u=b;continue}for(l=[],h=[];f!==null&&f.k!==m;)(f.e.f&Ne)===0&&(c??=new Set).add(f),h.push(f),f=f.next;if(f===null)continue;b=f}l.push(b),u=b,f=b.next}if(f!==null||c!==void 0){for(var A=c===void 0?[]:ou(c);f!==null;)(f.e.f&Ne)===0&&A.push(f),f=f.next;var C=A.length;if(C>0){var k=(r&Hh)!==0&&o===0?n:null;if(a){for(y=0;y<C;y+=1)A[y].a?.measure();for(y=0;y<C;y+=1)A[y].a?.fix()}nv(t,A,k)}}a&&$s(()=>{if(d!==void 0)for(b of d)b.a?.apply()})}function iv(t,e,n,r,i,a,o,s){var f=(o&Uh)!==0,c=(o&m_)===0,u=f?c?R_(n,!1,!1):Er(n):n,d=(o&jh)===0?i:Er(i),l={i:d,v:u,k:r,a:null,e:null,o:!1,prev:e,next:null};try{if(t===null){var h=document.createDocumentFragment();h.append(t=or())}return l.e=Ie(()=>a(t,u,d,s)),e!==null&&(e.next=l),l}finally{}}function pf(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,a=t.e.nodes_start;a!==null&&a!==r;){var o=Ea(a);i.before(a),a=o}}function an(t,e,n){e===null?(t.first=n,t.effect.first=n&&n.e):(e.e.next&&(e.e.next.prev=null),e.next=n,e.e.next=n&&n.e),n===null?t.effect.last=e&&e.e:(n.e.prev&&(n.e.prev.next=null),n.prev=e,n.e.prev=e&&e.e)}function he(t,e,n=!1,r=!1,i=!1){var a=t,o="";Dt(()=>{var s=At;if(o!==(o=e()??"")&&(s.nodes_start!==null&&(c0(s.nodes_start,s.nodes_end),s.nodes_start=s.nodes_end=null),o!=="")){var f=o+"";n?f=`<svg>${f}</svg>`:r&&(f=`<math>${f}</math>`);var c=M0(f);if((n||r)&&(c=Zn(c)),Oo(Zn(c),c.lastChild),n||r)for(;Zn(c);)a.before(Zn(c));else a.before(c)}})}function $0(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=$0(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function av(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=$0(t))&&(r&&(r+=" "),r+=e);return r}function Xi(t){return typeof t=="object"?av(t):t??""}function ov(t,e,n){var r=t==null?"":""+t;return r===""?null:r}function Et(t,e,n,r,i,a){var o=t.__className;if(o!==n||o===void 0){var s=ov(n);s==null?t.removeAttribute("class"):t.className=s,t.__className=n}return a}const sv=Symbol("is custom element"),fv=Symbol("is html");function fi(t,e,n,r){var i=cv(t);i[e]!==(i[e]=n)&&(e==="loading"&&(t[s_]=n),n==null?t.removeAttribute(e):typeof n!="string"&&uv(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function cv(t){return t.__attributes??={[sv]:t.nodeName.includes("-"),[fv]:t.namespaceURI===__}}var Cl=new Map;function uv(t){var e=t.getAttribute("is")||t.nodeName,n=Cl.get(e);if(n)return n;Cl.set(e,n=[]);for(var r,i=t,a=Element.prototype;a!==i;){r=n_(i);for(var o in r)r[o].set&&n.push(o);i=Fh(i)}return n}function Ht(t,e,n=e){var r=new WeakSet;q_(t,"input",async i=>{var a=i?t.defaultValue:t.value;if(a=mf(t)?bf(a):a,n(a),St!==null&&r.add(St),await V_(),a!==(a=e())){var o=t.selectionStart,s=t.selectionEnd,f=t.value.length;if(t.value=a??"",s!==null){var c=t.value.length;o===s&&s===f&&c>f?(t.selectionStart=c,t.selectionEnd=c):(t.selectionStart=o,t.selectionEnd=Math.min(s,c))}}}),w0(e)==null&&t.value&&(n(mf(t)?bf(t.value):t.value),St!==null&&r.add(St)),o0(()=>{var i=e();if(t===document.activeElement){var a=Ao??St;if(r.has(a))return}mf(t)&&i===bf(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function mf(t){var e=t.type;return e==="number"||e==="range"}function bf(t){return t===""?null:+t}const lv="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(lv);var dv=bt(`<div><table class="table table-md border-2 border-base-content/5 mb-4"><thead><tr><th colspan="3" class="font-bold text-lg text-primary">a. Model as an optimization problem</th></tr><tr><th>Part</th><th class="w-80">Description</th><th class="w-120">Reason</th></tr></thead><tbody><tr><td>Objective Function</td><td>Maximize the total reward collected from visited nodes
                    substracting the total travel distance.</td><td>There are no other parameters in our problem besides the
                    limitations of visiting the nodes once and the incentive of
                    collecting the prize. <br/><br/> I consider that some multiplier
                    should be given to the prizes or the distances to make them comparable.
                    If the distances are too big, there is no benefit in moving and
                    since I'm not forced to visit all nodes, I can just stay at the
                    most beneficial</td></tr><tr><td>Constraint 1</td><td>Subtour elimination</td><td>Since this is a TSP variant, the subtours aren't allowed.</td></tr><tr><td>Constraint 2</td><td>Each node can be visited at most once with the exception of
                    the starting point</td><td>TSP requieres this constraint and it makes sense since you
                    shouldn't be able to collect the prize multiple times. If
                    you allow that, looping through a pair of close nodes con
                    make our objective infinite.</td></tr><tr><td>Constraint 3</td><td>The starting and exit point should be the same</td><td>TSP forces this condition</td></tr><tr><td>Constraint 4</td><td>The prize can be collected only once</td><td></td></tr><tr><td>Variables 1</td><td>Binary variable that indicates if a node was visited or not</td><td></td></tr><tr><td>Variable 2</td><td>Starting node</td><td>I consider the starting node as free parameter that we can
                    optimize.</td></tr></tbody></table> <p>The model must represent how profitable is to walk an arc between two
        nodes and help you to select the most convinient one</p> <table class="table table-md border-2 border-base-content/5 mt-4"><thead><tr><th colspan="3" class="font-bold text-lg text-primary">b. Heuristic for the prize collecting TSP</th></tr><tr><th>Step</th><th>Description</th><th>Go to</th></tr></thead><tbody><tr><td>1</td><td>Since the starting point is not given, search for the most
                    promising node <span class="font-bold">(node with the highest reward)</span></td><td></td></tr><tr><td>2</td><td>Calculate the delta between the minimum distance between
                    two arcs and the prize. After this, pick the most profitable
                    one.</td><td></td></tr><tr><td>3</td><td>If there is no profitable one, look one step ahead and if
                    no profits are posible, pick a path with minimal loses to
                    the depot.</td><td></td></tr><tr><td>4</td><td>Repeat until no more nodes are left or no more profitable
                    paths are available.</td><td>2</td></tr></tbody></table></div> <p class="my-4">This heuristic is based on the greedy idea of move towards profitable arcs
    and return to the depot at the first sign of loses.</p>`,1);function hv(t){var e=dv();rt(t,e)}function dn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dr(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function As(t){let e,n,r;t.length!==2?(e=dn,n=(s,f)=>dn(t(s),f),r=(s,f)=>t(s)-f):(e=t===dn||t===Dr?t:pv,n=t,r=t);function i(s,f,c=0,u=s.length){if(c<u){if(e(f,f)!==0)return u;do{const d=c+u>>>1;n(s[d],f)<0?c=d+1:u=d}while(c<u)}return c}function a(s,f,c=0,u=s.length){if(c<u){if(e(f,f)!==0)return u;do{const d=c+u>>>1;n(s[d],f)<=0?c=d+1:u=d}while(c<u)}return c}function o(s,f,c=0,u=s.length){const d=i(s,f,c,u-1);return d>c&&r(s[d-1],f)>-r(s[d],f)?d-1:d}return{left:i,center:o,right:a}}function pv(){return 0}function S0(t){return t===null?NaN:+t}function*mv(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const bv=As(dn),mu=bv.right;As(S0).center;function gv(t){return t.length|0}function _v(t){return!(t>0)}function vv(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function yv(t){return e=>t(...e)}function wv(...t){const e=typeof t[t.length-1]=="function"&&yv(t.pop());t=t.map(vv);const n=t.map(gv),r=t.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(_v))return a;for(;;){a.push(i.map((s,f)=>t[f][s]));let o=r;for(;++i[o]===n[o];){if(o===0)return e?a.map(e):a;i[o--]=0}}}function T0(t,e){let n=0,r,i=0,a=0;if(e===void 0)for(let o of t)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let s of t)(s=e(s,++o,t))!=null&&(s=+s)>=s&&(r=s-i,i+=r/++n,a+=r*(s-i))}if(n>1)return a/(n-1)}function xv(t,e){const n=T0(t,e);return n&&Math.sqrt(n)}function rr(t,e){let n,r;for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));return[n,r]}class Lr{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=e+a,s=Math.abs(e)<Math.abs(a)?e-(o-a):a-(o-e);s&&(n[r++]=s),e=o}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=e[--n];n>0&&(r=o,i=e[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&e[n-1]<0||a>0&&e[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class pa extends Map{constructor(e,n=C0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(ac(this,e))}has(e){return super.has(ac(this,e))}set(e,n){return super.set(A0(this,e),n)}delete(e){return super.delete(N0(this,e))}}class Ns extends Set{constructor(e,n=C0){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(ac(this,e))}add(e){return super.add(A0(this,e))}delete(e){return super.delete(N0(this,e))}}function ac({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function A0({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function N0({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function C0(t){return t!==null&&typeof t=="object"?t.valueOf():t}function oc(t){return t}function Mv(t,...e){return bu(t,oc,oc,e)}function gf(t,e,...n){return bu(t,oc,e,n)}function $v(t,e,...n){return bu(t,Array.from,e,n)}function bu(t,e,n,r){return(function i(a,o){if(o>=r.length)return n(a);const s=new pa,f=r[o++];let c=-1;for(const u of a){const d=f(u,++c,a),l=s.get(d);l?l.push(u):s.set(d,[u])}for(const[u,d]of s)s.set(u,i(d,o));return e(s)})(t,0)}function Sv(t,e){return Array.from(e,n=>t[n])}function Tv(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,a)=>a);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,a)=>{for(const o of e){const s=Po(o[i],o[a]);if(s)return s}})):(n=t.map(n),r.sort((i,a)=>Po(n[i],n[a]))),Sv(t,r)}return t.sort(k0(n))}function k0(t=dn){if(t===dn)return Po;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Po(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Av=Math.sqrt(50),Nv=Math.sqrt(10),Cv=Math.sqrt(2);function qo(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Av?10:a>=Nv?5:a>=Cv?2:1;let s,f,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(t*c),f=Math.round(e*c),s/c<t&&++s,f/c>e&&--f,c=-c):(c=Math.pow(10,i)*o,s=Math.round(t/c),f=Math.round(e/c),s*c<t&&++s,f*c>e&&--f),f<s&&.5<=n&&n<2?qo(t,e,n*2):[s,f,c]}function zo(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?qo(e,t,n):qo(t,e,n);if(!(a>=i))return[];const s=a-i+1,f=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)f[c]=(a-c)/-o;else for(let c=0;c<s;++c)f[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)f[c]=(i+c)/-o;else for(let c=0;c<s;++c)f[c]=(i+c)*o;return f}function sc(t,e,n){return e=+e,t=+t,n=+n,qo(t,e,n)[2]}function fc(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?sc(e,t,n):sc(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function bn(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function kv(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function ma(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Ev(t,e){let n,r=-1,i=-1;if(e===void 0)for(const a of t)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of t)(a=e(a,++i,t))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function E0(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Po:k0(i);r>n;){if(r-n>600){const f=r-n+1,c=e-n+1,u=Math.log(f),d=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*d*(f-d)/f)*(c-f/2<0?-1:1),h=Math.max(n,Math.floor(e-c*d/f+l)),p=Math.min(r,Math.floor(e+(f-c)*d/f+l));E0(t,e,h,p,i)}const a=t[e];let o=n,s=r;for(ji(t,n,e),i(t[r],a)>0&&ji(t,n,r);o<s;){for(ji(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?ji(t,n,s):(++s,ji(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function ji(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Uo(t,e,n){if(t=Float64Array.from(mv(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return ma(t);if(e>=1)return bn(t);var r,i=(r-1)*e,a=Math.floor(i),o=bn(E0(t,a).subarray(0,a+1)),s=ma(t.subarray(a+1));return o+(s-o)*(i-a)}}function Dv(t,e,n=S0){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Lv(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of t)(a=e(a,++i,t))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function cc(t,e){return Uo(t,.5,e)}function*Rv(t){for(const e of t)yield*e}function D0(t){return Array.from(Rv(t))}function Iv(t,e){const n=new pa;if(e===void 0)for(let a of t)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of t)(o=e(o,++a,t))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function Fv(t,e=Ov){const n=[];let r,i=!1;for(const a of t)i&&n.push(e(r,a)),r=a,i=!0;return n}function Ov(t,e){return[t,e]}function uc(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function gu(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function jo(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Pv(t){return t}var qv=3,kl=1e-6;function zv(t){return"translate("+t+",0)"}function Uv(t){return e=>+t(e)}function jv(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function Hv(){return!this.__axis}function Yv(t,e){var n=[],r=null,i=null,a=6,o=6,s=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,u="y",d=zv;function l(h){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,n):Pv),b=Math.max(a,0)+s,y=e.range(),v=+y[0]+f,$=+y[y.length-1]+f,_=(e.bandwidth?jv:Uv)(e.copy(),f),N=h.selection?h.selection():h,x=N.selectAll(".domain").data([null]),A=N.selectAll(".tick").data(p,e).order(),C=A.exit(),k=A.enter().append("g").attr("class","tick"),E=A.select("line"),S=A.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(k),E=E.merge(k.append("line").attr("stroke","currentColor").attr(u+"2",c*a)),S=S.merge(k.append("text").attr("fill","currentColor").attr(u,c*b).attr("dy","0.71em")),h!==N&&(x=x.transition(h),A=A.transition(h),E=E.transition(h),S=S.transition(h),C=C.transition(h).attr("opacity",kl).attr("transform",function(F){return isFinite(F=_(F))?d(F+f):this.getAttribute("transform")}),k.attr("opacity",kl).attr("transform",function(F){var O=this.parentNode.__axis;return d((O&&isFinite(O=O(F))?O:_(F))+f)})),C.remove(),x.attr("d",o?"M"+v+","+c*o+"V"+f+"H"+$+"V"+c*o:"M"+v+","+f+"H"+$),A.attr("opacity",1).attr("transform",function(F){return d(_(F)+f)}),E.attr(u+"2",c*a),S.attr(u,c*b).text(m),N.filter(Hv).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),N.each(function(){this.__axis=_})}return l.scale=function(h){return arguments.length?(e=h,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),l):n.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(a=o=+h,l):a},l.tickSizeInner=function(h){return arguments.length?(a=+h,l):a},l.tickSizeOuter=function(h){return arguments.length?(o=+h,l):o},l.tickPadding=function(h){return arguments.length?(s=+h,l):s},l.offset=function(h){return arguments.length?(f=+h,l):f},l}function Bv(t){return Yv(qv,t)}var Wv={value:()=>{}};function L0(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new No(n)}function No(t){this._=t}function Gv(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}No.prototype=L0.prototype={constructor:No,on:function(t,e){var n=this._,r=Gv(t+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(t=r[a]).type)&&(i=Vv(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++a<o;)if(i=(t=r[a]).type)n[i]=El(n[i],t.name,e);else if(e==null)for(i in n)n[i]=El(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new No(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(a=this._[t],r=0,i=a.length;r<i;++r)a[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};function Vv(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function El(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Wv,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var lc="http://www.w3.org/1999/xhtml";const gi={svg:"http://www.w3.org/2000/svg",xhtml:lc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Cs(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),gi.hasOwnProperty(e)?{space:gi[e],local:t}:t}function Xv(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===lc&&e.documentElement.namespaceURI===lc?e.createElement(t):e.createElementNS(n,t)}}function Zv(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ks(t){var e=Cs(t);return(e.local?Zv:Xv)(e)}function Qv(){}function _u(t){return t==null?Qv:function(){return this.querySelector(t)}}function Kv(t){typeof t!="function"&&(t=_u(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=new Array(o),f,c,u=0;u<o;++u)(f=a[u])&&(c=t.call(f,f.__data__,u,a))&&("__data__"in f&&(c.__data__=f.__data__),s[u]=c);return new Ce(r,this._parents)}function Jv(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function t2(){return[]}function R0(t){return t==null?t2:function(){return this.querySelectorAll(t)}}function e2(t){return function(){return Jv(t.apply(this,arguments))}}function n2(t){typeof t=="function"?t=e2(t):t=R0(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o=e[a],s=o.length,f,c=0;c<s;++c)(f=o[c])&&(r.push(t.call(f,f.__data__,c,o)),i.push(f));return new Ce(r,i)}function I0(t){return function(){return this.matches(t)}}function F0(t){return function(e){return e.matches(t)}}var r2=Array.prototype.find;function i2(t){return function(){return r2.call(this.children,t)}}function a2(){return this.firstElementChild}function o2(t){return this.select(t==null?a2:i2(typeof t=="function"?t:F0(t)))}var s2=Array.prototype.filter;function f2(){return Array.from(this.children)}function c2(t){return function(){return s2.call(this.children,t)}}function u2(t){return this.selectAll(t==null?f2:c2(typeof t=="function"?t:F0(t)))}function l2(t){typeof t!="function"&&(t=I0(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],f,c=0;c<o;++c)(f=a[c])&&t.call(f,f.__data__,c,a)&&s.push(f);return new Ce(r,this._parents)}function O0(t){return new Array(t.length)}function d2(){return new Ce(this._enter||this._groups.map(O0),this._parents)}function Ho(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ho.prototype={constructor:Ho,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function h2(t){return function(){return t}}function p2(t,e,n,r,i,a){for(var o=0,s,f=e.length,c=a.length;o<c;++o)(s=e[o])?(s.__data__=a[o],r[o]=s):n[o]=new Ho(t,a[o]);for(;o<f;++o)(s=e[o])&&(i[o]=s)}function m2(t,e,n,r,i,a,o){var s,f,c=new Map,u=e.length,d=a.length,l=new Array(u),h;for(s=0;s<u;++s)(f=e[s])&&(l[s]=h=o.call(f,f.__data__,s,e)+"",c.has(h)?i[s]=f:c.set(h,f));for(s=0;s<d;++s)h=o.call(t,a[s],s,a)+"",(f=c.get(h))?(r[s]=f,f.__data__=a[s],c.delete(h)):n[s]=new Ho(t,a[s]);for(s=0;s<u;++s)(f=e[s])&&c.get(l[s])===f&&(i[s]=f)}function b2(t){return t.__data__}function g2(t,e){if(!arguments.length)return Array.from(this,b2);var n=e?m2:p2,r=this._parents,i=this._groups;typeof t!="function"&&(t=h2(t));for(var a=i.length,o=new Array(a),s=new Array(a),f=new Array(a),c=0;c<a;++c){var u=r[c],d=i[c],l=d.length,h=_2(t.call(u,u&&u.__data__,c,r)),p=h.length,m=s[c]=new Array(p),b=o[c]=new Array(p),y=f[c]=new Array(l);n(u,d,m,b,y,h,e);for(var v=0,$=0,_,N;v<p;++v)if(_=m[v]){for(v>=$&&($=v+1);!(N=b[$])&&++$<p;);_._next=N||null}}return o=new Ce(o,r),o._enter=s,o._exit=f,o}function _2(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function v2(){return new Ce(this._exit||this._groups.map(O0),this._parents)}function y2(t,e,n){var r=this.enter(),i=this,a=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function w2(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),f=0;f<o;++f)for(var c=n[f],u=r[f],d=c.length,l=s[f]=new Array(d),h,p=0;p<d;++p)(h=c[p]||u[p])&&(l[p]=h);for(;f<i;++f)s[f]=n[f];return new Ce(s,this._parents)}function x2(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function M2(t){t||(t=$2);function e(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],s=o.length,f=i[a]=new Array(s),c,u=0;u<s;++u)(c=o[u])&&(f[u]=c);f.sort(e)}return new Ce(i,this._parents).order()}function $2(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function S2(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function T2(){return Array.from(this)}function A2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function N2(){let t=0;for(const e of this)++t;return t}function C2(){return!this.node()}function k2(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],a=0,o=i.length,s;a<o;++a)(s=i[a])&&t.call(s,s.__data__,a,i);return this}function E2(t){return function(){this.removeAttribute(t)}}function D2(t){return function(){this.removeAttributeNS(t.space,t.local)}}function L2(t,e){return function(){this.setAttribute(t,e)}}function R2(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function I2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function F2(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function O2(t,e){var n=Cs(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?D2:E2:typeof e=="function"?n.local?F2:I2:n.local?R2:L2)(n,e))}function P0(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function P2(t){return function(){this.style.removeProperty(t)}}function q2(t,e,n){return function(){this.style.setProperty(t,e,n)}}function z2(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function U2(t,e,n){return arguments.length>1?this.each((e==null?P2:typeof e=="function"?z2:q2)(t,e,n??"")):_i(this.node(),t)}function _i(t,e){return t.style.getPropertyValue(e)||P0(t).getComputedStyle(t,null).getPropertyValue(e)}function j2(t){return function(){delete this[t]}}function H2(t,e){return function(){this[t]=e}}function Y2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function B2(t,e){return arguments.length>1?this.each((e==null?j2:typeof e=="function"?Y2:H2)(t,e)):this.node()[t]}function q0(t){return t.trim().split(/^|\s+/)}function vu(t){return t.classList||new z0(t)}function z0(t){this._node=t,this._names=q0(t.getAttribute("class")||"")}z0.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function U0(t,e){for(var n=vu(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function j0(t,e){for(var n=vu(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function W2(t){return function(){U0(this,t)}}function G2(t){return function(){j0(this,t)}}function V2(t,e){return function(){(e.apply(this,arguments)?U0:j0)(this,t)}}function X2(t,e){var n=q0(t+"");if(arguments.length<2){for(var r=vu(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?V2:e?W2:G2)(n,e))}function Z2(){this.textContent=""}function Q2(t){return function(){this.textContent=t}}function K2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function J2(t){return arguments.length?this.each(t==null?Z2:(typeof t=="function"?K2:Q2)(t)):this.node().textContent}function ty(){this.innerHTML=""}function ey(t){return function(){this.innerHTML=t}}function ny(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ry(t){return arguments.length?this.each(t==null?ty:(typeof t=="function"?ny:ey)(t)):this.node().innerHTML}function iy(){this.nextSibling&&this.parentNode.appendChild(this)}function ay(){return this.each(iy)}function oy(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function sy(){return this.each(oy)}function fy(t){var e=typeof t=="function"?t:ks(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function cy(){return null}function uy(t,e){var n=typeof t=="function"?t:ks(t),r=e==null?cy:typeof e=="function"?e:_u(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function ly(){var t=this.parentNode;t&&t.removeChild(this)}function dy(){return this.each(ly)}function hy(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function py(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function my(t){return this.select(t?py:hy)}function by(t){return arguments.length?this.property("__data__",t):this.node().__data__}function gy(t){return function(e){t.call(this,e,this.__data__)}}function _y(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function vy(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,a;n<i;++n)a=e[n],(!t.type||a.type===t.type)&&a.name===t.name?this.removeEventListener(a.type,a.listener,a.options):e[++r]=a;++r?e.length=r:delete this.__on}}}function yy(t,e,n){return function(){var r=this.__on,i,a=gy(e);if(r){for(var o=0,s=r.length;o<s;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=e;return}}this.addEventListener(t.type,a,n),i={type:t.type,name:t.name,value:e,listener:a,options:n},r?r.push(i):this.__on=[i]}}function wy(t,e,n){var r=_y(t+""),i,a=r.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var f=0,c=s.length,u;f<c;++f)for(i=0,u=s[f];i<a;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(s=e?yy:vy,i=0;i<a;++i)this.each(s(r[i],e,n));return this}function H0(t,e,n){var r=P0(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function xy(t,e){return function(){return H0(this,t,e)}}function My(t,e){return function(){return H0(this,t,e.apply(this,arguments))}}function $y(t,e){return this.each((typeof e=="function"?My:xy)(t,e))}function*Sy(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var Y0=[null];function Ce(t,e){this._groups=t,this._parents=e}function Ia(){return new Ce([[document.documentElement]],Y0)}function Ty(){return this}Ce.prototype=Ia.prototype={constructor:Ce,select:Kv,selectAll:n2,selectChild:o2,selectChildren:u2,filter:l2,data:g2,enter:d2,exit:v2,join:y2,merge:w2,selection:Ty,order:x2,sort:M2,call:S2,nodes:T2,node:A2,size:N2,empty:C2,each:k2,attr:O2,style:U2,property:B2,classed:X2,text:J2,html:ry,raise:ay,lower:sy,append:fy,insert:uy,remove:dy,clone:my,datum:by,on:wy,dispatch:$y,[Symbol.iterator]:Sy};function Sr(t){return typeof t=="string"?new Ce([[document.querySelector(t)]],[document.documentElement]):new Ce([[t]],Y0)}function Ay(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ny(t,e){if(t=Ay(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function Ii(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Fa(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function hr(){}var Rr=.7,vi=1/Rr,ci="\\s*([+-]?\\d+)\\s*",ba="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Cy=/^#([0-9a-f]{3,8})$/,ky=new RegExp(`^rgb\\(${ci},${ci},${ci}\\)$`),Ey=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),Dy=new RegExp(`^rgba\\(${ci},${ci},${ci},${ba}\\)$`),Ly=new RegExp(`^rgba\\(${hn},${hn},${hn},${ba}\\)$`),Ry=new RegExp(`^hsl\\(${ba},${hn},${hn}\\)$`),Iy=new RegExp(`^hsla\\(${ba},${hn},${hn},${ba}\\)$`),Dl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ii(hr,Ir,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ll,formatHex:Ll,formatHex8:Fy,formatHsl:Oy,formatRgb:Rl,toString:Rl});function Ll(){return this.rgb().formatHex()}function Fy(){return this.rgb().formatHex8()}function Oy(){return B0(this).formatHsl()}function Rl(){return this.rgb().formatRgb()}function Ir(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Cy.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Il(e):n===3?new Vt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?oo(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?oo(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=ky.exec(t))?new Vt(e[1],e[2],e[3],1):(e=Ey.exec(t))?new Vt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Dy.exec(t))?oo(e[1],e[2],e[3],e[4]):(e=Ly.exec(t))?oo(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Ry.exec(t))?Pl(e[1],e[2]/100,e[3]/100,1):(e=Iy.exec(t))?Pl(e[1],e[2]/100,e[3]/100,e[4]):Dl.hasOwnProperty(t)?Il(Dl[t]):t==="transparent"?new Vt(NaN,NaN,NaN,0):null}function Il(t){return new Vt(t>>16&255,t>>8&255,t&255,1)}function oo(t,e,n,r){return r<=0&&(t=e=n=NaN),new Vt(t,e,n,r)}function yu(t){return t instanceof hr||(t=Ir(t)),t?(t=t.rgb(),new Vt(t.r,t.g,t.b,t.opacity)):new Vt}function sr(t,e,n,r){return arguments.length===1?yu(t):new Vt(t,e,n,r??1)}function Vt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Ii(Vt,sr,Fa(hr,{brighter(t){return t=t==null?vi:Math.pow(vi,t),new Vt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Rr:Math.pow(Rr,t),new Vt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vt(Tr(this.r),Tr(this.g),Tr(this.b),Yo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fl,formatHex:Fl,formatHex8:Py,formatRgb:Ol,toString:Ol}));function Fl(){return`#${xr(this.r)}${xr(this.g)}${xr(this.b)}`}function Py(){return`#${xr(this.r)}${xr(this.g)}${xr(this.b)}${xr((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ol(){const t=Yo(this.opacity);return`${t===1?"rgb(":"rgba("}${Tr(this.r)}, ${Tr(this.g)}, ${Tr(this.b)}${t===1?")":`, ${t})`}`}function Yo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tr(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xr(t){return t=Tr(t),(t<16?"0":"")+t.toString(16)}function Pl(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Xe(t,e,n,r)}function B0(t){if(t instanceof Xe)return new Xe(t.h,t.s,t.l,t.opacity);if(t instanceof hr||(t=Ir(t)),!t)return new Xe;if(t instanceof Xe)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,f=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=f<.5?a+i:2-a-i,o*=60):s=f>0&&f<1?0:o,new Xe(o,s,f,t.opacity)}function dc(t,e,n,r){return arguments.length===1?B0(t):new Xe(t,e,n,r??1)}function Xe(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ii(Xe,dc,Fa(hr,{brighter(t){return t=t==null?vi:Math.pow(vi,t),new Xe(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rr:Math.pow(Rr,t),new Xe(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Vt(_f(t>=240?t-240:t+120,i,r),_f(t,i,r),_f(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Xe(ql(this.h),so(this.s),so(this.l),Yo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Yo(this.opacity);return`${t===1?"hsl(":"hsla("}${ql(this.h)}, ${so(this.s)*100}%, ${so(this.l)*100}%${t===1?")":`, ${t})`}`}}));function ql(t){return t=(t||0)%360,t<0?t+360:t}function so(t){return Math.max(0,Math.min(1,t||0))}function _f(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const W0=Math.PI/180,G0=180/Math.PI,Bo=18,V0=.96422,X0=1,Z0=.82521,Q0=4/29,ui=6/29,K0=3*ui*ui,qy=ui*ui*ui;function J0(t){if(t instanceof pn)return new pn(t.l,t.a,t.b,t.opacity);if(t instanceof Dn)return tp(t);t instanceof Vt||(t=yu(t));var e=xf(t.r),n=xf(t.g),r=xf(t.b),i=vf((.2225045*e+.7168786*n+.0606169*r)/X0),a,o;return e===n&&n===r?a=o=i:(a=vf((.4360747*e+.3850649*n+.1430804*r)/V0),o=vf((.0139322*e+.0971045*n+.7141733*r)/Z0)),new pn(116*i-16,500*(a-i),200*(i-o),t.opacity)}function hc(t,e,n,r){return arguments.length===1?J0(t):new pn(t,e,n,r??1)}function pn(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}Ii(pn,hc,Fa(hr,{brighter(t){return new pn(this.l+Bo*(t??1),this.a,this.b,this.opacity)},darker(t){return new pn(this.l-Bo*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=V0*yf(e),t=X0*yf(t),n=Z0*yf(n),new Vt(wf(3.1338561*e-1.6168667*t-.4906146*n),wf(-.9787684*e+1.9161415*t+.033454*n),wf(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function vf(t){return t>qy?Math.pow(t,1/3):t/K0+Q0}function yf(t){return t>ui?t*t*t:K0*(t-Q0)}function wf(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function xf(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function zy(t){if(t instanceof Dn)return new Dn(t.h,t.c,t.l,t.opacity);if(t instanceof pn||(t=J0(t)),t.a===0&&t.b===0)return new Dn(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*G0;return new Dn(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function pc(t,e,n,r){return arguments.length===1?zy(t):new Dn(t,e,n,r??1)}function Dn(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function tp(t){if(isNaN(t.h))return new pn(t.l,0,0,t.opacity);var e=t.h*W0;return new pn(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Ii(Dn,pc,Fa(hr,{brighter(t){return new Dn(this.h,this.c,this.l+Bo*(t??1),this.opacity)},darker(t){return new Dn(this.h,this.c,this.l-Bo*(t??1),this.opacity)},rgb(){return tp(this).rgb()}}));var ep=-.14861,wu=1.78277,xu=-.29227,Es=-.90649,ga=1.97294,zl=ga*Es,Ul=ga*wu,jl=wu*xu-Es*ep;function Uy(t){if(t instanceof Ar)return new Ar(t.h,t.s,t.l,t.opacity);t instanceof Vt||(t=yu(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(jl*r+zl*e-Ul*n)/(jl+zl-Ul),a=r-i,o=(ga*(n-i)-xu*a)/Es,s=Math.sqrt(o*o+a*a)/(ga*i*(1-i)),f=s?Math.atan2(o,a)*G0-120:NaN;return new Ar(f<0?f+360:f,s,i,t.opacity)}function gn(t,e,n,r){return arguments.length===1?Uy(t):new Ar(t,e,n,r??1)}function Ar(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Ii(Ar,gn,Fa(hr,{brighter(t){return t=t==null?vi:Math.pow(vi,t),new Ar(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Rr:Math.pow(Rr,t),new Ar(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*W0,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Vt(255*(e+n*(ep*r+wu*i)),255*(e+n*(xu*r+Es*i)),255*(e+n*(ga*r)),this.opacity)}}));function jy(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}function Hy(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return jy((n-r/e)*e,o,i,a,s)}}const Ds=t=>()=>t;function np(t,e){return function(n){return t+n*e}}function Yy(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Mu(t,e){var n=e-t;return n?np(t,n>180||n<-180?n-360*Math.round(n/360):n):Ds(isNaN(t)?e:t)}function By(t){return(t=+t)==1?se:function(e,n){return n-e?Yy(e,n,t):Ds(isNaN(e)?n:e)}}function se(t,e){var n=e-t;return n?np(t,n):Ds(isNaN(t)?e:t)}const Fr=(function t(e){var n=By(e);function r(i,a){var o=n((i=sr(i)).r,(a=sr(a)).r),s=n(i.g,a.g),f=n(i.b,a.b),c=se(i.opacity,a.opacity);return function(u){return i.r=o(u),i.g=s(u),i.b=f(u),i.opacity=c(u),i+""}}return r.gamma=t,r})(1);function Wy(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),a=new Array(n),o,s;for(o=0;o<n;++o)s=sr(e[o]),r[o]=s.r||0,i[o]=s.g||0,a[o]=s.b||0;return r=t(r),i=t(i),a=t(a),s.opacity=1,function(f){return s.r=r(f),s.g=i(f),s.b=a(f),s+""}}}var Gy=Wy(Hy);function Vy(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function Xy(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Zy(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Oa(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Qy(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function re(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ky(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Oa(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var mc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mf=new RegExp(mc.source,"g");function Jy(t){return function(){return t}}function tw(t){return function(e){return t(e)+""}}function rp(t,e){var n=mc.lastIndex=Mf.lastIndex=0,r,i,a,o=-1,s=[],f=[];for(t=t+"",e=e+"";(r=mc.exec(t))&&(i=Mf.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,f.push({i:o,x:re(r,i)})),n=Mf.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?f[0]?tw(f[0].x):Jy(e):(e=f.length,function(c){for(var u=0,d;u<e;++u)s[(d=f[u]).i]=d.x(c);return s.join("")})}function Oa(t,e){var n=typeof e,r;return e==null||n==="boolean"?Ds(e):(n==="number"?re:n==="string"?(r=Ir(e))?(e=r,Fr):rp:e instanceof Ir?Fr:e instanceof Date?Qy:Xy(e)?Vy:Array.isArray(e)?Zy:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ky:re)(t,e)}function $u(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Hl=180/Math.PI,bc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ip(t,e,n,r,i,a){var o,s,f;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(f=t*n+e*r)&&(n-=t*f,r-=e*f),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,f/=s),t*r<e*n&&(t=-t,e=-e,f=-f,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Hl,skewX:Math.atan(f)*Hl,scaleX:o,scaleY:s}}var fo;function ew(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?bc:ip(e.a,e.b,e.c,e.d,e.e,e.f)}function nw(t){return t==null||(fo||(fo=document.createElementNS("http://www.w3.org/2000/svg","g")),fo.setAttribute("transform",t),!(t=fo.transform.baseVal.consolidate()))?bc:(t=t.matrix,ip(t.a,t.b,t.c,t.d,t.e,t.f))}function ap(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,u,d,l,h,p){if(c!==d||u!==l){var m=h.push("translate(",null,e,null,n);p.push({i:m-4,x:re(c,d)},{i:m-2,x:re(u,l)})}else(d||l)&&h.push("translate("+d+e+l+n)}function o(c,u,d,l){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:re(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function s(c,u,d,l){c!==u?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:re(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function f(c,u,d,l,h,p){if(c!==d||u!==l){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:re(c,d)},{i:m-2,x:re(u,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(c,u){var d=[],l=[];return c=t(c),u=t(u),a(c.translateX,c.translateY,u.translateX,u.translateY,d,l),o(c.rotate,u.rotate,d,l),s(c.skewX,u.skewX,d,l),f(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,l),c=u=null,function(h){for(var p=-1,m=l.length,b;++p<m;)d[(b=l[p]).i]=b.x(h);return d.join("")}}}var rw=ap(ew,"px, ","px)","deg)"),iw=ap(nw,", ",")",")");function aw(t){return function(e,n){var r=t((e=dc(e)).h,(n=dc(n)).h),i=se(e.s,n.s),a=se(e.l,n.l),o=se(e.opacity,n.opacity);return function(s){return e.h=r(s),e.s=i(s),e.l=a(s),e.opacity=o(s),e+""}}}const ow=aw(Mu);function sw(t,e){var n=se((t=hc(t)).l,(e=hc(e)).l),r=se(t.a,e.a),i=se(t.b,e.b),a=se(t.opacity,e.opacity);return function(o){return t.l=n(o),t.a=r(o),t.b=i(o),t.opacity=a(o),t+""}}function fw(t){return function(e,n){var r=t((e=pc(e)).h,(n=pc(n)).h),i=se(e.c,n.c),a=se(e.l,n.l),o=se(e.opacity,n.opacity);return function(s){return e.h=r(s),e.c=i(s),e.l=a(s),e.opacity=o(s),e+""}}}const cw=fw(Mu);function op(t){return(function e(n){n=+n;function r(i,a){var o=t((i=gn(i)).h,(a=gn(a)).h),s=se(i.s,a.s),f=se(i.l,a.l),c=se(i.opacity,a.opacity);return function(u){return i.h=o(u),i.s=s(u),i.l=f(Math.pow(u,n)),i.opacity=c(u),i+""}}return r.gamma=e,r})(1)}op(Mu);var Su=op(se);function Ls(t,e){e===void 0&&(e=t,t=Oa);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function tn(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var yi=0,Zi=0,Hi=0,sp=1e3,Wo,Qi,Go=0,Or=0,Rs=0,_a=typeof performance=="object"&&performance.now?performance:Date,fp=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Tu(){return Or||(fp(uw),Or=_a.now()+Rs)}function uw(){Or=0}function Vo(){this._call=this._time=this._next=null}Vo.prototype=cp.prototype={constructor:Vo,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Tu():+n)+(e==null?0:+e),!this._next&&Qi!==this&&(Qi?Qi._next=this:Wo=this,Qi=this),this._call=t,this._time=n,gc()},stop:function(){this._call&&(this._call=null,this._time=1/0,gc())}};function cp(t,e,n){var r=new Vo;return r.restart(t,e,n),r}function lw(){Tu(),++yi;for(var t=Wo,e;t;)(e=Or-t._time)>=0&&t._call.call(void 0,e),t=t._next;--yi}function Yl(){Or=(Go=_a.now())+Rs,yi=Zi=0;try{lw()}finally{yi=0,hw(),Or=0}}function dw(){var t=_a.now(),e=t-Go;e>sp&&(Rs-=e,Go=t)}function hw(){for(var t,e=Wo,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:Wo=n);Qi=t,gc(r)}function gc(t){if(!yi){Zi&&(Zi=clearTimeout(Zi));var e=t-Or;e>24?(t<1/0&&(Zi=setTimeout(Yl,t-_a.now()-Rs)),Hi&&(Hi=clearInterval(Hi))):(Hi||(Go=_a.now(),Hi=setInterval(dw,sp)),yi=1,fp(Yl))}}function Bl(t,e,n){var r=new Vo;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var pw=L0("start","end","cancel","interrupt"),mw=[],up=0,Wl=1,_c=2,Co=3,Gl=4,vc=5,ko=6;function Is(t,e,n,r,i,a){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;bw(t,n,{name:e,index:r,group:i,on:pw,tween:mw,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:up})}function Au(t,e){var n=rn(t,e);if(n.state>up)throw new Error("too late; already scheduled");return n}function yn(t,e){var n=rn(t,e);if(n.state>Co)throw new Error("too late; already running");return n}function rn(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function bw(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=cp(a,0,n.time);function a(c){n.state=Wl,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,l,h;if(n.state!==Wl)return f();for(u in r)if(h=r[u],h.name===n.name){if(h.state===Co)return Bl(o);h.state===Gl?(h.state=ko,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[u]):+u<e&&(h.state=ko,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[u])}if(Bl(function(){n.state===Co&&(n.state=Gl,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=_c,n.on.call("start",t,t.__data__,n.index,n.group),n.state===_c){for(n.state=Co,i=new Array(l=n.tween.length),u=0,d=-1;u<l;++u)(h=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(f),n.state=vc,1),d=-1,l=i.length;++d<l;)i[d].call(t,u);n.state===vc&&(n.on.call("end",t,t.__data__,n.index,n.group),f())}function f(){n.state=ko,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function gw(t,e){var n=t.__transition,r,i,a=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){a=!1;continue}i=r.state>_c&&r.state<vc,r.state=ko,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}a&&delete t.__transition}}function _w(t){return this.each(function(){gw(this,t)})}function vw(t,e){var n,r;return function(){var i=yn(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function yw(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=yn(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},f=0,c=i.length;f<c;++f)if(i[f].name===e){i[f]=s;break}f===c&&i.push(s)}a.tween=i}}function ww(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=rn(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?vw:yw)(n,t,e))}function Nu(t,e,n){var r=t._id;return t.each(function(){var i=yn(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return rn(i,r).value[e]}}function lp(t,e){var n;return(typeof e=="number"?re:e instanceof Ir?Fr:(n=Ir(e))?(e=n,Fr):rp)(t,e)}function xw(t){return function(){this.removeAttribute(t)}}function Mw(t){return function(){this.removeAttributeNS(t.space,t.local)}}function $w(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttribute(t);return o===i?null:o===r?a:a=e(r=o,n)}}function Sw(t,e,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?a:a=e(r=o,n)}}function Tw(t,e,n){var r,i,a;return function(){var o,s=n(this),f;return s==null?void this.removeAttribute(t):(o=this.getAttribute(t),f=s+"",o===f?null:o===r&&f===i?a:(i=f,a=e(r=o,s)))}}function Aw(t,e,n){var r,i,a;return function(){var o,s=n(this),f;return s==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),f=s+"",o===f?null:o===r&&f===i?a:(i=f,a=e(r=o,s)))}}function Nw(t,e){var n=Cs(t),r=n==="transform"?iw:lp;return this.attrTween(t,typeof e=="function"?(n.local?Aw:Tw)(n,r,Nu(this,"attr."+t,e)):e==null?(n.local?Mw:xw)(n):(n.local?Sw:$w)(n,r,e))}function Cw(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function kw(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ew(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&kw(t,a)),n}return i._value=e,i}function Dw(t,e){var n,r;function i(){var a=e.apply(this,arguments);return a!==r&&(n=(r=a)&&Cw(t,a)),n}return i._value=e,i}function Lw(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Cs(t);return this.tween(n,(r.local?Ew:Dw)(r,e))}function Rw(t,e){return function(){Au(this,t).delay=+e.apply(this,arguments)}}function Iw(t,e){return e=+e,function(){Au(this,t).delay=e}}function Fw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Rw:Iw)(e,t)):rn(this.node(),e).delay}function Ow(t,e){return function(){yn(this,t).duration=+e.apply(this,arguments)}}function Pw(t,e){return e=+e,function(){yn(this,t).duration=e}}function qw(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ow:Pw)(e,t)):rn(this.node(),e).duration}function zw(t,e){if(typeof e!="function")throw new Error;return function(){yn(this,t).ease=e}}function Uw(t){var e=this._id;return arguments.length?this.each(zw(e,t)):rn(this.node(),e).ease}function jw(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;yn(this,t).ease=n}}function Hw(t){if(typeof t!="function")throw new Error;return this.each(jw(this._id,t))}function Yw(t){typeof t!="function"&&(t=I0(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a=e[i],o=a.length,s=r[i]=[],f,c=0;c<o;++c)(f=a[c])&&t.call(f,f.__data__,c,a)&&s.push(f);return new On(r,this._parents,this._name,this._id)}function Bw(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var f=e[s],c=n[s],u=f.length,d=o[s]=new Array(u),l,h=0;h<u;++h)(l=f[h]||c[h])&&(d[h]=l);for(;s<r;++s)o[s]=e[s];return new On(o,this._parents,this._name,this._id)}function Ww(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Gw(t,e,n){var r,i,a=Ww(e)?Au:yn;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}function Vw(t,e){var n=this._id;return arguments.length<2?rn(this.node(),n).on.on(t):this.each(Gw(n,t,e))}function Xw(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Zw(){return this.on("end.remove",Xw(this._id))}function Qw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=_u(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s=r[o],f=s.length,c=a[o]=new Array(f),u,d,l=0;l<f;++l)(u=s[l])&&(d=t.call(u,u.__data__,l,s))&&("__data__"in u&&(d.__data__=u.__data__),c[l]=d,Is(c[l],e,n,l,c,rn(u,n)));return new On(a,this._parents,e,n)}function Kw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=R0(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var f=r[s],c=f.length,u,d=0;d<c;++d)if(u=f[d]){for(var l=t.call(u,u.__data__,d,f),h,p=rn(u,n),m=0,b=l.length;m<b;++m)(h=l[m])&&Is(h,e,n,m,l,p);a.push(l),o.push(u)}return new On(a,o,e,n)}var Jw=Ia.prototype.constructor;function t3(){return new Jw(this._groups,this._parents)}function e3(t,e){var n,r,i;return function(){var a=_i(this,t),o=(this.style.removeProperty(t),_i(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function dp(t){return function(){this.style.removeProperty(t)}}function n3(t,e,n){var r,i=n+"",a;return function(){var o=_i(this,t);return o===i?null:o===r?a:a=e(r=o,n)}}function r3(t,e,n){var r,i,a;return function(){var o=_i(this,t),s=n(this),f=s+"";return s==null&&(f=s=(this.style.removeProperty(t),_i(this,t))),o===f?null:o===r&&f===i?a:(i=f,a=e(r=o,s))}}function i3(t,e){var n,r,i,a="style."+e,o="end."+a,s;return function(){var f=yn(this,t),c=f.on,u=f.value[a]==null?s||(s=dp(e)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),f.on=r}}function a3(t,e,n){var r=(t+="")=="transform"?rw:lp;return e==null?this.styleTween(t,e3(t,r)).on("end.style."+t,dp(t)):typeof e=="function"?this.styleTween(t,r3(t,r,Nu(this,"style."+t,e))).each(i3(this._id,t)):this.styleTween(t,n3(t,r,e),n).on("end.style."+t,null)}function o3(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function s3(t,e,n){var r,i;function a(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&o3(t,o,n)),r}return a._value=e,a}function f3(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,s3(t,e,n??""))}function c3(t){return function(){this.textContent=t}}function u3(t){return function(){var e=t(this);this.textContent=e??""}}function l3(t){return this.tween("text",typeof t=="function"?u3(Nu(this,"text",t)):c3(t==null?"":t+""))}function d3(t){return function(e){this.textContent=t.call(this,e)}}function h3(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&d3(i)),e}return r._value=t,r}function p3(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,h3(t))}function m3(){for(var t=this._name,e=this._id,n=hp(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,f,c=0;c<s;++c)if(f=o[c]){var u=rn(f,e);Is(f,t,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new On(r,this._parents,t,n)}function b3(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var s={value:o},f={value:function(){--i===0&&a()}};n.each(function(){var c=yn(this,r),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(f)),c.on=e}),i===0&&a()})}var g3=0;function On(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function hp(){return++g3}var $n=Ia.prototype;On.prototype={constructor:On,select:Qw,selectAll:Kw,selectChild:$n.selectChild,selectChildren:$n.selectChildren,filter:Yw,merge:Bw,selection:t3,transition:m3,call:$n.call,nodes:$n.nodes,node:$n.node,size:$n.size,empty:$n.empty,each:$n.each,on:Vw,attr:Nw,attrTween:Lw,style:a3,styleTween:f3,text:l3,textTween:p3,remove:Zw,tween:ww,delay:Fw,duration:qw,ease:Uw,easeVarying:Hw,end:b3,[Symbol.iterator]:$n[Symbol.iterator]};function _3(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var v3={time:null,delay:0,duration:250,ease:_3};function y3(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function w3(t){var e,n;t instanceof On?(e=t._id,t=t._name):(e=hp(),(n=v3).time=Tu(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],s=o.length,f,c=0;c<s;++c)(f=o[c])&&Is(f,t,e,c,o,n||y3(f,e));return new On(r,this._parents,t,e)}Ia.prototype.interrupt=_w;Ia.prototype.transition=w3;const yc=Math.PI,wc=2*yc,vr=1e-6,x3=wc-vr;function pp(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function M3(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return pp;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class mp{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?pp:M3(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,f=r-e,c=i-n,u=o-e,d=s-n,l=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>vr)if(!(Math.abs(d*f-c*u)>vr)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-o,p=i-s,m=f*f+c*c,b=h*h+p*p,y=Math.sqrt(m),v=Math.sqrt(l),$=a*Math.tan((yc-Math.acos((m+l-b)/(2*y*v)))/2),_=$/v,N=$/y;Math.abs(_-1)>vr&&this._append`L${e+_*u},${n+_*d}`,this._append`A${a},${a},0,0,${+(d*h>u*p)},${this._x1=e+N*f},${this._y1=n+N*c}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),f=r*Math.sin(i),c=e+s,u=n+f,d=1^o,l=o?i-a:a-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>vr||Math.abs(this._y1-u)>vr)&&this._append`L${c},${u}`,r&&(l<0&&(l=l%wc+wc),l>x3?this._append`A${r},${r},0,1,${d},${e-s},${n-f}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:l>vr&&this._append`A${r},${r},0,${+(l>=yc)},${d},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Mr(t=3){return new mp(+t)}function $3(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Xo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wi(t){return t=Xo(Math.abs(t)),t?t[1]:NaN}function S3(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],f=0;i>0&&s>0&&(f+s+1>r&&(s=Math.max(1,r-f)),a.push(n.substring(i-=s,i+s)),!((f+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function T3(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var A3=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function va(t){if(!(e=A3.exec(t)))throw new Error("invalid format: "+t);var e;return new Cu({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}va.prototype=Cu.prototype;function Cu(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Cu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function N3(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var bp;function C3(t,e){var n=Xo(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(bp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Xo(t,Math.max(0,e+a-1))[0]}function Vl(t,e){var n=Xo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Xl={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:$3,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Vl(t*100,e),r:Vl,s:C3,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Zl(t){return t}var Ql=Array.prototype.map,Kl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function k3(t){var e=t.grouping===void 0||t.thousands===void 0?Zl:S3(Ql.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?Zl:T3(Ql.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",f=t.nan===void 0?"NaN":t.nan+"";function c(d){d=va(d);var l=d.fill,h=d.align,p=d.sign,m=d.symbol,b=d.zero,y=d.width,v=d.comma,$=d.precision,_=d.trim,N=d.type;N==="n"?(v=!0,N="g"):Xl[N]||($===void 0&&($=12),_=!0,N="g"),(b||l==="0"&&h==="=")&&(b=!0,l="0",h="=");var x=m==="$"?n:m==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",A=m==="$"?r:/[%p]/.test(N)?o:"",C=Xl[N],k=/[defgprs%]/.test(N);$=$===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,$)):Math.max(0,Math.min(20,$));function E(S){var F=x,O=A,R,T,P;if(N==="c")O=C(S)+O,S="";else{S=+S;var Z=S<0||1/S<0;if(S=isNaN(S)?f:C(Math.abs(S),$),_&&(S=N3(S)),Z&&+S==0&&p!=="+"&&(Z=!1),F=(Z?p==="("?p:s:p==="-"||p==="("?"":p)+F,O=(N==="s"?Kl[8+bp/3]:"")+O+(Z&&p==="("?")":""),k){for(R=-1,T=S.length;++R<T;)if(P=S.charCodeAt(R),48>P||P>57){O=(P===46?i+S.slice(R+1):S.slice(R))+O,S=S.slice(0,R);break}}}v&&!b&&(S=e(S,1/0));var H=F.length+S.length+O.length,I=H<y?new Array(y-H+1).join(l):"";switch(v&&b&&(S=e(I+S,I.length?y-O.length:1/0),I=""),h){case"<":S=F+S+O+I;break;case"=":S=F+I+S+O;break;case"^":S=I.slice(0,H=I.length>>1)+F+S+O+I.slice(H);break;default:S=I+F+S+O;break}return a(S)}return E.toString=function(){return d+""},E}function u(d,l){var h=c((d=va(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(wi(l)/3)))*3,m=Math.pow(10,-p),b=Kl[8+p/3];return function(y){return h(m*y)+b}}return{format:c,formatPrefix:u}}var co,Fi,gp;E3({thousands:",",grouping:[3],currency:["$",""]});function E3(t){return co=k3(t),Fi=co.format,gp=co.formatPrefix,co}function D3(t){return Math.max(0,-wi(Math.abs(t)))}function L3(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wi(e)/3)))*3-wi(Math.abs(t)))}function R3(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wi(e)-wi(t))+1}var lt=1e-6,_p=1e-12,ht=Math.PI,Ut=ht/2,Jl=ht/4,ke=ht*2,pe=180/ht,qt=ht/180,$t=Math.abs,Oi=Math.atan,Pn=Math.atan2,dt=Math.cos,vp=Math.exp,Zo=Math.log,$f=Math.pow,ft=Math.sin,ze=Math.sign||function(t){return t>0?1:t<0?-1:0},xe=Math.sqrt,ku=Math.tan;function yp(t){return t>1?0:t<-1?ht:Math.acos(t)}function Ye(t){return t>1?Ut:t<-1?-Ut:Math.asin(t)}function Ue(){}function Qo(t,e){t&&ed.hasOwnProperty(t.type)&&ed[t.type](t,e)}var td={Feature:function(t,e){Qo(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Qo(n[r].geometry,e)}},ed={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){xc(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)xc(n[r],e,0)},Polygon:function(t,e){nd(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)nd(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Qo(n[r],e)}};function xc(t,e,n){var r=-1,i=t.length-n,a;for(e.lineStart();++r<i;)a=t[r],e.point(a[0],a[1],a[2]);e.lineEnd()}function nd(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)xc(t[n],e,1);e.polygonEnd()}function yr(t,e){t&&td.hasOwnProperty(t.type)?td[t.type](t,e):Qo(t,e)}function Mc(t){return[Pn(t[1],t[0]),Ye(t[2])]}function xi(t){var e=t[0],n=t[1],r=dt(n);return[r*dt(e),r*ft(e),ft(n)]}function uo(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Ko(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Sf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function lo(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function $c(t){var e=xe(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Sc(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function Tc(t,e){return $t(t)>ht&&(t-=Math.round(t/ke)*ke),[t,e]}Tc.invert=Tc;function wp(t,e,n){return(t%=ke)?e||n?Sc(id(t),ad(e,n)):id(t):e||n?ad(e,n):Tc}function rd(t){return function(e,n){return e+=t,$t(e)>ht&&(e-=Math.round(e/ke)*ke),[e,n]}}function id(t){var e=rd(t);return e.invert=rd(-t),e}function ad(t,e){var n=dt(t),r=ft(t),i=dt(e),a=ft(e);function o(s,f){var c=dt(f),u=dt(s)*c,d=ft(s)*c,l=ft(f),h=l*n+u*r;return[Pn(d*i-h*a,u*n-l*r),Ye(h*i+d*a)]}return o.invert=function(s,f){var c=dt(f),u=dt(s)*c,d=ft(s)*c,l=ft(f),h=l*i-d*a;return[Pn(d*i+l*a,u*n+h*r),Ye(h*n-u*r)]},o}function I3(t){t=wp(t[0]*qt,t[1]*qt,t.length>2?t[2]*qt:0);function e(n){return n=t(n[0]*qt,n[1]*qt),n[0]*=pe,n[1]*=pe,n}return e.invert=function(n){return n=t.invert(n[0]*qt,n[1]*qt),n[0]*=pe,n[1]*=pe,n},e}function F3(t,e,n,r,i,a){if(n){var o=dt(e),s=ft(e),f=r*n;i==null?(i=e+r*ke,a=e-f/2):(i=od(o,i),a=od(o,a),(r>0?i<a:i>a)&&(i+=r*ke));for(var c,u=i;r>0?u>a:u<a;u-=f)c=Mc([o,-s*dt(u),-s*ft(u)]),t.point(c[0],c[1])}}function od(t,e){e=xi(e),e[0]-=t,$c(e);var n=yp(-e[1]);return((-e[2]<0?-n:n)+ke-lt)%ke}function xp(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:Ue,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function Eo(t,e){return $t(t[0]-e[0])<lt&&$t(t[1]-e[1])<lt}function ho(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Mp(t,e,n,r,i){var a=[],o=[],s,f;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,b=p[0],y=p[m],v;if(Eo(b,y)){if(!b[2]&&!y[2]){for(i.lineStart(),s=0;s<m;++s)i.point((b=p[s])[0],b[1]);i.lineEnd();return}y[0]+=2*lt}a.push(v=new ho(b,p,null,!0)),o.push(v.o=new ho(b,null,v,!1)),a.push(v=new ho(y,p,null,!1)),o.push(v.o=new ho(y,null,v,!0))}}),!!a.length){for(o.sort(e),sd(a),sd(o),s=0,f=o.length;s<f;++s)o[s].e=n=!n;for(var c=a[0],u,d;;){for(var l=c,h=!0;l.v;)if((l=l.n)===c)return;u=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(s=0,f=u.length;s<f;++s)i.point((d=u[s])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(u=l.p.z,s=u.length-1;s>=0;--s)i.point((d=u[s])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,u=l.z,h=!h}while(!l.v);i.lineEnd()}}}function sd(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function Tf(t){return $t(t[0])<=ht?t[0]:ze(t[0])*(($t(t[0])+ht)%ke-ht)}function O3(t,e){var n=Tf(e),r=e[1],i=ft(r),a=[ft(n),-dt(n),0],o=0,s=0,f=new Lr;i===1?r=Ut+lt:i===-1&&(r=-Ut-lt);for(var c=0,u=t.length;c<u;++c)if(l=(d=t[c]).length)for(var d,l,h=d[l-1],p=Tf(h),m=h[1]/2+Jl,b=ft(m),y=dt(m),v=0;v<l;++v,p=_,b=x,y=A,h=$){var $=d[v],_=Tf($),N=$[1]/2+Jl,x=ft(N),A=dt(N),C=_-p,k=C>=0?1:-1,E=k*C,S=E>ht,F=b*x;if(f.add(Pn(F*k*ft(E),y*A+F*dt(E))),o+=S?C+k*ke:C,S^p>=n^_>=n){var O=Ko(xi(h),xi($));$c(O);var R=Ko(a,O);$c(R);var T=(S^C>=0?-1:1)*Ye(R[2]);(r>T||r===T&&(O[0]||O[1]))&&(s+=S^C>=0?1:-1)}}return(o<-lt||o<lt&&f<-_p)^s&1}function $p(t,e,n,r){return function(i){var a=e(i),o=xp(),s=e(o),f=!1,c,u,d,l={point:h,lineStart:m,lineEnd:b,polygonStart:function(){l.point=y,l.lineStart=v,l.lineEnd=$,u=[],c=[]},polygonEnd:function(){l.point=h,l.lineStart=m,l.lineEnd=b,u=D0(u);var _=O3(c,r);u.length?(f||(i.polygonStart(),f=!0),Mp(u,q3,_,n,i)):_&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),u=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(_,N){t(_,N)&&i.point(_,N)}function p(_,N){a.point(_,N)}function m(){l.point=p,a.lineStart()}function b(){l.point=h,a.lineEnd()}function y(_,N){d.push([_,N]),s.point(_,N)}function v(){s.lineStart(),d=[]}function $(){y(d[0][0],d[0][1]),s.lineEnd();var _=s.clean(),N=o.result(),x,A=N.length,C,k,E;if(d.pop(),c.push(d),d=null,!!A){if(_&1){if(k=N[0],(C=k.length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),x=0;x<C;++x)i.point((E=k[x])[0],E[1]);i.lineEnd()}return}A>1&&_&2&&N.push(N.pop().concat(N.shift())),u.push(N.filter(P3))}}return l}}function P3(t){return t.length>1}function q3(t,e){return((t=t.x)[0]<0?t[1]-Ut-lt:Ut-t[1])-((e=e.x)[0]<0?e[1]-Ut-lt:Ut-e[1])}const fd=$p(function(){return!0},z3,j3,[-ht,-Ut]);function z3(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(a,o){var s=a>0?ht:-ht,f=$t(a-e);$t(f-ht)<lt?(t.point(e,n=(n+o)/2>0?Ut:-Ut),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),i=0):r!==s&&f>=ht&&($t(e-r)<lt&&(e-=r*lt),$t(a-s)<lt&&(a-=s*lt),n=U3(e,n,a,o),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(s,n),i=0),t.point(e=a,n=o),r=s},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function U3(t,e,n,r){var i,a,o=ft(t-n);return $t(o)>lt?Oi((ft(e)*(a=dt(r))*ft(n)-ft(r)*(i=dt(e))*ft(t))/(i*a*o)):(e+r)/2}function j3(t,e,n,r){var i;if(t==null)i=n*Ut,r.point(-ht,i),r.point(0,i),r.point(ht,i),r.point(ht,0),r.point(ht,-i),r.point(0,-i),r.point(-ht,-i),r.point(-ht,0),r.point(-ht,i);else if($t(t[0]-e[0])>lt){var a=t[0]<e[0]?ht:-ht;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(e[0],e[1])}function H3(t){var e=dt(t),n=2*qt,r=e>0,i=$t(e)>lt;function a(u,d,l,h){F3(h,t,n,l,u,d)}function o(u,d){return dt(u)*dt(d)>e}function s(u){var d,l,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(b,y){var v=[b,y],$,_=o(b,y),N=r?_?0:c(b,y):_?c(b+(b<0?ht:-ht),y):0;if(!d&&(p=h=_)&&u.lineStart(),_!==h&&($=f(d,v),(!$||Eo(d,$)||Eo(v,$))&&(v[2]=1)),_!==h)m=0,_?(u.lineStart(),$=f(v,d),u.point($[0],$[1])):($=f(d,v),u.point($[0],$[1],2),u.lineEnd()),d=$;else if(i&&d&&r^_){var x;!(N&l)&&(x=f(v,d,!0))&&(m=0,r?(u.lineStart(),u.point(x[0][0],x[0][1]),u.point(x[1][0],x[1][1]),u.lineEnd()):(u.point(x[1][0],x[1][1]),u.lineEnd(),u.lineStart(),u.point(x[0][0],x[0][1],3)))}_&&(!d||!Eo(d,v))&&u.point(v[0],v[1]),d=v,h=_,l=N},lineEnd:function(){h&&u.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function f(u,d,l){var h=xi(u),p=xi(d),m=[1,0,0],b=Ko(h,p),y=uo(b,b),v=b[0],$=y-v*v;if(!$)return!l&&u;var _=e*y/$,N=-e*v/$,x=Ko(m,b),A=lo(m,_),C=lo(b,N);Sf(A,C);var k=x,E=uo(A,k),S=uo(k,k),F=E*E-S*(uo(A,A)-1);if(!(F<0)){var O=xe(F),R=lo(k,(-E-O)/S);if(Sf(R,A),R=Mc(R),!l)return R;var T=u[0],P=d[0],Z=u[1],H=d[1],I;P<T&&(I=T,T=P,P=I);var Y=P-T,Q=$t(Y-ht)<lt,W=Q||Y<lt;if(!Q&&H<Z&&(I=Z,Z=H,H=I),W?Q?Z+H>0^R[1]<($t(R[0]-T)<lt?Z:H):Z<=R[1]&&R[1]<=H:Y>ht^(T<=R[0]&&R[0]<=P)){var G=lo(k,(-E+O)/S);return Sf(G,A),[R,Mc(G)]}}}function c(u,d){var l=r?t:ht-t,h=0;return u<-l?h|=1:u>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return $p(o,s,a,r?[0,-t]:[-ht,t-ht])}function Y3(t,e,n,r,i,a){var o=t[0],s=t[1],f=e[0],c=e[1],u=0,d=1,l=f-o,h=c-s,p;if(p=n-o,!(!l&&p>0)){if(p/=l,l<0){if(p<u)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>u&&(u=p)}if(p=i-o,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>u&&(u=p)}else if(l>0){if(p<u)return;p<d&&(d=p)}if(p=r-s,!(!h&&p>0)){if(p/=h,h<0){if(p<u)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>u&&(u=p)}if(p=a-s,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>u&&(u=p)}else if(h>0){if(p<u)return;p<d&&(d=p)}return u>0&&(t[0]=o+u*l,t[1]=s+u*h),d<1&&(e[0]=o+d*l,e[1]=s+d*h),!0}}}}}var Ki=1e9,po=-Ki;function Sp(t,e,n,r){function i(c,u){return t<=c&&c<=n&&e<=u&&u<=r}function a(c,u,d,l){var h=0,p=0;if(c==null||(h=o(c,d))!==(p=o(u,d))||f(c,u)<0^d>0)do l.point(h===0||h===3?t:n,h>1?r:e);while((h=(h+d+4)%4)!==p);else l.point(u[0],u[1])}function o(c,u){return $t(c[0]-t)<lt?u>0?0:3:$t(c[0]-n)<lt?u>0?2:1:$t(c[1]-e)<lt?u>0?1:0:u>0?3:2}function s(c,u){return f(c.x,u.x)}function f(c,u){var d=o(c,1),l=o(u,1);return d!==l?d-l:d===0?u[1]-c[1]:d===1?c[0]-u[0]:d===2?c[1]-u[1]:u[0]-c[0]}return function(c){var u=c,d=xp(),l,h,p,m,b,y,v,$,_,N,x,A={point:C,lineStart:F,lineEnd:O,polygonStart:E,polygonEnd:S};function C(T,P){i(T,P)&&u.point(T,P)}function k(){for(var T=0,P=0,Z=h.length;P<Z;++P)for(var H=h[P],I=1,Y=H.length,Q=H[0],W,G,et=Q[0],U=Q[1];I<Y;++I)W=et,G=U,Q=H[I],et=Q[0],U=Q[1],G<=r?U>r&&(et-W)*(r-G)>(U-G)*(t-W)&&++T:U<=r&&(et-W)*(r-G)<(U-G)*(t-W)&&--T;return T}function E(){u=d,l=[],h=[],x=!0}function S(){var T=k(),P=x&&T,Z=(l=D0(l)).length;(P||Z)&&(c.polygonStart(),P&&(c.lineStart(),a(null,null,1,c),c.lineEnd()),Z&&Mp(l,s,T,a,c),c.polygonEnd()),u=c,l=h=p=null}function F(){A.point=R,h&&h.push(p=[]),N=!0,_=!1,v=$=NaN}function O(){l&&(R(m,b),y&&_&&d.rejoin(),l.push(d.result())),A.point=C,_&&u.lineEnd()}function R(T,P){var Z=i(T,P);if(h&&p.push([T,P]),N)m=T,b=P,y=Z,N=!1,Z&&(u.lineStart(),u.point(T,P));else if(Z&&_)u.point(T,P);else{var H=[v=Math.max(po,Math.min(Ki,v)),$=Math.max(po,Math.min(Ki,$))],I=[T=Math.max(po,Math.min(Ki,T)),P=Math.max(po,Math.min(Ki,P))];Y3(H,I,t,e,n,r)?(_||(u.lineStart(),u.point(H[0],H[1])),u.point(I[0],I[1]),Z||u.lineEnd(),x=!1):Z&&(u.lineStart(),u.point(T,P),x=!1)}v=T,$=P,_=Z}return A}}const Ac=t=>t;var Af=new Lr,Nc=new Lr,Tp,Ap,Cc,kc,En={point:Ue,lineStart:Ue,lineEnd:Ue,polygonStart:function(){En.lineStart=B3,En.lineEnd=G3},polygonEnd:function(){En.lineStart=En.lineEnd=En.point=Ue,Af.add($t(Nc)),Nc=new Lr},result:function(){var t=Af/2;return Af=new Lr,t}};function B3(){En.point=W3}function W3(t,e){En.point=Np,Tp=Cc=t,Ap=kc=e}function Np(t,e){Nc.add(kc*t-Cc*e),Cc=t,kc=e}function G3(){Np(Tp,Ap)}var Mi=1/0,Jo=Mi,ya=-Mi,ts=ya,es={point:V3,lineStart:Ue,lineEnd:Ue,polygonStart:Ue,polygonEnd:Ue,result:function(){var t=[[Mi,Jo],[ya,ts]];return ya=ts=-(Jo=Mi=1/0),t}};function V3(t,e){t<Mi&&(Mi=t),t>ya&&(ya=t),e<Jo&&(Jo=e),e>ts&&(ts=e)}var Ec=0,Dc=0,Ji=0,ns=0,rs=0,ai=0,Lc=0,Rc=0,ta=0,Cp,kp,sn,fn,Oe={point:Pr,lineStart:cd,lineEnd:ud,polygonStart:function(){Oe.lineStart=Q3,Oe.lineEnd=K3},polygonEnd:function(){Oe.point=Pr,Oe.lineStart=cd,Oe.lineEnd=ud},result:function(){var t=ta?[Lc/ta,Rc/ta]:ai?[ns/ai,rs/ai]:Ji?[Ec/Ji,Dc/Ji]:[NaN,NaN];return Ec=Dc=Ji=ns=rs=ai=Lc=Rc=ta=0,t}};function Pr(t,e){Ec+=t,Dc+=e,++Ji}function cd(){Oe.point=X3}function X3(t,e){Oe.point=Z3,Pr(sn=t,fn=e)}function Z3(t,e){var n=t-sn,r=e-fn,i=xe(n*n+r*r);ns+=i*(sn+t)/2,rs+=i*(fn+e)/2,ai+=i,Pr(sn=t,fn=e)}function ud(){Oe.point=Pr}function Q3(){Oe.point=J3}function K3(){Ep(Cp,kp)}function J3(t,e){Oe.point=Ep,Pr(Cp=sn=t,kp=fn=e)}function Ep(t,e){var n=t-sn,r=e-fn,i=xe(n*n+r*r);ns+=i*(sn+t)/2,rs+=i*(fn+e)/2,ai+=i,i=fn*t-sn*e,Lc+=i*(sn+t),Rc+=i*(fn+e),ta+=i*3,Pr(sn=t,fn=e)}function Dp(t){this._context=t}Dp.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,ke);break}}},result:Ue};var Ic=new Lr,Nf,Lp,Rp,ea,na,wa={point:Ue,lineStart:function(){wa.point=tx},lineEnd:function(){Nf&&Ip(Lp,Rp),wa.point=Ue},polygonStart:function(){Nf=!0},polygonEnd:function(){Nf=null},result:function(){var t=+Ic;return Ic=new Lr,t}};function tx(t,e){wa.point=Ip,Lp=ea=t,Rp=na=e}function Ip(t,e){ea-=t,na-=e,Ic.add(xe(ea*ea+na*na)),ea=t,na=e}let ld,is,dd,hd;class pd{constructor(e){this._append=e==null?Fp:ex(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==dd||this._append!==is){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,dd=r,is=this._append,hd=this._,this._=i}this._+=hd;break}}}result(){const e=this._;return this._="",e.length?e:null}}function Fp(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ex(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return Fp;if(e!==ld){const n=10**e;ld=e,is=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return is}function Eu(t,e){let n=3,r=4.5,i,a;function o(s){return s&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),yr(s,i(a))),a.result()}return o.area=function(s){return yr(s,i(En)),En.result()},o.measure=function(s){return yr(s,i(wa)),wa.result()},o.bounds=function(s){return yr(s,i(es)),es.result()},o.centroid=function(s){return yr(s,i(Oe)),Oe.result()},o.projection=function(s){return arguments.length?(i=s==null?(t=null,Ac):(t=s).stream,o):t},o.context=function(s){return arguments.length?(a=s==null?(e=null,new pd(n)):new Dp(e=s),typeof r!="function"&&a.pointRadius(r),o):e},o.pointRadius=function(s){return arguments.length?(r=typeof s=="function"?s:(a.pointRadius(+s),+s),o):r},o.digits=function(s){if(!arguments.length)return n;if(s==null)n=null;else{const f=Math.floor(s);if(!(f>=0))throw new RangeError(`invalid digits: ${s}`);n=f}return e===null&&(a=new pd(n)),o},o.projection(t).digits(n).context(e)}function as(t){return{stream:Fs(t)}}function Fs(t){return function(e){var n=new Fc;for(var r in t)n[r]=t[r];return n.stream=e,n}}function Fc(){}Fc.prototype={constructor:Fc,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Du(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),yr(n,t.stream(es)),e(es.result()),r!=null&&t.clipExtent(r),t}function Lu(t,e,n){return Du(t,function(r){var i=e[1][0]-e[0][0],a=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),s=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,f=+e[0][1]+(a-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([s,f])},n)}function Op(t,e,n){return Lu(t,[[0,0],e],n)}function Pp(t,e,n){return Du(t,function(r){var i=+e,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,s=-a*r[0][1];t.scale(150*a).translate([o,s])},n)}function qp(t,e,n){return Du(t,function(r){var i=+e,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],s=(i-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([o,s])},n)}var md=16,nx=dt(30*qt);function bd(t,e){return+e?ix(t,e):rx(t)}function rx(t){return Fs({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function ix(t,e){function n(r,i,a,o,s,f,c,u,d,l,h,p,m,b){var y=c-r,v=u-i,$=y*y+v*v;if($>4*e&&m--){var _=o+l,N=s+h,x=f+p,A=xe(_*_+N*N+x*x),C=Ye(x/=A),k=$t($t(x)-1)<lt||$t(a-d)<lt?(a+d)/2:Pn(N,_),E=t(k,C),S=E[0],F=E[1],O=S-r,R=F-i,T=v*O-y*R;(T*T/$>e||$t((y*O+v*R)/$-.5)>.3||o*l+s*h+f*p<nx)&&(n(r,i,a,o,s,f,S,F,k,_/=A,N/=A,x,m,b),b.point(S,F),n(S,F,k,_,N,x,c,u,d,l,h,p,m,b))}}return function(r){var i,a,o,s,f,c,u,d,l,h,p,m,b={point:y,lineStart:v,lineEnd:_,polygonStart:function(){r.polygonStart(),b.lineStart=N},polygonEnd:function(){r.polygonEnd(),b.lineStart=v}};function y(C,k){C=t(C,k),r.point(C[0],C[1])}function v(){d=NaN,b.point=$,r.lineStart()}function $(C,k){var E=xi([C,k]),S=t(C,k);n(d,l,u,h,p,m,d=S[0],l=S[1],u=C,h=E[0],p=E[1],m=E[2],md,r),r.point(d,l)}function _(){b.point=y,r.lineEnd()}function N(){v(),b.point=x,b.lineEnd=A}function x(C,k){$(i=C,k),a=d,o=l,s=h,f=p,c=m,b.point=$}function A(){n(d,l,u,h,p,m,a,o,i,s,f,c,md,r),b.lineEnd=_,_()}return b}}var ax=Fs({point:function(t,e){this.stream.point(t*qt,e*qt)}});function ox(t){return Fs({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function sx(t,e,n,r,i){function a(o,s){return o*=r,s*=i,[e+t*o,n-t*s]}return a.invert=function(o,s){return[(o-e)/t*r,(n-s)/t*i]},a}function gd(t,e,n,r,i,a){if(!a)return sx(t,e,n,r,i);var o=dt(a),s=ft(a),f=o*t,c=s*t,u=o/t,d=s/t,l=(s*n-o*e)/t,h=(s*e+o*n)/t;function p(m,b){return m*=r,b*=i,[f*m-c*b+e,n-c*m-f*b]}return p.invert=function(m,b){return[r*(u*m-d*b+l),i*(h-d*m-u*b)]},p}function pr(t){return zp(function(){return t})()}function zp(t){var e,n=150,r=480,i=250,a=0,o=0,s=0,f=0,c=0,u,d=0,l=1,h=1,p=null,m=fd,b=null,y,v,$,_=Ac,N=.5,x,A,C,k,E;function S(T){return C(T[0]*qt,T[1]*qt)}function F(T){return T=C.invert(T[0],T[1]),T&&[T[0]*pe,T[1]*pe]}S.stream=function(T){return k&&E===T?k:k=ax(ox(u)(m(x(_(E=T)))))},S.preclip=function(T){return arguments.length?(m=T,p=void 0,R()):m},S.postclip=function(T){return arguments.length?(_=T,b=y=v=$=null,R()):_},S.clipAngle=function(T){return arguments.length?(m=+T?H3(p=T*qt):(p=null,fd),R()):p*pe},S.clipExtent=function(T){return arguments.length?(_=T==null?(b=y=v=$=null,Ac):Sp(b=+T[0][0],y=+T[0][1],v=+T[1][0],$=+T[1][1]),R()):b==null?null:[[b,y],[v,$]]},S.scale=function(T){return arguments.length?(n=+T,O()):n},S.translate=function(T){return arguments.length?(r=+T[0],i=+T[1],O()):[r,i]},S.center=function(T){return arguments.length?(a=T[0]%360*qt,o=T[1]%360*qt,O()):[a*pe,o*pe]},S.rotate=function(T){return arguments.length?(s=T[0]%360*qt,f=T[1]%360*qt,c=T.length>2?T[2]%360*qt:0,O()):[s*pe,f*pe,c*pe]},S.angle=function(T){return arguments.length?(d=T%360*qt,O()):d*pe},S.reflectX=function(T){return arguments.length?(l=T?-1:1,O()):l<0},S.reflectY=function(T){return arguments.length?(h=T?-1:1,O()):h<0},S.precision=function(T){return arguments.length?(x=bd(A,N=T*T),R()):xe(N)},S.fitExtent=function(T,P){return Lu(S,T,P)},S.fitSize=function(T,P){return Op(S,T,P)},S.fitWidth=function(T,P){return Pp(S,T,P)},S.fitHeight=function(T,P){return qp(S,T,P)};function O(){var T=gd(n,0,0,l,h,d).apply(null,e(a,o)),P=gd(n,r-T[0],i-T[1],l,h,d);return u=wp(s,f,c),A=Sc(e,P),C=Sc(u,A),x=bd(A,N),R()}function R(){return k=E=null,S}return function(){return e=t.apply(this,arguments),S.invert=e.invert&&F,O()}}function Ru(t){var e=0,n=ht/3,r=zp(t),i=r(e,n);return i.parallels=function(a){return arguments.length?r(e=a[0]*qt,n=a[1]*qt):[e*pe,n*pe]},i}function fx(t){var e=dt(t);function n(r,i){return[r*e,ft(i)/e]}return n.invert=function(r,i){return[r/e,Ye(i*e)]},n}function cx(t,e){var n=ft(t),r=(n+ft(e))/2;if($t(r)<lt)return fx(t);var i=1+n*(2*r-n),a=xe(i)/r;function o(s,f){var c=xe(i-2*r*ft(f))/r;return[c*ft(s*=r),a-c*dt(s)]}return o.invert=function(s,f){var c=a-f,u=Pn(s,$t(c))*ze(c);return c*r<0&&(u-=ht*ze(s)*ze(c)),[u/r,Ye((i-(s*s+c*c)*r*r)/(2*r))]},o}function os(){return Ru(cx).scale(155.424).center([0,33.6442])}function Up(){return os().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function ux(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function lx(){var t,e,n=Up(),r,i=os().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=os().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,f,c={point:function(l,h){f=[l,h]}};function u(l){var h=l[0],p=l[1];return f=null,r.point(h,p),f||(a.point(h,p),f)||(s.point(h,p),f)}u.invert=function(l){var h=n.scale(),p=n.translate(),m=(l[0]-p[0])/h,b=(l[1]-p[1])/h;return(b>=.12&&b<.234&&m>=-.425&&m<-.214?i:b>=.166&&b<.234&&m>=-.214&&m<-.115?o:n).invert(l)},u.stream=function(l){return t&&e===l?t:t=ux([n.stream(e=l),i.stream(l),o.stream(l)])},u.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),o.precision(l),d()):n.precision()},u.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),o.scale(l),u.translate(n.translate())):n.scale()},u.translate=function(l){if(!arguments.length)return n.translate();var h=n.scale(),p=+l[0],m=+l[1];return r=n.translate(l).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(c),a=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+lt,m+.12*h+lt],[p-.214*h-lt,m+.234*h-lt]]).stream(c),s=o.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+lt,m+.166*h+lt],[p-.115*h-lt,m+.234*h-lt]]).stream(c),d()},u.fitExtent=function(l,h){return Lu(u,l,h)},u.fitSize=function(l,h){return Op(u,l,h)},u.fitWidth=function(l,h){return Pp(u,l,h)},u.fitHeight=function(l,h){return qp(u,l,h)};function d(){return t=e=null,u}return u.scale(1070)}function jp(t){return function(e,n){var r=dt(e),i=dt(n),a=t(r*i);return a===1/0?[2,0]:[a*i*ft(e),a*ft(n)]}}function Pa(t){return function(e,n){var r=xe(e*e+n*n),i=t(r),a=ft(i),o=dt(i);return[Pn(e*a,r*o),Ye(r&&n*a/r)]}}var Hp=jp(function(t){return xe(2/(1+t))});Hp.invert=Pa(function(t){return 2*Ye(t/2)});function dx(){return pr(Hp).scale(124.75).clipAngle(180-.001)}var Yp=jp(function(t){return(t=yp(t))&&t/ft(t)});Yp.invert=Pa(function(t){return t});function hx(){return pr(Yp).scale(79.4188).clipAngle(180-.001)}function Os(t,e){return[t,Zo(ku((Ut+e)/2))]}Os.invert=function(t,e){return[t,2*Oi(vp(e))-Ut]};function px(){return Bp(Os).scale(961/ke)}function Bp(t){var e=pr(t),n=e.center,r=e.scale,i=e.translate,a=e.clipExtent,o=null,s,f,c;e.scale=function(d){return arguments.length?(r(d),u()):r()},e.translate=function(d){return arguments.length?(i(d),u()):i()},e.center=function(d){return arguments.length?(n(d),u()):n()},e.clipExtent=function(d){return arguments.length?(d==null?o=s=f=c=null:(o=+d[0][0],s=+d[0][1],f=+d[1][0],c=+d[1][1]),u()):o==null?null:[[o,s],[f,c]]};function u(){var d=ht*r(),l=e(I3(e.rotate()).invert([0,0]));return a(o==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===Os?[[Math.max(l[0]-d,o),s],[Math.min(l[0]+d,f),c]]:[[o,Math.max(l[1]-d,s)],[f,Math.min(l[1]+d,c)]])}return u()}function mo(t){return ku((Ut+t)/2)}function mx(t,e){var n=dt(t),r=t===e?ft(t):Zo(n/dt(e))/Zo(mo(e)/mo(t)),i=n*$f(mo(t),r)/r;if(!r)return Os;function a(o,s){i>0?s<-Ut+lt&&(s=-Ut+lt):s>Ut-lt&&(s=Ut-lt);var f=i/$f(mo(s),r);return[f*ft(r*o),i-f*dt(r*o)]}return a.invert=function(o,s){var f=i-s,c=ze(r)*xe(o*o+f*f),u=Pn(o,$t(f))*ze(f);return f*r<0&&(u-=ht*ze(o)*ze(f)),[u/r,2*Oi($f(i/c,1/r))-Ut]},a}function bx(){return Ru(mx).scale(109.5).parallels([30,30])}function ss(t,e){return[t,e]}ss.invert=ss;function gx(){return pr(ss).scale(152.63)}function _x(t,e){var n=dt(t),r=t===e?ft(t):(n-dt(e))/(e-t),i=n/r+t;if($t(r)<lt)return ss;function a(o,s){var f=i-s,c=r*o;return[f*ft(c),i-f*dt(c)]}return a.invert=function(o,s){var f=i-s,c=Pn(o,$t(f))*ze(f);return f*r<0&&(c-=ht*ze(o)*ze(f)),[c/r,i-ze(r)*xe(o*o+f*f)]},a}function vx(){return Ru(_x).scale(131.154).center([0,13.9389])}var fa=1.340264,ca=-.081106,ua=893e-6,la=.003796,fs=xe(3)/2,yx=12;function Wp(t,e){var n=Ye(fs*ft(e)),r=n*n,i=r*r*r;return[t*dt(n)/(fs*(fa+3*ca*r+i*(7*ua+9*la*r))),n*(fa+ca*r+i*(ua+la*r))]}Wp.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,a=0,o,s,f;a<yx&&(s=n*(fa+ca*r+i*(ua+la*r))-e,f=fa+3*ca*r+i*(7*ua+9*la*r),n-=o=s/f,r=n*n,i=r*r*r,!($t(o)<_p));++a);return[fs*t*(fa+3*ca*r+i*(7*ua+9*la*r))/dt(n),Ye(ft(n)/fs)]};function wx(){return pr(Wp).scale(177.158)}function Gp(t,e){var n=dt(e),r=dt(t)*n;return[n*ft(t)/r,ft(e)/r]}Gp.invert=Pa(Oi);function xx(){return pr(Gp).scale(144.049).clipAngle(60)}function Vp(t,e){return[dt(e)*ft(t),ft(e)]}Vp.invert=Pa(Ye);function Mx(){return pr(Vp).scale(249.5).clipAngle(90+lt)}function Xp(t,e){var n=dt(e),r=1+dt(t)*n;return[n*ft(t)/r,ft(e)/r]}Xp.invert=Pa(function(t){return 2*Oi(t)});function $x(){return pr(Xp).scale(250).clipAngle(142)}function Zp(t,e){return[Zo(ku((Ut+e)/2)),-t]}Zp.invert=function(t,e){return[-e,2*Oi(vp(t))-Ut]};function Sx(){var t=Bp(Zp),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function wn(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ps(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Oc=Symbol("implicit");function Iu(){var t=new pa,e=[],n=[],r=Oc;function i(a){let o=t.get(a);if(o===void 0){if(r!==Oc)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new pa;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Iu(e,n).unknown(r)},wn.apply(i,arguments),i}function qs(){var t=Iu().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,f=0,c=0,u=.5;delete t.unknown;function d(){var l=e().length,h=i<r,p=h?i:r,m=h?r:i;a=(m-p)/Math.max(1,l-f+c*2),s&&(a=Math.floor(a)),p+=(m-p-a*(l-f))*u,o=a*(1-f),s&&(p=Math.round(p),o=Math.round(o));var b=uc(l).map(function(y){return p+a*y});return n(h?b.reverse():b)}return t.domain=function(l){return arguments.length?(e(l),d()):e()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,s=!0,d()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(l){return arguments.length?(s=!!l,d()):s},t.padding=function(l){return arguments.length?(f=Math.min(1,c=+l),d()):f},t.paddingInner=function(l){return arguments.length?(f=Math.min(1,l),d()):f},t.paddingOuter=function(l){return arguments.length?(c=+l,d()):c},t.align=function(l){return arguments.length?(u=Math.max(0,Math.min(1,l)),d()):u},t.copy=function(){return qs(e(),[r,i]).round(s).paddingInner(f).paddingOuter(c).align(u)},wn.apply(d(),arguments)}function Qp(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Qp(e())},t}function Tx(){return Qp(qs.apply(null,arguments).paddingInner(1))}function Ax(t){return function(){return t}}function Pc(t){return+t}var _d=[0,1];function je(t){return t}function qc(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Ax(isNaN(e)?NaN:.5)}function Nx(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Cx(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=qc(i,r),a=n(o,a)):(r=qc(r,i),a=n(a,o)),function(s){return a(r(s))}}function kx(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=qc(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var f=mu(t,s,1,r)-1;return a[f](i[f](s))}}function qa(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function zs(){var t=_d,e=_d,n=Oa,r,i,a,o=je,s,f,c;function u(){var l=Math.min(t.length,e.length);return o!==je&&(o=Nx(t[0],t[l-1])),s=l>2?kx:Cx,f=c=null,d}function d(l){return l==null||isNaN(l=+l)?a:(f||(f=s(t.map(r),e,n)))(r(o(l)))}return d.invert=function(l){return o(i((c||(c=s(e,t.map(r),re)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,Pc),u()):t.slice()},d.range=function(l){return arguments.length?(e=Array.from(l),u()):e.slice()},d.rangeRound=function(l){return e=Array.from(l),n=$u,u()},d.clamp=function(l){return arguments.length?(o=l?!0:je,u()):o!==je},d.interpolate=function(l){return arguments.length?(n=l,u()):n},d.unknown=function(l){return arguments.length?(a=l,d):a},function(l,h){return r=l,i=h,u()}}function Kp(){return zs()(je,je)}function Ex(t,e,n,r){var i=fc(t,e,n),a;switch(r=va(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=L3(i,o))&&(r.precision=a),gp(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=R3(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=D3(i))&&(r.precision=a-(r.type==="%")*2);break}}return Fi(r)}function za(t){var e=t.domain;return t.ticks=function(n){var r=e();return zo(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Ex(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],f,c,u=10;for(s<o&&(c=o,o=s,s=c,c=i,i=a,a=c);u-- >0;){if(c=sc(o,s,n),c===f)return r[i]=o,r[a]=s,e(r);if(c>0)o=Math.floor(o/c)*c,s=Math.ceil(s/c)*c;else if(c<0)o=Math.ceil(o*c)/c,s=Math.floor(s*c)/c;else break;f=c}return t},t}function Fu(){var t=Kp();return t.copy=function(){return qa(t,Fu())},wn.apply(t,arguments),za(t)}function Jp(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Pc),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Jp(t).unknown(e)},t=arguments.length?Array.from(t,Pc):[0,1],za(n)}function t1(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function vd(t){return Math.log(t)}function yd(t){return Math.exp(t)}function Dx(t){return-Math.log(-t)}function Lx(t){return-Math.exp(-t)}function Rx(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ix(t){return t===10?Rx:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Fx(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function wd(t){return(e,n)=>-t(-e,n)}function e1(t){const e=t(vd,yd),n=e.domain;let r=10,i,a;function o(){return i=Fx(r),a=Ix(r),n()[0]<0?(i=wd(i),a=wd(a),t(Dx,Lx)):t(vd,yd),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const f=n();let c=f[0],u=f[f.length-1];const d=u<c;d&&([c,u]=[u,c]);let l=i(c),h=i(u),p,m;const b=s==null?10:+s;let y=[];if(!(r%1)&&h-l<b){if(l=Math.floor(l),h=Math.ceil(h),c>0){for(;l<=h;++l)for(p=1;p<r;++p)if(m=l<0?p/a(-l):p*a(l),!(m<c)){if(m>u)break;y.push(m)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(m=l>0?p/a(-l):p*a(l),!(m<c)){if(m>u)break;y.push(m)}y.length*2<b&&(y=zo(c,u,b))}else y=zo(l,h,Math.min(h-l,b)).map(a);return d?y.reverse():y},e.tickFormat=(s,f)=>{if(s==null&&(s=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=va(f)).precision==null&&(f.trim=!0),f=Fi(f)),s===1/0)return f;const c=Math.max(1,r*s/e.ticks().length);return u=>{let d=u/a(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?f(u):""}},e.nice=()=>n(t1(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function n1(){const t=e1(zs()).domain([1,10]);return t.copy=()=>qa(t,n1()).base(t.base()),wn.apply(t,arguments),t}function xd(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Md(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function r1(t){var e=1,n=t(xd(e),Md(e));return n.constant=function(r){return arguments.length?t(xd(e=+r),Md(e)):e},za(n)}function i1(){var t=r1(zs());return t.copy=function(){return qa(t,i1()).constant(t.constant())},wn.apply(t,arguments)}function $d(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ox(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Px(t){return t<0?-t*t:t*t}function a1(t){var e=t(je,je),n=1;function r(){return n===1?t(je,je):n===.5?t(Ox,Px):t($d(n),$d(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},za(e)}function o1(){var t=a1(zs());return t.copy=function(){return qa(t,o1()).exponent(t.exponent())},wn.apply(t,arguments),t}function s1(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Dv(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[mu(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(dn),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return s1().domain(t).range(e).unknown(r)},wn.apply(a,arguments)}function f1(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[mu(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return f1().domain(t).range(e).unknown(n)},wn.apply(i,arguments)}const Cf=new Date,kf=new Date;function Bt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const f=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return f;let c;do f.push(c=new Date(+a)),e(a,s),t(a);while(c<a&&a<o);return f},i.filter=a=>Bt(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(Cf.setTime(+a),kf.setTime(+o),t(Cf),t(kf),Math.floor(n(Cf,kf))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const cs=Bt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cs.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Bt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):cs);cs.range;const Ln=1e3,He=Ln*60,Rn=He*60,qn=Rn*24,Ou=qn*7,Sd=qn*30,Ef=qn*365,Ze=Bt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ln)},(t,e)=>(e-t)/Ln,t=>t.getUTCSeconds());Ze.range;const Ua=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ln)},(t,e)=>{t.setTime(+t+e*He)},(t,e)=>(e-t)/He,t=>t.getMinutes());Ua.range;const ja=Bt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*He)},(t,e)=>(e-t)/He,t=>t.getUTCMinutes());ja.range;const Ha=Bt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ln-t.getMinutes()*He)},(t,e)=>{t.setTime(+t+e*Rn)},(t,e)=>(e-t)/Rn,t=>t.getHours());Ha.range;const Ya=Bt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Rn)},(t,e)=>(e-t)/Rn,t=>t.getUTCHours());Ya.range;const Hr=Bt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*He)/qn,t=>t.getDate()-1);Hr.range;const Us=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qn,t=>t.getUTCDate()-1);Us.range;const js=Bt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qn,t=>Math.floor(t/qn));js.range;function Yr(t){return Bt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*He)/Ou)}const $i=Yr(0),xa=Yr(1),c1=Yr(2),u1=Yr(3),qr=Yr(4),l1=Yr(5),d1=Yr(6);$i.range;xa.range;c1.range;u1.range;qr.range;l1.range;d1.range;function Br(t){return Bt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Ou)}const Si=Br(0),Ma=Br(1),h1=Br(2),p1=Br(3),zr=Br(4),m1=Br(5),b1=Br(6);Si.range;Ma.range;h1.range;p1.range;zr.range;m1.range;b1.range;const Ba=Bt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Ba.range;const Wa=Bt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Wa.range;const en=Bt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());en.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});en.range;const nn=Bt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());nn.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Bt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});nn.range;function g1(t,e,n,r,i,a){const o=[[Ze,1,Ln],[Ze,5,5*Ln],[Ze,15,15*Ln],[Ze,30,30*Ln],[a,1,He],[a,5,5*He],[a,15,15*He],[a,30,30*He],[i,1,Rn],[i,3,3*Rn],[i,6,6*Rn],[i,12,12*Rn],[r,1,qn],[r,2,2*qn],[n,1,Ou],[e,1,Sd],[e,3,3*Sd],[t,1,Ef]];function s(c,u,d){const l=u<c;l&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:f(c,u,d),p=h?h.range(c,+u+1):[];return l?p.reverse():p}function f(c,u,d){const l=Math.abs(u-c)/d,h=As(([,,b])=>b).right(o,l);if(h===o.length)return t.every(fc(c/Ef,u/Ef,d));if(h===0)return cs.every(Math.max(fc(c,u,d),1));const[p,m]=o[l/o[h-1][2]<o[h][2]/l?h-1:h];return p.every(m)}return[s,f]}const[qx,zx]=g1(nn,Wa,Si,js,Ya,ja),[Ux,jx]=g1(en,Ba,$i,Hr,Ha,Ua);function Df(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Lf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Yi(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Hx(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,f=t.shortMonths,c=Bi(i),u=Wi(i),d=Bi(a),l=Wi(a),h=Bi(o),p=Wi(o),m=Bi(s),b=Wi(s),y=Bi(f),v=Wi(f),$={a:Z,A:H,b:I,B:Y,c:null,d:Ed,e:Ed,f:d6,g:x6,G:$6,H:c6,I:u6,j:l6,L:_1,m:h6,M:p6,p:Q,q:W,Q:Rd,s:Id,S:m6,u:b6,U:g6,V:_6,w:v6,W:y6,x:null,X:null,y:w6,Y:M6,Z:S6,"%":Ld},_={a:G,A:et,b:U,B:J,c:null,d:Dd,e:Dd,f:C6,g:q6,G:U6,H:T6,I:A6,j:N6,L:y1,m:k6,M:E6,p:j,q:X,Q:Rd,s:Id,S:D6,u:L6,U:R6,V:I6,w:F6,W:O6,x:null,X:null,y:P6,Y:z6,Z:j6,"%":Ld},N={a:E,A:S,b:F,B:O,c:R,d:Cd,e:Cd,f:a6,g:Nd,G:Ad,H:kd,I:kd,j:e6,L:i6,m:t6,M:n6,p:k,q:Jx,Q:s6,s:f6,S:r6,u:Vx,U:Xx,V:Zx,w:Gx,W:Qx,x:T,X:P,y:Nd,Y:Ad,Z:Kx,"%":o6};$.x=x(n,$),$.X=x(r,$),$.c=x(e,$),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_);function x(L,q){return function(z){var D=[],tt=-1,B=0,V=L.length,nt,at,st;for(z instanceof Date||(z=new Date(+z));++tt<V;)L.charCodeAt(tt)===37&&(D.push(L.slice(B,tt)),(at=Td[nt=L.charAt(++tt)])!=null?nt=L.charAt(++tt):at=nt==="e"?" ":"0",(st=q[nt])&&(nt=st(z,at)),D.push(nt),B=tt+1);return D.push(L.slice(B,tt)),D.join("")}}function A(L,q){return function(z){var D=Yi(1900,void 0,1),tt=C(D,L,z+="",0),B,V;if(tt!=z.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(q&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(B=Lf(Yi(D.y,0,1)),V=B.getUTCDay(),B=V>4||V===0?Ma.ceil(B):Ma(B),B=Us.offset(B,(D.V-1)*7),D.y=B.getUTCFullYear(),D.m=B.getUTCMonth(),D.d=B.getUTCDate()+(D.w+6)%7):(B=Df(Yi(D.y,0,1)),V=B.getDay(),B=V>4||V===0?xa.ceil(B):xa(B),B=Hr.offset(B,(D.V-1)*7),D.y=B.getFullYear(),D.m=B.getMonth(),D.d=B.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),V="Z"in D?Lf(Yi(D.y,0,1)).getUTCDay():Df(Yi(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(V+5)%7:D.w+D.U*7-(V+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,Lf(D)):Df(D)}}function C(L,q,z,D){for(var tt=0,B=q.length,V=z.length,nt,at;tt<B;){if(D>=V)return-1;if(nt=q.charCodeAt(tt++),nt===37){if(nt=q.charAt(tt++),at=N[nt in Td?q.charAt(tt++):nt],!at||(D=at(L,z,D))<0)return-1}else if(nt!=z.charCodeAt(D++))return-1}return D}function k(L,q,z){var D=c.exec(q.slice(z));return D?(L.p=u.get(D[0].toLowerCase()),z+D[0].length):-1}function E(L,q,z){var D=h.exec(q.slice(z));return D?(L.w=p.get(D[0].toLowerCase()),z+D[0].length):-1}function S(L,q,z){var D=d.exec(q.slice(z));return D?(L.w=l.get(D[0].toLowerCase()),z+D[0].length):-1}function F(L,q,z){var D=y.exec(q.slice(z));return D?(L.m=v.get(D[0].toLowerCase()),z+D[0].length):-1}function O(L,q,z){var D=m.exec(q.slice(z));return D?(L.m=b.get(D[0].toLowerCase()),z+D[0].length):-1}function R(L,q,z){return C(L,e,q,z)}function T(L,q,z){return C(L,n,q,z)}function P(L,q,z){return C(L,r,q,z)}function Z(L){return o[L.getDay()]}function H(L){return a[L.getDay()]}function I(L){return f[L.getMonth()]}function Y(L){return s[L.getMonth()]}function Q(L){return i[+(L.getHours()>=12)]}function W(L){return 1+~~(L.getMonth()/3)}function G(L){return o[L.getUTCDay()]}function et(L){return a[L.getUTCDay()]}function U(L){return f[L.getUTCMonth()]}function J(L){return s[L.getUTCMonth()]}function j(L){return i[+(L.getUTCHours()>=12)]}function X(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var q=x(L+="",$);return q.toString=function(){return L},q},parse:function(L){var q=A(L+="",!1);return q.toString=function(){return L},q},utcFormat:function(L){var q=x(L+="",_);return q.toString=function(){return L},q},utcParse:function(L){var q=A(L+="",!0);return q.toString=function(){return L},q}}}var Td={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,Yx=/^%/,Bx=/[\\^$*+?|[\]().{}]/g;function yt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Wx(t){return t.replace(Bx,"\\$&")}function Bi(t){return new RegExp("^(?:"+t.map(Wx).join("|")+")","i")}function Wi(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Gx(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Vx(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Xx(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Zx(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Qx(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ad(t,e,n){var r=Xt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Nd(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Kx(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Jx(t,e,n){var r=Xt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function t6(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Cd(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function e6(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function kd(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function n6(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function r6(t,e,n){var r=Xt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function i6(t,e,n){var r=Xt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function a6(t,e,n){var r=Xt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function o6(t,e,n){var r=Yx.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function s6(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function f6(t,e,n){var r=Xt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ed(t,e){return yt(t.getDate(),e,2)}function c6(t,e){return yt(t.getHours(),e,2)}function u6(t,e){return yt(t.getHours()%12||12,e,2)}function l6(t,e){return yt(1+Hr.count(en(t),t),e,3)}function _1(t,e){return yt(t.getMilliseconds(),e,3)}function d6(t,e){return _1(t,e)+"000"}function h6(t,e){return yt(t.getMonth()+1,e,2)}function p6(t,e){return yt(t.getMinutes(),e,2)}function m6(t,e){return yt(t.getSeconds(),e,2)}function b6(t){var e=t.getDay();return e===0?7:e}function g6(t,e){return yt($i.count(en(t)-1,t),e,2)}function v1(t){var e=t.getDay();return e>=4||e===0?qr(t):qr.ceil(t)}function _6(t,e){return t=v1(t),yt(qr.count(en(t),t)+(en(t).getDay()===4),e,2)}function v6(t){return t.getDay()}function y6(t,e){return yt(xa.count(en(t)-1,t),e,2)}function w6(t,e){return yt(t.getFullYear()%100,e,2)}function x6(t,e){return t=v1(t),yt(t.getFullYear()%100,e,2)}function M6(t,e){return yt(t.getFullYear()%1e4,e,4)}function $6(t,e){var n=t.getDay();return t=n>=4||n===0?qr(t):qr.ceil(t),yt(t.getFullYear()%1e4,e,4)}function S6(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function Dd(t,e){return yt(t.getUTCDate(),e,2)}function T6(t,e){return yt(t.getUTCHours(),e,2)}function A6(t,e){return yt(t.getUTCHours()%12||12,e,2)}function N6(t,e){return yt(1+Us.count(nn(t),t),e,3)}function y1(t,e){return yt(t.getUTCMilliseconds(),e,3)}function C6(t,e){return y1(t,e)+"000"}function k6(t,e){return yt(t.getUTCMonth()+1,e,2)}function E6(t,e){return yt(t.getUTCMinutes(),e,2)}function D6(t,e){return yt(t.getUTCSeconds(),e,2)}function L6(t){var e=t.getUTCDay();return e===0?7:e}function R6(t,e){return yt(Si.count(nn(t)-1,t),e,2)}function w1(t){var e=t.getUTCDay();return e>=4||e===0?zr(t):zr.ceil(t)}function I6(t,e){return t=w1(t),yt(zr.count(nn(t),t)+(nn(t).getUTCDay()===4),e,2)}function F6(t){return t.getUTCDay()}function O6(t,e){return yt(Ma.count(nn(t)-1,t),e,2)}function P6(t,e){return yt(t.getUTCFullYear()%100,e,2)}function q6(t,e){return t=w1(t),yt(t.getUTCFullYear()%100,e,2)}function z6(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function U6(t,e){var n=t.getUTCDay();return t=n>=4||n===0?zr(t):zr.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function j6(){return"+0000"}function Ld(){return"%"}function Rd(t){return+t}function Id(t){return Math.floor(+t/1e3)}var ti,Pu,Ga;H6({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function H6(t){return ti=Hx(t),Pu=ti.format,ti.parse,Ga=ti.utcFormat,ti.utcParse,ti}function Y6(t){return new Date(t)}function B6(t){return t instanceof Date?+t:+new Date(+t)}function qu(t,e,n,r,i,a,o,s,f,c){var u=Kp(),d=u.invert,l=u.domain,h=c(".%L"),p=c(":%S"),m=c("%I:%M"),b=c("%I %p"),y=c("%a %d"),v=c("%b %d"),$=c("%B"),_=c("%Y");function N(x){return(f(x)<x?h:s(x)<x?p:o(x)<x?m:a(x)<x?b:r(x)<x?i(x)<x?y:v:n(x)<x?$:_)(x)}return u.invert=function(x){return new Date(d(x))},u.domain=function(x){return arguments.length?l(Array.from(x,B6)):l().map(Y6)},u.ticks=function(x){var A=l();return t(A[0],A[A.length-1],x??10)},u.tickFormat=function(x,A){return A==null?N:c(A)},u.nice=function(x){var A=l();return(!x||typeof x.range!="function")&&(x=e(A[0],A[A.length-1],x??10)),x?l(t1(A,x)):u},u.copy=function(){return qa(u,qu(t,e,n,r,i,a,o,s,f,c))},u}function W6(){return wn.apply(qu(Ux,jx,en,Ba,$i,Hr,Ha,Ua,Ze,Pu).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function G6(){return wn.apply(qu(qx,zx,nn,Wa,Si,Us,Ya,ja,Ze,Ga).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hs(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ys(){var t=0,e=.5,n=1,r=1,i,a,o,s,f,c=je,u,d=!1,l;function h(m){return isNaN(m=+m)?l:(m=.5+((m=+u(m))-a)*(r*m<r*a?s:f),c(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,n]=m,i=u(t=+t),a=u(e=+e),o=u(n=+n),s=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,h):[t,e,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(c=m,h):c};function p(m){return function(b){var y,v,$;return arguments.length?([y,v,$]=b,c=Ls(m,[y,v,$]),h):[c(0),c(.5),c(1)]}}return h.range=p(Oa),h.rangeRound=p($u),h.unknown=function(m){return arguments.length?(l=m,h):l},function(m){return u=m,i=m(t),a=m(e),o=m(n),s=i===a?0:.5/(a-i),f=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function x1(){var t=za(Ys()(je));return t.copy=function(){return Hs(t,x1())},Ps.apply(t,arguments)}function M1(){var t=e1(Ys()).domain([.1,1,10]);return t.copy=function(){return Hs(t,M1()).base(t.base())},Ps.apply(t,arguments)}function $1(){var t=r1(Ys());return t.copy=function(){return Hs(t,$1()).constant(t.constant())},Ps.apply(t,arguments)}function S1(){var t=a1(Ys());return t.copy=function(){return Hs(t,S1()).exponent(t.exponent())},Ps.apply(t,arguments)}function ct(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const V6=ct("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),X6=ct("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Z6=ct("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Q6=ct("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),K6=ct("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),J6=ct("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),t5=ct("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),e5=ct("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),n5=ct("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),r5=ct("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),i5=ct("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),Nt=t=>Gy(t[t.length-1]);var T1=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ct);const A1=Nt(T1);var N1=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ct);const C1=Nt(N1);var k1=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ct);const E1=Nt(k1);var D1=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ct);const L1=Nt(D1);var zc=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ct);const us=Nt(zc);var R1=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ct);const I1=Nt(R1);var Uc=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ct);const ls=Nt(Uc);var F1=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ct);const O1=Nt(F1);var P1=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ct);const q1=Nt(P1);var z1=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ct);const U1=Nt(z1);var j1=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ct);const H1=Nt(j1);var Y1=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ct);const B1=Nt(Y1);var W1=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ct);const G1=Nt(W1);var V1=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ct);const X1=Nt(V1);var Z1=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ct);const Q1=Nt(Z1);var K1=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ct);const J1=Nt(K1);var tm=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ct);const em=Nt(tm);var nm=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ct);const rm=Nt(nm);var im=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ct);const am=Nt(im);var om=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ct);const sm=Nt(om);var fm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ct);const cm=Nt(fm);var um=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ct);const lm=Nt(um);var dm=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ct);const hm=Nt(dm);var pm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ct);const mm=Nt(pm);var bm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ct);const gm=Nt(bm);var _m=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ct);const vm=Nt(_m);var ym=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ct);const wm=Nt(ym);function xm(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const Mm=Su(gn(300,.5,0),gn(-240,.5,1));var $m=Su(gn(-100,.75,.35),gn(80,1.5,.8)),Sm=Su(gn(260,.75,.35),gn(80,1.5,.8)),bo=gn();function Tm(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return bo.h=360*t-100,bo.s=1.5-1.5*e,bo.l=.8-.9*e,bo+""}var go=sr(),a5=Math.PI/3,o5=Math.PI*2/3;function Am(t){var e;return t=(.5-t)*Math.PI,go.r=255*(e=Math.sin(t))*e,go.g=255*(e=Math.sin(t+a5))*e,go.b=255*(e=Math.sin(t+o5))*e,go+""}function Nm(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function Bs(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Cm=Bs(ct("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var km=Bs(ct("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Em=Bs(ct("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Dm=Bs(ct("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function ei(t){return function(){return t}}const Lm=Math.cos,zu=Math.min,ds=Math.sin,Wt=Math.sqrt,Fd=1e-12,hs=Math.PI,Ws=2*hs;function s5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new mp(e)}function f5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Rm(t){this._context=t}Rm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Gs(t){return new Rm(t)}function c5(t){return t[0]}function u5(t){return t[1]}function l5(t,e){var n=ei(!0),r=null,i=Gs,a=null,o=s5(s);t=typeof t=="function"?t:t===void 0?c5:ei(t),e=typeof e=="function"?e:e===void 0?u5:ei(e);function s(f){var c,u=(f=f5(f)).length,d,l=!1,h;for(r==null&&(a=i(h=o())),c=0;c<=u;++c)!(c<u&&n(d=f[c],c,f))===l&&((l=!l)?a.lineStart():a.lineEnd()),l&&a.point(+t(d,c,f),+e(d,c,f));if(h)return a=null,h+""||null}return s.x=function(f){return arguments.length?(t=typeof f=="function"?f:ei(+f),s):t},s.y=function(f){return arguments.length?(e=typeof f=="function"?f:ei(+f),s):e},s.defined=function(f){return arguments.length?(n=typeof f=="function"?f:ei(!!f),s):n},s.curve=function(f){return arguments.length?(i=f,r!=null&&(a=i(r)),s):i},s.context=function(f){return arguments.length?(f==null?r=a=null:a=i(r=f),s):r},s}class Im{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function d5(t){return new Im(t,!0)}function h5(t){return new Im(t,!1)}const p5=Wt(3),Fm={draw(t,e){const n=Wt(e+zu(e/28,.75))*.59436,r=n/2,i=r*p5;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},$a={draw(t,e){const n=Wt(e/hs);t.moveTo(n,0),t.arc(0,0,n,0,Ws)}},Om={draw(t,e){const n=Wt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Pm=Wt(1/3),m5=Pm*2,qm={draw(t,e){const n=Wt(e/m5),r=n*Pm;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},zm={draw(t,e){const n=Wt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},Um={draw(t,e){const n=Wt(e-zu(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},jm={draw(t,e){const n=Wt(e),r=-n/2;t.rect(r,r,n,n)}},Hm={draw(t,e){const n=Wt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},b5=.8908130915292852,Ym=ds(hs/10)/ds(7*hs/10),g5=ds(Ws/10)*Ym,_5=-Lm(Ws/10)*Ym,Bm={draw(t,e){const n=Wt(e*b5),r=g5*n,i=_5*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=Ws*a/5,s=Lm(o),f=ds(o);t.lineTo(f*n,-s*n),t.lineTo(s*r-f*i,f*r+s*i)}t.closePath()}},Rf=Wt(3),Wm={draw(t,e){const n=-Wt(e/(Rf*3));t.moveTo(0,n*2),t.lineTo(-Rf*n,-n),t.lineTo(Rf*n,-n),t.closePath()}},v5=Wt(3),Gm={draw(t,e){const n=Wt(e)*.6824,r=n/2,i=n*v5/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Ee=-.5,De=Wt(3)/2,jc=1/Wt(12),y5=(jc/2+1)*3,Vm={draw(t,e){const n=Wt(e/y5),r=n/2,i=n*jc,a=r,o=n*jc+n,s=-a,f=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,f),t.lineTo(Ee*r-De*i,De*r+Ee*i),t.lineTo(Ee*a-De*o,De*a+Ee*o),t.lineTo(Ee*s-De*f,De*s+Ee*f),t.lineTo(Ee*r+De*i,Ee*i-De*r),t.lineTo(Ee*a+De*o,Ee*o-De*a),t.lineTo(Ee*s+De*f,Ee*f-De*s),t.closePath()}},Xm={draw(t,e){const n=Wt(e-zu(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},w5=[$a,Om,qm,jm,Bm,Wm,Vm],x5=[$a,Um,Xm,Gm,Fm,Hm,zm];function fr(){}function ps(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Vs(t){this._context=t}Vs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ps(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ps(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M5(t){return new Vs(t)}function Zm(t){this._context=t}Zm.prototype={areaStart:fr,areaEnd:fr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ps(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $5(t){return new Zm(t)}function Qm(t){this._context=t}Qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ps(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function S5(t){return new Qm(t)}function Km(t,e){this._basis=new Vs(t),this._beta=e}Km.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],a=t[n]-r,o=e[n]-i,s=-1,f;++s<=n;)f=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(r+f*a),this._beta*e[s]+(1-this._beta)*(i+f*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const T5=(function t(e){function n(r){return e===1?new Vs(r):new Km(r,e)}return n.beta=function(r){return t(+r)},n})(.85);function ms(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Uu(t,e){this._context=t,this._k=(1-e)/6}Uu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:ms(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:ms(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const A5=(function t(e){function n(r){return new Uu(r,e)}return n.tension=function(r){return t(+r)},n})(0);function ju(t,e){this._context=t,this._k=(1-e)/6}ju.prototype={areaStart:fr,areaEnd:fr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:ms(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const N5=(function t(e){function n(r){return new ju(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Hu(t,e){this._context=t,this._k=(1-e)/6}Hu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:ms(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const C5=(function t(e){function n(r){return new Hu(r,e)}return n.tension=function(r){return t(+r)},n})(0);function Yu(t,e,n){var r=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a>Fd){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,f=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/f,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/f}if(t._l23_a>Fd){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(r,i,a,o,t._x2,t._y2)}function Jm(t,e){this._context=t,this._alpha=e}Jm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:Yu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const k5=(function t(e){function n(r){return e?new Jm(r,e):new Uu(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function tb(t,e){this._context=t,this._alpha=e}tb.prototype={areaStart:fr,areaEnd:fr,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Yu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const E5=(function t(e){function n(r){return e?new tb(r,e):new ju(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function eb(t,e){this._context=t,this._alpha=e}eb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yu(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const D5=(function t(e){function n(r){return e?new eb(r,e):new Hu(r,0)}return n.alpha=function(r){return t(+r)},n})(.5);function nb(t){this._context=t}nb.prototype={areaStart:fr,areaEnd:fr,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function L5(t){return new nb(t)}function Od(t){return t<0?-1:1}function Pd(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(Od(a)+Od(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function qd(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function If(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function bs(t){this._context=t}bs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:If(this,this._t0,qd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,If(this,qd(this,n=Pd(this,t,e)),n);break;default:If(this,this._t0,n=Pd(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function rb(t){this._context=new ib(t)}(rb.prototype=Object.create(bs.prototype)).point=function(t,e){bs.prototype.point.call(this,e,t)};function ib(t){this._context=t}ib.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function R5(t){return new bs(t)}function I5(t){return new rb(t)}function ab(t){this._context=t}ab.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=zd(t),i=zd(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function zd(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function F5(t){return new ab(t)}function Xs(t,e){this._context=t,this._t=e}Xs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function O5(t){return new Xs(t,.5)}function P5(t){return new Xs(t,0)}function q5(t){return new Xs(t,1)}function ra(t,e,n){this.k=t,this.x=e,this.y=n}ra.prototype={constructor:ra,scale:function(t){return t===1?this:new ra(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ra(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ra.prototype;function cr(t){return t!=null&&!Number.isNaN(t)}function Ti(t,e){return+cr(e)-+cr(t)||dn(t,e)}function Hc(t,e){return+cr(e)-+cr(t)||Dr(t,e)}function Bu(t){return t!=null&&`${t}`!=""}function ob(t){return isFinite(t)?t:NaN}function Zs(t){return t>0&&isFinite(t)?t:NaN}function Wu(t){return t<0&&isFinite(t)?t:NaN}function z5(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),a=t.getUTCMilliseconds();return`${U5(t.getUTCFullYear())}-${kn(t.getUTCMonth()+1,2)}-${kn(t.getUTCDate(),2)}${n||r||i||a?`T${kn(n,2)}:${kn(r,2)}${i||a?`:${kn(i,2)}${a?`.${kn(a,3)}`:""}`:""}Z`:""}`}function U5(t){return t<0?`-${kn(-t,6)}`:t>9999?`+${kn(t,6)}`:kn(t,4)}function kn(t,e){return`${t}`.padStart(e,"0")}const j5=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function sb(t,e){return j5.test(t+="")?new Date(t):typeof e=="function"?e(t):e}function Ai(t){if(t==null)return;const e=t[0],n=t[t.length-1];return Dr(e,n)}const oi=1e3,Qn=oi*60,Kn=Qn*60,_n=Kn*24,on=_n*7,Nr=_n*30,Gn=_n*365,Ff=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",oi],["5 seconds",5*oi],["15 seconds",15*oi],["30 seconds",30*oi],["minute",Qn],["5 minutes",5*Qn],["15 minutes",15*Qn],["30 minutes",30*Qn],["hour",Kn],["3 hours",3*Kn],["6 hours",6*Kn],["12 hours",12*Kn],["day",_n],["2 days",2*_n],["week",on],["2 weeks",2*on],["month",Nr],["3 months",3*Nr],["6 months",6*Nr],["year",Gn],["2 years",2*Gn],["5 years",5*Gn],["10 years",10*Gn],["20 years",20*Gn],["50 years",50*Gn],["100 years",100*Gn]],Gu=new Map([["second",oi],["minute",Qn],["hour",Kn],["day",_n],["monday",on],["tuesday",on],["wednesday",on],["thursday",on],["friday",on],["saturday",on],["sunday",on],["week",on],["month",Nr],["year",Gn]]),fb=new Map([["second",Ze],["minute",Ua],["hour",Ha],["day",Hr],["monday",xa],["tuesday",c1],["wednesday",u1],["thursday",qr],["friday",l1],["saturday",d1],["sunday",$i],["week",$i],["month",Ba],["year",en]]),Vu=new Map([["second",Ze],["minute",ja],["hour",Ya],["day",js],["monday",Ma],["tuesday",h1],["wednesday",p1],["thursday",zr],["friday",m1],["saturday",b1],["sunday",Si],["week",Si],["month",Wa],["year",nn]]),Va=Symbol("intervalDuration"),Qs=Symbol("intervalType");for(const[t,e]of fb)e[Va]=Gu.get(t),e[Qs]="time";for(const[t,e]of Vu)e[Va]=Gu.get(t),e[Qs]="utc";const ia=[["year",nn,"utc"],["month",Wa,"utc"],["day",js,"utc",6*Nr],["hour",Ya,"utc",3*_n],["minute",ja,"utc",6*Kn],["second",Ze,"utc",30*Qn]],Do=[["year",en,"time"],["month",Ba,"time"],["day",Hr,"time",6*Nr],["hour",Ha,"time",3*_n],["minute",Ua,"time",6*Kn],["second",Ze,"time",30*Qn]],H5=[ia[0],Do[0],ia[1],Do[1],ia[2],Do[2],...ia.slice(3)];function cb(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let i=Vu.get(e);if(!i)throw new Error(`unknown interval: ${t}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function ub(t){return db(cb(t),"time")}function lb(t){return db(cb(t),"utc")}function db([t,e],n){let r=(n==="time"?fb:Vu).get(t);return e>1&&(r=r.every(e),r[Va]=Gu.get(t)*e,r[Qs]=n),r}function Ud(t,e){if(!(e>1))return;const n=t[Va];if(!Ff.some(([,i])=>i===n)||n%_n===0&&_n<n&&n<Nr)return;const[r]=Ff[As(([,i])=>Math.log(i)).center(Ff,Math.log(n*e))];return(t[Qs]==="time"?ub:lb)(r)}function jd(t,e,n){const r=e==="time"?Pu:Ga;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=Y5(n);switch(t){case"millisecond":return ni(r(".%L"),r(":%M:%S"),i);case"second":return ni(r(":%S"),r("%-I:%M"),i);case"minute":return ni(r("%-I:%M"),r("%p"),i);case"hour":return ni(r("%-I %p"),r("%b %-d"),i);case"day":return ni(r("%-d"),r("%b"),i);case"month":return ni(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function Y5(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function B5(t){return t==="time"?Do:t==="utc"?ia:H5}function W5(t,e,n){const r=bn(Fv(e,(i,a)=>Math.abs(a-i)));if(r<1e3)return jd("millisecond","utc",n);for(const[i,a,o,s]of B5(t)){if(r>s||i==="hour"&&!r)break;if(e.every(f=>a.floor(f)>=f))return jd(i,o,n)}}function ni(t,e,n){return(r,i,a)=>{const o=t(r,i),s=e(r,i),f=i-Ai(a);return i!==f&&a[f]!==void 0&&s===e(a[f],f)?o:n(o,s)}}const Xu=Object.getPrototypeOf(Uint8Array),G5=Object.prototype.toString;function Xa(t){return t instanceof Array||t instanceof Xu}function hb(t){return t instanceof Xu&&!V5(t)}function pb(t){return t?.prototype instanceof Xu&&!X5(t)}function V5(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function X5(t){return t===BigInt64Array||t===BigUint64Array}const Z5=Symbol("reindex");function ur(t,e,n){const r=typeof e;return r==="string"?xb(t)?Zu(t.getChild(e),n):Hd(t,K5(e),n):r==="function"?Hd(t,e,n):r==="number"||e instanceof Date||r==="boolean"?ue(t,Qe(e),n):typeof e?.transform=="function"?Yc(e.transform(t),n):Q5(Yc(e,n),t?.[Z5])}function Q5(t,e){return t!=null&&e?Ku(t,e):t}function Hd(t,e,n){return ue(t,pb(n)?(r,i)=>Qu(e(r,i)):e,n)}function Yc(t,e){return e===void 0?Wr(t):Mb(t)?Zu(t,e):t instanceof e?t:e.from(t,pb(e)&&!hb(t)?Qu:void 0)}function Zu(t,e){return t==null?t:(e===void 0||e===Array)&&v4(t.type)?bb(Yd(t)):Yc(Yd(t),e)}function Yd(t){return t.nullCount?t.toJSON():t.toArray()}const Lo=[null],K5=t=>e=>{const n=e[t];return n===void 0&&e.type==="Feature"?e.properties?.[t]:n},J5={transform:Za},jn={transform:t=>t},t4=()=>!0,ae=t=>t==null?t:`${t}`,fe=t=>t==null?t:+t,mb=t=>t?t[0]:void 0,e4=t=>t?t[1]:void 0,Qe=t=>()=>t;function n4(t){const e=+`${t}`.slice(1)/100;return(n,r)=>Uo(n,e,r)}function gs(t){return hb(t)?t:ue(t,Qu,Float64Array)}function Qu(t){return t==null?NaN:Number(t)}function bb(t){return ue(t,r4)}function r4(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?sb(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function Ur(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:nf(t)?[void 0,t]:[t,void 0]}function ge(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function gb(t,e,n){if(t!=null)return Be(t,e,n)}function Be(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function Ni(t){return xb(t)?t:Wr(t)}function Wr(t){if(t==null||Xa(t))return t;if(Mb(t))return Zu(t);if(_b(t))switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;default:return[t]}return Array.from(t)}function _b(t){switch(t?.type){case"FeatureCollection":case"GeometryCollection":case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return!0;default:return!1}}function ue(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function Bc(t,e=Array){return t instanceof e?t.slice():e.from(t)}function Gr(t){return t?.toString===G5}function Wc(t){return Gr(t)&&(t.type!==void 0||t.domain!==void 0)}function Ks(t){return Gr(t)&&typeof t.transform!="function"}function Ci(t){return Ks(t)&&t.value===void 0&&t.channel===void 0}function Js(t,e){return t===void 0&&e===void 0?[mb,e4]:[t,e]}function i4({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=Ur(e)),t===void 0&&([t]=Ur(n)),t}function Gc(t){return Xa(t)?t.length:t?.numRows}function Za(t){const e=Gc(t),n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function Ku(t,e){return Xa(t)?ue(e,n=>t[n],t.constructor):ue(e,n=>t.at(n))}function a4(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function In(t){return t!==null&&typeof t=="object"?t.valueOf():t}function tf(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function o4(t,e){const n=Ju(t,e);return n&&(r=>cr(r)?n.floor(r):r)}function Ju(t,e){if(t!=null){if(typeof t=="number")return s4(t);if(typeof t=="string")return(e==="time"?ub:lb)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function s4(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:n=>Math.floor(n*e)/e,offset:(n,r=1)=>(n*e+Math.floor(r))/e,range:(n,r)=>uc(Math.ceil(n*e),r*e).map(i=>i/e)}:{floor:n=>Math.floor(n/e)*e,offset:(n,r=1)=>n+e*Math.floor(r),range:(n,r)=>uc(Math.ceil(n/e),r/e).map(i=>i*e)}}function Qa(t,e){if(t=Ju(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function f4(t,e){if(t=Qa(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function c4(t){return typeof t?.range=="function"}function ef(t){return t===void 0||Ks(t)?t:{value:t}}function u4(t){return t==null?null:{transform:e=>ur(e,t,Float64Array),label:tf(t)}}function Vr(t){return t&&typeof t[Symbol.iterator]=="function"}function vb(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function Bd(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function vn(t){for(const e of t)if(e!=null)return e instanceof Date}function l4(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&sb(e)}function d4(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function h4(t){for(const e of t)if(e!=null)return typeof e=="number"}function Of(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const p4=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function nf(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||p4.has(t))}function m4(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function _e(t){return t==null||Sa(t)}function Sa(t){return/^\s*none\s*$/i.test(t)}function b4(t){return/^\s*round\s*$/i.test(t)}function Vc(t,e){return gb(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function rf(t="middle"){return Vc(t,"frameAnchor")}function g4(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const a=r[i];n===t?n={...n,[i]:a}:n[i]=a}return n}function _4(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function yb(t){return Vr(t)?_4(t):t}function wb(t){return t===!0?t="frame":t===!1?t=null:!_b(t)&&t!=null&&(t=Be(t,"clip",["frame","sphere"]),t==="sphere"&&(t={type:"Sphere"})),t}function xb(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function Mb(t){return t&&typeof t.toArray=="function"&&t.type}function v4(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const ln=Symbol("position"),Hn=Symbol("color"),Ka=Symbol("radius"),Ja=Symbol("length"),to=Symbol("opacity"),af=Symbol("symbol"),$b=Symbol("projection"),jt=new Map([["x",ln],["y",ln],["fx",ln],["fy",ln],["r",Ka],["color",Hn],["opacity",to],["symbol",af],["length",Ja],["projection",$b]]);function y4(t){return t===ln||t===$b}function w4(t){return t===ln||t===Ka||t===Ja||t===to}const x4=Math.sqrt(3),M4=2/x4,$4={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*M4,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},tl=new Map([["asterisk",Fm],["circle",$a],["cross",Om],["diamond",qm],["diamond2",zm],["hexagon",$4],["plus",Um],["square",jm],["square2",Hm],["star",Bm],["times",Xm],["triangle",Wm],["triangle2",Gm],["wye",Vm]]);function el(t){return t&&typeof t.draw=="function"}function S4(t){return el(t)?!0:typeof t!="string"?!1:tl.has(t.toLowerCase())}function nl(t){if(t==null||el(t))return t;const e=tl.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function T4(t){if(t==null||el(t))return[void 0,t];if(typeof t=="string"){const e=tl.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function Sb({filter:t,sort:e,reverse:n,transform:r,initializer:i,...a}={},o){if(r===void 0&&(t!=null&&(r=Tb(t)),e!=null&&!Ci(e)&&(r=Pf(r,rl(e))),n&&(r=Pf(r,Ab))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(e===null||Ci(e))&&{sort:e},transform:Pf(r,o)}}function ki({filter:t,sort:e,reverse:n,initializer:r,...i}={},a){return r===void 0&&(t!=null&&(r=Tb(t)),e!=null&&!Ci(e)&&(r=qf(r,rl(e))),n&&(r=qf(r,Ab))),{...i,...(e===null||Ci(e))&&{sort:e},initializer:qf(r,a)}}function Pf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,Ni(n),r,i)}}function qf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...a){let o,s,f,c,u,d;return{data:s=n,facets:f=r,channels:o}=t.call(this,n,r,i,...a),{data:u=s,facets:d=f,channels:c}=e.call(this,s,f,{...i,...o},...a),{data:u,facets:d,channels:{...o,...c}}}}function A4(t,e){return(t.initializer!=null?ki:Sb)(t,e)}function Tb(t){return(e,n)=>{const r=ur(e,t);return{data:e,facets:n.map(i=>i.filter(a=>r[a]))}}}function Ab(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function N4(t,{sort:e,...n}={}){return{...(Ks(t)&&t.channel!==void 0?ki:A4)(n,rl(t)),sort:Ci(e)?e:null}}function rl(t){return(typeof t=="function"&&t.length!==1?C4:k4)(t)}function C4(t){return(e,n)=>{const r=Xa(e)?(i,a)=>t(e[i],e[a]):(i,a)=>t(e.get(i),e.get(a));return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function k4(t){let e,n;({channel:e,value:t,order:n}={...ef(t)});const r=e?.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?Hc:Ti),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=Ti;break;case"descending":n=Hc;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,o)=>{let s;if(e===void 0)s=ur(i,t);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(s=o[e],!s)return{};s=s.value}const f=(c,u)=>n(s[c],s[u]);return{data:i,facets:a.map(c=>c.slice().sort(f))}}}function E4(t,e,n=D4){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&Gr(t))return L4(t);if(typeof t=="function")return R4(t);if(/^p\d{2}$/i.test(t))return Nn(n4(t));switch(`${t}`.toLowerCase()){case"first":return F4;case"last":return O4;case"identity":return I4;case"count":return Gd;case"distinct":return P4;case"sum":return e==null?Gd:q4;case"proportion":return Vd(e,"data");case"proportion-facet":return Vd(e,"facet");case"deviation":return Nn(xv);case"min":return Nn(ma);case"min-index":return Nn(Ev);case"max":return Nn(bn);case"max-index":return Nn(kv);case"mean":return Wd(Lv);case"median":return Wd(cc);case"variance":return Nn(T0);case"mode":return Nn(Iv)}return n(t)}function D4(t){throw new Error(`invalid reduce: ${t}`)}function L4(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function R4(t){return{reduceIndex(e,n,r){return t(Ku(n,e),r)}}}function Nn(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function Wd(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return vn(n)?new Date(r):r}}}const I4={reduceIndex(t,e){return Ku(e,t)}},F4={reduceIndex(t,e){return e[t[0]]}},O4={reduceIndex(t,e){return e[t[t.length-1]]}},Gd={label:"Frequency",reduceIndex(t){return t.length}},P4={label:"Distinct",reduceIndex(t,e){const n=new Ns;for(const r of t)n.add(e[r]);return n.size}},q4=Nn(gu);function Vd(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>gu(n,a=>r[a])/i}}function Ta(t,{scale:e,type:n,value:r,filter:i,hint:a,label:o=tf(r)},s){return a===void 0&&typeof r?.transform=="function"&&(a=r.hint),Nb(s,{scale:e,type:n,value:ur(t,r),label:o,filter:i,hint:a})}function z4(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,Ta(e,r,n)]))}function U4(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:a}])=>{const o=i==null?null:e[i];return[r,o==null?a:ue(a,o)]}));return n.channels=t,n}function Nb(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&Of(r,nf)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&Of(r,m4)?null:"opacity",e.defaultScale="opacity";break;case"symbol":n!==!0&&Of(r,S4)?(e.scale=null,e.value=ue(r,nl)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=jt.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!jt.has(n))throw new Error(`unknown scale: ${n}`);return e}function j4(t,e,n,r,i){const{order:a,reverse:o,reduce:s=!0,limit:f}=i;for(const c in i){if(!jt.has(c))continue;let{value:u,order:d=a,reverse:l=o,reduce:h=s,limit:p=f}=ef(i[c]);const m=u?.startsWith("-");if(m&&(u=u.slice(1)),d=d===void 0?m!==(u==="width"||u==="height")?kb:Cb:B4(d),h==null||h===!1)continue;const b=c==="fx"||c==="fy"?Y4(e,r[c]):H4(n,c);if(!b)throw new Error(`missing channel for scale: ${c}`);const y=b.value,[v=0,$=1/0]=Vr(p)?p:p<0?[p]:[0,p];if(u==null)b.domain=()=>{let _=Array.from(new Ns(y));return l&&(_=_.reverse()),(v!==0||$!==1/0)&&(_=_.slice(v,$)),_};else{const _=u==="data"?t:u==="height"?Xd(n,"y1","y2"):u==="width"?Xd(n,"x1","x2"):Xc(n,u,u==="y"?"y2":u==="x"?"x2":void 0),N=E4(h===!0?"max":h,_);b.domain=()=>{let x=$v(Za(y),A=>N.reduceIndex(A,_),A=>y[A]);return d&&x.sort(d),l&&x.reverse(),(v!==0||$!==1/0)&&(x=x.slice(v,$)),x.map(mb)}}}}function H4(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function Y4(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let a=0;a<n.length;++a){const o=r[n[a][0]];for(const s of t[a])i[s]=o}return e}function Xd(t,e,n){const r=Xc(t,e),i=Xc(t,n);return ue(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function Xc(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function B4(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return Cb;case"descending":return kb}throw new Error(`invalid order: ${t}`)}function Cb([t,e],[n,r]){return Ti(e,r)||Ti(t,n)}function kb([t,e],[n,r]){return Hc(e,r)||Ti(t,n)}function Zd(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const Eb=new Map([["accent",X6],["category10",V6],["dark2",Z6],["observable10",Q6],["paired",K6],["pastel1",J6],["pastel2",t5],["set1",e5],["set2",n5],["set3",r5],["tableau10",i5]]);function W4(t){return t!=null&&Eb.has(`${t}`.toLowerCase())}const Qd=new Map([...Eb,["brbg",Sn(T1,A1)],["prgn",Sn(N1,C1)],["piyg",Sn(k1,E1)],["puor",Sn(D1,L1)],["rdbu",Sn(zc,us)],["rdgy",Sn(R1,I1)],["rdylbu",Sn(Uc,ls)],["rdylgn",Sn(F1,O1)],["spectral",Sn(P1,q1)],["burd",Kd(zc,us)],["buylrd",Kd(Uc,ls)],["blues",Gt(um,lm)],["greens",Gt(dm,hm)],["greys",Gt(pm,mm)],["oranges",Gt(ym,wm)],["purples",Gt(bm,gm)],["reds",Gt(_m,vm)],["turbo",Tn(Nm)],["viridis",Tn(Cm)],["magma",Tn(km)],["inferno",Tn(Em)],["plasma",Tn(Dm)],["cividis",Tn(xm)],["cubehelix",Tn(Mm)],["warm",Tn($m)],["cool",Tn(Sm)],["bugn",Gt(z1,U1)],["bupu",Gt(j1,H1)],["gnbu",Gt(Y1,B1)],["orrd",Gt(W1,G1)],["pubu",Gt(Z1,Q1)],["pubugn",Gt(V1,X1)],["purd",Gt(K1,J1)],["rdpu",Gt(tm,em)],["ylgn",Gt(im,am)],["ylgnbu",Gt(nm,rm)],["ylorbr",Gt(om,sm)],["ylorrd",Gt(fm,cm)],["rainbow",Jd(Tm)],["sinebow",Jd(Am)]]);function Gt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?tn(e,n):t[n])}function Sn(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?tn(e,n):t[n])}function Kd(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?tn(r=>e(1-r),n):t[n].slice().reverse())}function Tn(t){return({length:e})=>tn(t,Math.max(2,Math.floor(e)))}function Jd(t){return({length:e})=>tn(t,Math.floor(e)+1).slice(0,-1)}function Db(t){const e=`${t}`.toLowerCase();if(!Qd.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Qd.get(e)}function of(t,e){const n=Db(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function G4(t,e="greys"){const n=new Set,[r,i]=of(e,2);for(const a of t)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const th=new Map([["brbg",A1],["prgn",C1],["piyg",E1],["puor",L1],["rdbu",us],["rdgy",I1],["rdylbu",ls],["rdylgn",O1],["spectral",q1],["burd",t=>us(1-t)],["buylrd",t=>ls(1-t)],["blues",lm],["greens",hm],["greys",mm],["purples",gm],["reds",vm],["oranges",wm],["turbo",Nm],["viridis",Cm],["magma",km],["inferno",Em],["plasma",Dm],["cividis",xm],["cubehelix",Mm],["warm",$m],["cool",Sm],["bugn",U1],["bupu",H1],["gnbu",B1],["orrd",G1],["pubugn",X1],["pubu",Q1],["purd",J1],["rdpu",em],["ylgnbu",rm],["ylgn",am],["ylorbr",sm],["ylorrd",cm],["rainbow",Tm],["sinebow",Am]]);function il(t){const e=`${t}`.toLowerCase();if(!th.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return th.get(e)}const V4=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function X4(t){return t!=null&&V4.has(`${t}`.toLowerCase())}const Lb=t=>e=>t(1-e),zf=[0,1],eh=new Map([["number",re],["rgb",Fr],["hsl",ow],["hcl",cw],["lab",sw]]);function Rb(t){const e=`${t}`.toLowerCase();if(!eh.has(e))throw new Error(`unknown interpolator: ${e}`);return eh.get(e)}function eo(t,e,n,{type:r,nice:i,clamp:a,zero:o,domain:s=Fb(t,n),unknown:f,round:c,scheme:u,interval:d,range:l=jt.get(t)===Ka?o8(n,s):jt.get(t)===Ja?s8(n,s):jt.get(t)===to?zf:void 0,interpolate:h=jt.get(t)===Hn?u==null&&l!==void 0?Fr:il(u!==void 0?u:r==="cyclical"?"rainbow":"turbo"):c?$u:re,reverse:p}){if(s=nh(s),d=Qa(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=Rb(h)),p=!!p,l!==void 0){const m=s.length,b=(l=nh(l)).length;if(m!==b){if(h.length===1)throw new Error("invalid piecewise interpolator");h=Ls(h,l),l=void 0}}if(h.length===1?(p&&(h=Lb(h),p=!1),l===void 0&&(l=Float64Array.from(s,(m,b)=>b/(s.length-1)),l.length===2&&(l=zf)),e.interpolate((l===zf?Qe:ol)(h))):e.interpolate(h),o){const[m,b]=rr(s);(m>0||b<0)&&(s=Bc(s),(Ai(s)||1)===Math.sign(m)?s[0]=0:s[s.length-1]=0)}return p&&(s=jo(s)),e.domain(s).unknown(f),i&&(e.nice(Z4(i,r)),s=e.domain()),l!==void 0&&e.range(l),a&&e.clamp(a),{type:r,domain:s,range:l,scale:e,interpolate:h,interval:d}}function nh(t){return t=Wr(t),t.length>=2?t:[t[0],t[0]]}function Z4(t,e){return t===!0?void 0:typeof t=="number"?t:f4(t,e)}function Q4(t,e,n){return eo(t,Fu(),e,n)}function K4(t,e,n){return Ib(t,e,{...n,exponent:.5})}function Ib(t,e,{exponent:n=1,...r}){return eo(t,o1().exponent(n),e,{...r,type:"pow"})}function J4(t,e,{base:n=10,domain:r=f8(e),...i}){return eo(t,n1().base(n),e,{...i,domain:r})}function t8(t,e,{constant:n=1,...r}){return eo(t,i1().constant(n),e,r)}function e8(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:o=c8(e),unknown:s,interpolate:f,reverse:c}){return n===void 0&&(n=f!==void 0?tn(f,i):jt.get(t)===Hn?of(a,i):void 0),o.length>0&&(o=s1(o,n===void 0?{length:i}:n).quantiles()),al(t,e,{domain:o,range:n,reverse:c,unknown:s})}function n8(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=Fb(t,e),unknown:o,interpolate:s,reverse:f}){const[c,u]=rr(a);let d;return n===void 0?(d=zo(c,u,r),d[0]<=c&&d.splice(0,1),d[d.length-1]>=u&&d.pop(),r=d.length+1,n=s!==void 0?tn(s,r):jt.get(t)===Hn?of(i,r):void 0):(d=tn(re(c,u),r+1).slice(1,-1),c instanceof Date&&(d=d.map(l=>new Date(l)))),Ai(Wr(a))<0&&d.reverse(),al(t,e,{domain:d,range:n,reverse:f,unknown:o})}function al(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?tn(a,n.length+1):jt.get(t)===Hn?of(i,n.length+1):void 0,reverse:s}){n=Wr(n);const f=Ai(n);if(!isNaN(f)&&!r8(n,f))throw new Error(`the ${t} scale has a non-monotonic domain`);return s&&(o=jo(o)),{type:"threshold",scale:f1(f<0?jo(n):n,o===void 0?[]:o).unknown(r),domain:n,range:o}}function r8(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const a=Dr(i,i=t[n]);if(a!==0&&a!==e)return!1}return!0}function i8(t){return{type:"identity",scale:w4(jt.get(t))?Jp():e=>e}}function Aa(t,e=ob){return t.length?[ma(t,({value:n})=>n===void 0?n:ma(n,e)),bn(t,({value:n})=>n===void 0?n:bn(n,e))]:[0,1]}function Fb(t,e){const n=jt.get(t);return(n===Ka||n===to||n===Ja?a8:Aa)(e)}function a8(t){return[0,t.length?bn(t,({value:e})=>e===void 0?e:bn(e,ob)):1]}function o8(t,e){const n=t.find(({radius:o})=>o!==void 0);if(n!==void 0)return[0,n.radius];const r=Uo(t,.5,({value:o})=>o===void 0?NaN:Uo(o,.25,Zs)),i=e.map(o=>3*Math.sqrt(o/r)),a=30/bn(i);return a<1?i.map(o=>o*a):i}function s8(t,e){const n=cc(t,({value:a})=>a===void 0?NaN:cc(a,Math.abs)),r=e.map(a=>12*a/n),i=60/bn(r);return i<1?r.map(a=>a*i):r}function f8(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return Aa(t,Zs);if(n<0)return Aa(t,Wu)}return[1,10]}function c8(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function ol(t){return(e,n)=>r=>t(e+r*(n-e))}let Zc=0,Qc;function u8(){const t=Zc;return Zc=0,Qc=void 0,t}function ir(t){t!==Qc&&(Qc=t,console.warn(t),++Zc)}function sf(t,e,n,r,{type:i,nice:a,clamp:o,domain:s=Aa(r),unknown:f,pivot:c=0,scheme:u,range:d,symmetric:l=!0,interpolate:h=jt.get(t)===Hn?u==null&&d!==void 0?Fr:il(u!==void 0?u:"rdbu"):re,reverse:p}){c=+c,s=Wr(s);let[m,b]=s;if(s.length>2&&ir(`Warning: the diverging ${t} scale domain contains extra elements.`),Dr(m,b)<0&&([m,b]=[b,m],p=!p),m=Math.min(m,c),b=Math.max(b,c),typeof h!="function"&&(h=Rb(h)),d!==void 0&&(h=h.length===1?ol(h)(...d):Ls(h,d)),p&&(h=Lb(h)),l){const y=n.apply(c),v=y-n.apply(m),$=n.apply(b)-y;v<$?m=n.invert(y-$):v>$&&(b=n.invert(y+v))}return e.domain([m,c,b]).unknown(f).interpolator(h),o&&e.clamp(o),a&&e.nice(a),{type:i,domain:[m,b],pivot:c,interpolate:h,scale:e}}function l8(t,e,n){return sf(t,x1(),m8,e,n)}function d8(t,e,n){return Ob(t,e,{...n,exponent:.5})}function Ob(t,e,{exponent:n=1,...r}){return sf(t,S1().exponent(n=+n),_8(n),e,{...r,type:"diverging-pow"})}function h8(t,e,{base:n=10,pivot:r=1,domain:i=Aa(e,r<0?Wu:Zs),...a}){return sf(t,M1().base(n=+n),b8,e,{domain:i,pivot:r,...a})}function p8(t,e,{constant:n=1,...r}){return sf(t,$1().constant(n=+n),v8(n),e,r)}const m8={apply(t){return t},invert(t){return t}},b8={apply:Math.log,invert:Math.exp},g8={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function _8(t){return t===.5?g8:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function v8(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function Pb(t,e,n,r){return eo(t,e,n,r)}function y8(t,e,n){return Pb(t,W6(),e,n)}function w8(t,e,n){return Pb(t,G6(),e,n)}const no=Symbol("ordinal");function qb(t,e,n,{type:r,interval:i,domain:a,range:o,reverse:s,hint:f}){return i=Qa(i,r),a===void 0&&(a=Ub(n,i,t)),(r==="categorical"||r===no)&&(r="ordinal"),s&&(a=jo(a)),a=e.domain(a).domain(),o!==void 0&&(typeof o=="function"&&(o=o(a)),e.range(o)),{type:r,domain:a,range:o,scale:e,hint:f,interval:i}}function x8(t,e,{type:n,interval:r,domain:i,range:a,scheme:o,unknown:s,...f}){r=Qa(r,n),i===void 0&&(i=Ub(e,r,t));let c;if(jt.get(t)===af)c=S8(e),a=a===void 0?T8(c):ue(a,nl);else if(jt.get(t)===Hn&&(a===void 0&&(n==="ordinal"||n===no)&&(a=G4(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=n==="ordinal"?"turbo":"observable10"),o!==void 0))if(a!==void 0){const u=il(o),d=a[0],l=a[1]-a[0];a=({length:h})=>tn(p=>u(d+l*p),h)}else a=Db(o);if(s===Oc)throw new Error(`implicit unknown on ${t} scale is not supported`);return qb(t,Iu().unknown(s),e,{...f,type:n,domain:i,range:a,hint:c})}function M8(t,e,{align:n=.5,padding:r=.5,...i}){return zb(Tx().align(n).padding(r),e,i,t)}function $8(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=t==="fx"||t==="fy"?0:r,...o}){return zb(qs().align(n).paddingInner(i).paddingOuter(a),e,o,t)}function zb(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=qb(r,t,e,n),t.round=i,t}function Ub(t,e,n){const r=new Ns;for(const{value:i,domain:a}of t){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(e!==void 0){const[i,a]=rr(r).map(e.floor,e);return e.range(i,e.offset(a))}if(r.size>1e4&&jt.get(n)===ln)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Tv(r,Ti)}function rh(t,e){let n;for(const{hint:r}of t){const i=r?.[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function S8(t){return{fill:rh(t,"fill"),stroke:rh(t,"stroke")}}function T8(t){return _e(t.fill)?x5:w5}function Kc(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:o=n,round:s,nice:f,clamp:c,zero:u,align:d,padding:l,projection:h,facet:{label:p=e}={},...m}={}){const b={};for(const[y,v]of t){const $=m[y],_=E8(y,v,{round:jt.get(y)===ln?s:void 0,nice:f,clamp:c,zero:u,align:d,padding:l,projection:h,...$});if(_){let{label:N=y==="fx"||y==="fy"?p:e,percent:x,transform:A,inset:C,insetTop:k=C!==void 0?C:y==="y"?r:0,insetRight:E=C!==void 0?C:y==="x"?i:0,insetBottom:S=C!==void 0?C:y==="y"?a:0,insetLeft:F=C!==void 0?C:y==="x"?o:0}=$||{};if(A==null)A=void 0;else if(typeof A!="function")throw new Error("invalid scale transform; not a function");_.percent=!!x,_.label=N===void 0?N8(v,_):N,_.transform=A,y==="x"||y==="fx"?(_.insetLeft=+F,_.insetRight=+E):(y==="y"||y==="fy")&&(_.insetTop=+k,_.insetBottom=+S),b[y]=_}}return b}function ih(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:a,type:o,interval:s,label:f}=i;e[r]=F8(i),n[r]=a,a.type=o,s!=null&&(a.interval=s),f!=null&&(a.label=f)}return n}function A8(t,e){const{x:n,y:r,fx:i,fy:a}=t,o=i||a?sl(e):e;i&&ah(i,o),a&&oh(a,o);const s=i||a?jb(t,e):e;n&&ah(n,s),r&&oh(r,s)}function N8(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Xr(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function C8(t){return Math.sign(Ai(t.domain()))*Math.sign(Ai(t.range()))}function sl(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:s,marginRight:f,marginBottom:c,marginLeft:u}}=t;return{marginTop:Math.max(e,s),marginRight:Math.max(n,f),marginBottom:Math.max(r,c),marginLeft:Math.max(i,u),width:a,height:o}}function jb({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:s,height:f}=sl(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:t?t.scale.bandwidth()+o+i:s,height:e?e.scale.bandwidth()+r+a:f,facet:{width:s,height:f}}}function ah(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:a=0,marginRight:o=0}=e,s=a+n,f=i-o-r;t.range=[s,Math.max(s,f)],Xr(t)||(t.range=Yb(t)),t.scale.range(t.range)}Hb(t)}function oh(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:a=0,marginBottom:o=0}=e,s=a+n,f=i-o-r;t.range=[Math.max(s,f),s],Xr(t)?t.range.reverse():t.range=Yb(t),t.scale.range(t.range)}Hb(t)}function Hb(t){t.round===void 0&&L8(t)&&k8(t)<=30&&t.scale.round(!0)}function k8({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,a=t.paddingOuter?t.paddingOuter():t.padding(),o=e-i,s=Math.abs(r-n)/Math.max(1,o+a*2);return(s-Math.floor(s))*o}function Yb(t){const e=t.scale.domain().length+Bb(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,a)=>n+a/(e-1)*(r-n))}function E8(t,e=[],n={}){const r=D8(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&Xr({type:r})){const i=e.map(({value:a})=>a).filter(a=>a!==void 0);i.some(vn)?ir(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${ri(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${ri(r)}".`):i.some(l4)?ir(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${ri(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${ri(r)}".`):i.some(d4)&&ir(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${ri(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${ri(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=_o(e,n,gs);break;case"identity":switch(jt.get(t)){case ln:n=_o(e,n,gs);break;case af:n=_o(e,n,R8);break}break;case"utc":case"time":n=_o(e,n,bb);break}switch(r){case"diverging":return l8(t,e,n);case"diverging-sqrt":return d8(t,e,n);case"diverging-pow":return Ob(t,e,n);case"diverging-log":return h8(t,e,n);case"diverging-symlog":return p8(t,e,n);case"categorical":case"ordinal":case no:return x8(t,e,n);case"cyclical":case"sequential":case"linear":return Q4(t,e,n);case"sqrt":return K4(t,e,n);case"threshold":return al(t,e,n);case"quantile":return e8(t,e,n);case"quantize":return n8(t,e,n);case"pow":return Ib(t,e,n);case"log":return J4(t,e,n);case"symlog":return t8(t,e,n);case"utc":return w8(t,e,n);case"time":return y8(t,e,n);case"point":return M8(t,e,n);case"band":return $8(t,e,n);case"identity":return i8(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function ri(t){return typeof t=="symbol"?t.description:t}function sh(t){return typeof t=="string"?`${t}`.toLowerCase():t}const fh={toString:()=>"projection"};function D8(t,e,{type:n,domain:r,range:i,scheme:a,pivot:o,projection:s}){if(n=sh(n),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&s!=null&&(n=fh);for(const u of e){const d=sh(u.type);if(d!==void 0){if(n===void 0)n=d;else if(n!==d)throw new Error(`scale incompatible with channel: ${n} !== ${d}`)}}if(n===fh)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:u})=>u!==void 0))return;const f=jt.get(t);if(f===Ka)return"sqrt";if(f===to||f===Ja)return"linear";if(f===af)return"ordinal";const c=(r??i)?.length;if(c<2||c>2)return Uf(f);if(r!==void 0){if(Bd(r))return Uf(f);if(vn(r))return"utc"}else{const u=e.map(({value:d})=>d).filter(d=>d!==void 0);if(u.some(Bd))return Uf(f);if(u.some(vn))return"utc"}if(f===Hn){if(o!=null||X4(a))return"diverging";if(W4(a))return"categorical"}return"linear"}function Uf(t){switch(t){case ln:return"point";case Hn:return no;default:return"ordinal"}}function Xr({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===no}function Bb({type:t}){return t==="threshold"}function L8({type:t}){return t==="point"||t==="band"}function _s(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function _o(t,{domain:e,...n},r){for(const i of t)i.value!==void 0&&(e===void 0&&(e=i.value?.domain),i.value=r(i.value));return{domain:e===void 0?e:r(e),...n}}function R8(t){return ue(t,nl)}function I8(t){return e=>{if(!jt.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function F8({scale:t,type:e,domain:n,range:r,interpolate:i,interval:a,transform:o,percent:s,pivot:f}){if(e==="identity")return{type:"identity",apply:u=>u,invert:u=>u};const c=t.unknown?t.unknown():void 0;return{type:e,domain:Bc(n),...r!==void 0&&{range:Bc(r)},...o!==void 0&&{transform:o},...s&&{percent:s},...c!==void 0&&{unknown:c},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...f!==void 0&&{pivot:f,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:u=>t(u),...t.invert&&{invert:u=>t.invert(u)}}}function O8(t,e){const{fx:n,fy:r}=Kc(t,e),i=n?.scale.domain(),a=r?.scale.domain();return i&&a?wv(i,a).map(([o,s],f)=>({x:o,y:s,i:f})):i?i.map((o,s)=>({x:o,i:s})):a?a.map((o,s)=>({y:o,i:s})):void 0}function P8(t,{x:e,y:n}){return e&&=Jc(e),n&&=Jc(n),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function fl(t,{fx:e,fy:n}){const r=Za(t),i=e?.value,a=n?.value;return e&&n?gf(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):e?gf(r,o=>(o.fx=i[o[0]],o),o=>i[o]):gf(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function q8(t,e,{marginTop:n,marginLeft:r}){const i=t?({x:o})=>t(o)-r:()=>0,a=e?({y:o})=>e(o)-n:()=>0;return function(o){this.tagName==="svg"?(this.setAttribute("x",i(o)),this.setAttribute("y",a(o))):this.setAttribute("transform",`translate(${i(o)},${a(o)})`)}}function z8(t){const e=[],n=new Uint32Array(gu(t,r=>r.length));for(const r of t){let i=0;for(const a of t)r!==a&&(n.set(a,i),i+=a.length);e.push(n.slice(0,i))}return e}const U8=new Map([["top",jf],["right",Bf],["bottom",Hf],["left",Yf],["top-left",vo(jf,Yf)],["top-right",vo(jf,Bf)],["bottom-left",vo(Hf,Yf)],["bottom-right",vo(Hf,Bf)],["top-empty",Y8],["right-empty",G8],["bottom-empty",B8],["left-empty",W8],["empty",V8]]);function j8(t){if(t==null)return null;const e=U8.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const ch=new WeakMap;function Jc(t){let e=ch.get(t);return e||ch.set(t,e=new pa(ue(t,(n,r)=>[n,r]))),e}function mr(t,e){return Jc(t).get(e)}function H8(t,e,n){return e=In(e),n=In(n),t.find(r=>Object.is(In(r.x),e)&&Object.is(In(r.y),n))}function ff(t,e,n){return H8(t,e,n)?.empty}function jf(t,{y:e},{y:n}){return e?mr(e,n)===0:!0}function Hf(t,{y:e},{y:n}){return e?mr(e,n)===e.length-1:!0}function Yf(t,{x:e},{x:n}){return e?mr(e,n)===0:!0}function Bf(t,{x:e},{x:n}){return e?mr(e,n)===e.length-1:!0}function Y8(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=mr(e,r);if(a>0)return ff(t,n,e[a-1])}function B8(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=mr(e,r);if(a<e.length-1)return ff(t,n,e[a+1])}function W8(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=mr(e,n);if(a>0)return ff(t,e[a-1],r)}function G8(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const a=mr(e,n);if(a<e.length-1)return ff(t,e[a+1],r)}function V8(t,e,{empty:n}){return n}function vo(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Wf(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:a})=>r.get(i)?.get(a)??[]):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const Wb=Math.PI,An=2*Wb,Gf=.618;function X8({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:a=e}={},o){if(t==null)return;if(typeof t.stream=="function")return t;let s,f,c="frame";if(Gr(t)){let N;if({type:t,domain:f,inset:N,insetTop:n=N!==void 0?N:n,insetRight:r=N!==void 0?N:r,insetBottom:i=N!==void 0?N:i,insetLeft:a=N!==void 0?N:a,clip:c=c,...s}=t,t==null)return}typeof t!="function"&&({type:t}=tu(t));const{width:u,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:m}=o,b=u-l-h-a-r,y=d-p-m-n-i;if(t=t?.({width:b,height:y,clip:c,...s}),t==null)return;c=Z8(c,l,p,u-h,d-m);let v=l+a,$=p+n,_;if(f!=null){const[[N,x],[A,C]]=Eu(t).bounds(f),k=Math.min(b/(A-N),y/(C-x));k>0?(v-=(k*(N+A)-b)/2,$-=(k*(x+C)-y)/2,_=as({point(E,S){this.stream.point(E*k+v,S*k+$)}})):ir("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??=v===0&&$===0?Gb():as({point(N,x){this.stream.point(N+v,x+$)}}),{stream:N=>t.stream(_.stream(c(N)))}}function tu(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Ve(lx,.7463,.4673);case"albers":return yo(Up,.7463,.4673);case"azimuthal-equal-area":return Ve(dx,4,4);case"azimuthal-equidistant":return Ve(hx,An,An);case"conic-conformal":return yo(bx,An,An);case"conic-equal-area":return yo(os,6.1702,2.9781);case"conic-equidistant":return yo(vx,7.312,3.6282);case"equal-earth":return Ve(wx,5.4133,2.6347);case"equirectangular":return Ve(gx,An,Wb);case"gnomonic":return Ve(xx,3.4641,3.4641);case"identity":return{type:Gb};case"reflect-y":return{type:Q8};case"mercator":return Ve(px,An,An);case"orthographic":return Ve(Mx,2,2);case"stereographic":return Ve($x,2,2);case"transverse-mercator":return Ve(Sx,An,An);default:throw new Error(`unknown projection type: ${t}`)}}function Z8(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return a=>a;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Sp(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Ve(t,e,n){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:s})=>{const f=t();return o!=null&&f.precision?.(o),a!=null&&f.rotate?.(a),typeof s=="number"&&f.clipAngle?.(s),r!=null&&(f.scale(Math.min(r/e,i/n)),f.translate([r/2,i/2])),f},aspectRatio:n/e}}function yo(t,e,n){const{type:r,aspectRatio:i}=Ve(t,e,n);return{type:a=>{const{parallels:o,domain:s,width:f,height:c}=a,u=r(a);return o!=null&&(u.parallels(o),s===void 0&&f!=null&&u.fitSize([f,c],{type:"Sphere"})),u},aspectRatio:i}}const Gb=Qe({stream:t=>t}),Q8=Qe(as({point(t,e){this.stream.point(t,-e)}}));function K8(t,e,n,r){const i=n[t],a=n[e],o=i.length,s=n[t]=new Float64Array(o).fill(NaN),f=n[e]=new Float64Array(o).fill(NaN);let c;const u=r.stream({point(d,l){s[c]=d,f[c]=l}});for(c=0;c<o;++c)u.point(i[c],a[c])}function J8({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(Gr(t)&&(t=t.type),t!=null)}function t7(t){if(typeof t?.stream=="function")return Gf;if(Gr(t)){let e,n;if({domain:e,type:t,...n}=t,e!=null&&t!=null){const r=typeof t=="string"?tu(t).type:t,[[i,a],[o,s]]=Eu(r({...n,width:100,height:100})).bounds(e),f=(s-a)/(o-i);return f&&isFinite(f)?f<.2?.2:f>5?5:f:Gf}}if(t!=null){if(typeof t!="function"){const{aspectRatio:e}=tu(t);if(e)return e}return Gf}}function e7(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},a={point(o,s){e.push(o),n.push(s)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of t.value)yr(o,a);return[r,i]}function n7({x:t,y:e}){if(t||e)return t??=n=>n,e??=n=>n,as({point(n,r){this.stream.point(t(n),e(r))}})}function cl(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:wb(n)}}function ee(t,{document:e}){return Sr(ks(t).call(e.documentElement))}const eu=Symbol("unset");function ul(t){return(t.length===1?r7:i7)(t)}function r7(t){let e,n=eu;return r=>(Object.is(n,r)||(n=r,e=t(r)),e)}function i7(t){let e,n;return(...r)=>((n?.length!==r.length||n.some((i,a)=>!Object.is(i,r[a])))&&(n=r,e=t(...r)),e)}const a7=ul(t=>new Intl.NumberFormat(t));ul((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}}));ul((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));function o7(t="en-US"){const e=a7(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function s7(t){return z5(t,"Invalid Date")}function f7(t="en-US"){const e=o7(t);return n=>(n instanceof Date?s7:typeof n=="number"?e:ae)(n)}const Ei=f7(),Ae=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let c7=0;function Vb(){return`plot-clip-${++c7}`}function u7(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:s,fillOpacity:f,stroke:c,strokeWidth:u,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:b,opacity:y,mixBlendMode:v,imageFilter:$,paintOrder:_,pointerEvents:N,shapeRendering:x,channels:A},{ariaLabel:C,fill:k="currentColor",fillOpacity:E,stroke:S="none",strokeOpacity:F,strokeWidth:O,strokeLinecap:R,strokeLinejoin:T,strokeMiterlimit:P,paintOrder:Z}){k===null&&(s=null,f=null),S===null&&(c=null,d=null),_e(k)?!_e(S)&&(!_e(s)||A?.fill)&&(S="none"):_e(S)&&(!_e(c)||A?.stroke)&&(k="none");const[H,I]=Ur(s,k),[Y,Q]=ge(f,E),[W,G]=Ur(c,S),[et,U]=ge(d,F),[J,j]=ge(y);Sa(G)||(u===void 0&&(u=O),h===void 0&&(h=R),l===void 0&&(l=T),p===void 0&&!b4(l)&&(p=P),!Sa(I)&&_===void 0&&(_=Z));const[X,L]=ge(u);return k!==null&&(t.fill=Kt(I,"currentColor"),t.fillOpacity=Gi(Q,1)),S!==null&&(t.stroke=Kt(G,"none"),t.strokeWidth=Gi(L,1),t.strokeOpacity=Gi(U,1),t.strokeLinejoin=Kt(l,"miter"),t.strokeLinecap=Kt(h,"butt"),t.strokeMiterlimit=Gi(p,4),t.strokeDasharray=Kt(m,"none"),t.strokeDashoffset=Kt(b,"0")),t.target=ae(o),t.ariaLabel=ae(C),t.ariaDescription=ae(i),t.ariaHidden=ae(a),t.opacity=Gi(j,1),t.mixBlendMode=Kt(v,"normal"),t.imageFilter=Kt($,"none"),t.paintOrder=Kt(_,"normal"),t.pointerEvents=Kt(N,"auto"),t.shapeRendering=Kt(x,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:H,scale:"auto",optional:!0},fillOpacity:{value:Y,scale:"auto",optional:!0},stroke:{value:W,scale:"auto",optional:!0},strokeOpacity:{value:et,scale:"auto",optional:!0},strokeWidth:{value:X,optional:!0},opacity:{value:J,scale:"auto",optional:!0}}}function l7(t,e){e&&t.filter(n=>Bu(e[n])).append("title").call(h7,e)}function d7(t,e){e&&t.filter(([n])=>Bu(e[n])).append("title").call(p7,e)}function h7(t,e){e&&t.text(n=>Ei(e[n]))}function p7(t,e){e&&t.text(([n])=>Ei(e[n]))}function Zr(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:s,strokeOpacity:f,strokeWidth:c,opacity:u,href:d}){r&&ut(t,"aria-label",l=>r[l]),a&&ut(t,"fill",l=>a[l]),o&&ut(t,"fill-opacity",l=>o[l]),s&&ut(t,"stroke",l=>s[l]),f&&ut(t,"stroke-opacity",l=>f[l]),c&&ut(t,"stroke-width",l=>c[l]),u&&ut(t,"opacity",l=>u[l]),d&&Xb(t,l=>d[l],e),n||l7(t,i)}function m7(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:s,strokeOpacity:f,strokeWidth:c,opacity:u,href:d}){r&&ut(t,"aria-label",([l])=>r[l]),a&&ut(t,"fill",([l])=>a[l]),o&&ut(t,"fill-opacity",([l])=>o[l]),s&&ut(t,"stroke",([l])=>s[l]),f&&ut(t,"stroke-opacity",([l])=>f[l]),c&&ut(t,"stroke-width",([l])=>c[l]),u&&ut(t,"opacity",([l])=>u[l]),d&&Xb(t,([l])=>d[l],e),n||d7(t,i)}function b7({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:o,opacity:s,href:f},{tip:c}){return[t,c?void 0:e,n,r,i,a,o,s,f].filter(u=>u!==void 0)}function g7(t,e,n){const r=Mv(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&ir("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*_7(t,e,n,r){const{z:i}=n,{z:a}=r,o=b7(r,n),s=[...e,...o];for(const f of a?g7(t,a,i):[t]){let c,u;t:for(const d of f){for(const l of s)if(!cr(l[d])){u&&u.push(-1);continue t}if(c===void 0){u&&(yield u),c=o.map(l=>In(l[d])),u=[d];continue}u.push(d);for(let l=0;l<o.length;++l)if(In(o[l][d])!==c[l]){yield u,c=o.map(p=>In(p[d])),u=[d];continue t}}u&&(yield u)}}function v7(t,e,n,r){let i;const{clip:a=r.clip}=e;a==="frame"?(t=ee("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=w7(r,n)):a&&(i=M7(a,r)),ut(t,"aria-label",e.ariaLabel),ut(t,"aria-description",e.ariaDescription),ut(t,"aria-hidden",e.ariaHidden),ut(t,"clip-path",i)}function y7(t){const e=new WeakMap;return(n,r)=>{let i=e.get(n);if(!i){const a=Vb();Sr(n.ownerSVGElement).append("clipPath").attr("id",a).call(t,n,r),e.set(n,i=`url(#${a})`)}return i}}const w7=y7((t,e,n)=>{const{width:r,height:i,marginLeft:a,marginRight:o,marginTop:s,marginBottom:f}=n;t.append("rect").attr("x",a).attr("y",s).attr("width",r-o-a).attr("height",i-s-f)}),uh=new WeakMap,x7={type:"Sphere"};function M7(t,e){let n,r;if((n=uh.get(e))||uh.set(e,n=new WeakMap),t.type==="Sphere"&&(t=x7),!(r=n.get(t))){const i=Vb();Sr(e.ownerSVGElement).append("clipPath").attr("id",i).append("path").attr("d",e.path()(t)),n.set(t,r=`url(#${i})`)}return r}function Yn(t,e,n,r){v7(t,e,n,r),ut(t,"class",e.className),ut(t,"fill",e.fill),ut(t,"fill-opacity",e.fillOpacity),ut(t,"stroke",e.stroke),ut(t,"stroke-width",e.strokeWidth),ut(t,"stroke-opacity",e.strokeOpacity),ut(t,"stroke-linejoin",e.strokeLinejoin),ut(t,"stroke-linecap",e.strokeLinecap),ut(t,"stroke-miterlimit",e.strokeMiterlimit),ut(t,"stroke-dasharray",e.strokeDasharray),ut(t,"stroke-dashoffset",e.strokeDashoffset),ut(t,"shape-rendering",e.shapeRendering),ut(t,"filter",e.imageFilter),ut(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;ut(t,"pointer-events",i)}function Bn(t,e){$7(t,"mix-blend-mode",e.mixBlendMode),ut(t,"opacity",e.opacity)}function Xb(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const a=this.ownerDocument.createElementNS(gi.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(gi.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function ut(t,e,n){n!=null&&t.attr(e,n)}function $7(t,e,n){n!=null&&t.style(e,n)}function Wn(t,e,{x:n,y:r},i=Ae,a=Ae){i+=e.dx,a+=e.dy,n?.bandwidth&&(i+=n.bandwidth()/2),r?.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&t.attr("transform",`translate(${i},${a})`)}function Kt(t,e){if((t=ae(t))!==e)return t}function Gi(t,e){if((t=fe(t))!==e)return t}const S7=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function ll(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!S7.test(t))throw new Error(`invalid class name: ${t}`);return t}function dl(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function ro({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(t)?o:/right$/.test(t)?e-i:(o+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-a:(r+n-a)/2]}class We{constructor(e,n={},r={},i){const{facet:a="auto",facetAnchor:o,fx:s,fy:f,sort:c,dx:u=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:m=l,marginLeft:b=l,className:y,clip:v=i?.clip,channels:$,tip:_,render:N}=r;if(this.data=e,this.sort=Ci(c)?c:null,this.initializer=ki(r).initializer,this.transform=this.initializer?r.transform:Sb(r).transform,a===null||a===!1?this.facet=null:(this.facet=Be(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=e===Lo&&typeof s=="string"?[s]:s,this.fy=e===Lo&&typeof f=="string"?[f]:f),this.facetAnchor=j8(o),n=yb(n),$!==void 0&&(n={...T7($),...n}),i!==void 0&&(n={...u7(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([x,A])=>{if(Ks(A.value)){const{value:C,label:k=A.label,scale:E=A.scale}=A.value;A={...A,label:k,scale:E,value:C}}if(e===Lo&&typeof A.value=="string"){const{value:C}=A;A={...A,value:[C]}}return[x,A]}).filter(([x,{value:A,optional:C}])=>{if(A!=null)return!0;if(C)return!1;throw new Error(`missing channel value: ${x}`)})),this.dx=+u,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+b,this.clip=wb(v),this.tip=A7(_),this.className=ae(y),this.facet==="super"){if(s||f)throw new Error("super-faceting cannot use fx or fy");for(const x in this.channels){const{scale:A}=n[x];if(!(A!=="x"&&A!=="y"))throw new Error("super-faceting cannot use x or y")}}N!=null&&(this.render=Qb(N,this.render))}initialize(e,n,r){let i=Ni(this.data);e===void 0&&i!=null&&(e=[Za(i)]);const a=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=Ni(i)),e!==void 0&&(e.original=a);const o=z4(this.channels,i);return this.sort!=null&&j4(i,e,o,n,this.sort),{data:i,facets:e,channels:o}}filter(e,n,r){for(const i in n){const{filter:a=cr}=n[i];if(a!==null){const o=r[i];e=e.filter(s=>a(o[s]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in e&&e[a].scale==="y"&&K8(i,a,n,r.projection)}}scale(e,n,r){const i=U4(e,n);return r.projection&&this.project(e,i,r),i}}function Zb(...t){return t.plot=We.prototype.plot,t}function Qb(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,a,o,s){return t.call(this,n,r,i,a,o,(f,c,u,d,l)=>e.call(this,f,c,u,d,l,s))}}function T7(t){return Object.fromEntries(Object.entries(yb(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:ef(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function A7(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?Be(t,"tip",["x","y","xy"]):t}function Kb(t,e){return t?.tip===!0?{...t,tip:e}:Gr(t?.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}function N7(t,e,n={}){let r=.5-Ae,i=.5+Ae,a=.5+Ae,o=.5-Ae;for(const{marginTop:m,marginRight:b,marginBottom:y,marginLeft:v}of e)m>r&&(r=m),b>i&&(i=b),y>a&&(a=y),v>o&&(o=v);let{margin:s,marginTop:f=s!==void 0?s:r,marginRight:c=s!==void 0?s:i,marginBottom:u=s!==void 0?s:a,marginLeft:d=s!==void 0?s:o}=n;f=+f,c=+c,u=+u,d=+d;let{width:l=640,height:h=C7(t,n,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,f-r+u-a)}=n;l=+l,h=+h;const p={width:l,height:h,marginTop:f,marginRight:c,marginBottom:u,marginLeft:d};if(t.fx||t.fy){let{margin:m,marginTop:b=m!==void 0?m:f,marginRight:y=m!==void 0?m:c,marginBottom:v=m!==void 0?m:u,marginLeft:$=m!==void 0?m:d}=n.facet??{};b=+b,y=+y,v=+v,$=+$,p.facet={marginTop:b,marginRight:y,marginBottom:v,marginLeft:$}}return p}function C7({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:s,marginRightDefault:f,marginBottomDefault:c,marginLeftDefault:u}){const d=n&&n.scale.domain().length||1,l=t7(i);if(l){const p=r?r.scale.domain().length:1,m=(1.1*d-.1)/(1.1*p-.1)*l,b=Math.max(.1,Math.min(10,m));return Math.round((o-u-f)*b+s+c)}const h=e?Xr(e)?e.scale.domain().length||1:Math.max(7,17/d):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=lh("y",e)/(lh("x",t)*a),m=r?r.scale.bandwidth():1,b=n?n.scale.bandwidth():1,y=m*(o-u-f)-t.insetLeft-t.insetRight;return(p*y+e.insetTop+e.insetBottom)/b+s+c}return!!(e||n)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function lh(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const s=e.scale.exponent();i=f=>Math.pow(f,s);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[a,o]=rr(r);return Math.abs(i(o)-i(a))}const dh=new WeakMap;function hl(t,e,{x:n,y:r,px:i,py:a,maxRadius:o=40,channels:s,render:f,...c}={}){return o=+o,i!=null&&(n??=null,s={...s,px:{value:i,scale:"x"}}),a!=null&&(r??=null,s={...s,py:{value:a,scale:"y"}}),{x:n,y:r,channels:s,...c,render:Qb(function(u,d,l,h,p,m){p={...p,pointerSticky:!1};const b=p.ownerSVGElement,{data:y}=p.getMarkState(this);let v=dh.get(b);v||dh.set(b,v={sticky:!1,roots:[],renders:[]});let $=v.renders.push(G)-1;const{x:_,y:N,fx:x,fy:A}=d;let C=x?x(u.fx)-h.marginLeft:0,k=A?A(u.fy)-h.marginTop:0;_?.bandwidth&&(C+=_.bandwidth()/2),N?.bandwidth&&(k+=N.bandwidth()/2);const E=u.fi!=null;let S;if(E){let j=v.facetStates;j||(v.facetStates=j=new Map),S=j.get(this),S||j.set(this,S=new Map)}const[F,O]=ro(this,h),{px:R,py:T}=l,P=R?j=>R[j]:Jb(l,F),Z=T?j=>T[j]:tg(l,O);let H,I,Y,Q;function W(j,X){if(E)if(Q&&(Q=cancelAnimationFrame(Q)),j==null)S.delete(u.fi);else{S.set(u.fi,X),Q=requestAnimationFrame(()=>{Q=null;for(const[L,q]of S)if(q<X||q===X&&L<u.fi){j=null;break}G(j)});return}G(j)}function G(j){if(H===j&&Y===v.sticky)return;H=j,Y=p.pointerSticky=v.sticky;const X=H==null?[]:[H];E&&(X.fx=u.fx,X.fy=u.fy,X.fi=u.fi);const L=m(X,d,l,h,p);if(I){if(E){const q=I.parentNode,z=I.getAttribute("transform"),D=L.getAttribute("transform");z?L.setAttribute("transform",z):L.removeAttribute("transform"),D?q.setAttribute("transform",D):q.removeAttribute("transform"),L.removeAttribute("aria-label"),L.removeAttribute("aria-description"),L.removeAttribute("aria-hidden")}I.replaceWith(L)}if(v.roots[$]=I=L,!(H==null&&S?.size>1)){const q=H==null?null:Xa(y)?y[H]:y.get(H);p.dispatchValue(q)}return L}function et(j){if(v.sticky||j.pointerType==="mouse"&&j.buttons===1)return;let[X,L]=Ny(j);X-=C,L-=k;const q=X<h.marginLeft||X>h.width-h.marginRight?1:t,z=L<h.marginTop||L>h.height-h.marginBottom?1:e;let D=null,tt=o*o;for(const B of u){const V=q*(P(B)-X),nt=z*(Z(B)-L),at=V*V+nt*nt;at<=tt&&(D=B,tt=at)}if(D!=null&&(t!==1||e!==1)){const B=P(D)-X,V=Z(D)-L;tt=B*B+V*V}W(D,tt)}function U(j){j.pointerType==="mouse"&&H!=null&&(v.sticky&&v.roots.some(X=>X?.contains(j.target))||(v.sticky?(v.sticky=!1,v.renders.forEach(X=>X(null))):(v.sticky=!0,G(H)),j.stopImmediatePropagation()))}function J(j){j.pointerType==="mouse"&&(v.sticky||W(null))}return b.addEventListener("pointerenter",et),b.addEventListener("pointermove",et),b.addEventListener("pointerdown",U),b.addEventListener("pointerleave",J),G(null)},f)}}function k7(t){return hl(1,1,t)}function E7(t){return hl(1,.01,t)}function hh(t){return hl(.01,1,t)}function Jb({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function tg({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function eg(t){return Xr(t)&&t.interval===void 0?void 0:"tabular-nums"}function D7(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:s=0,marginBottom:f=16+r,marginLeft:c=0,style:u,ticks:d=(i-c-s)/64,tickFormat:l,fontVariant:h=eg(t),round:p=!0,opacity:m,className:b}=e;const y=cl(e);b=ll(b),m=ge(m)[1],l===null&&(l=()=>null);const v=ee("svg",y).attr("class",`${b}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(F=>F.append("style").text(`:where(.${b}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${b}-ramp text) {
  white-space: pre;
}`)).call(dl,u);let $=F=>F.selectAll(".tick line").attr("y1",o+f-a),_;const N=p?(F,O)=>F.rangeRound(O):(F,O)=>F.range(O),{type:x,domain:A,range:C,interpolate:k,scale:E,pivot:S}=t;if(k){const F=C===void 0?k:Ls(k.length===1?ol(k):k,C);_=N(E.copy(),tn(re(c,i-s),Math.min(A.length+(S!==void 0),C===void 0?1/0:C.length)));const O=256,R=y.document.createElement("canvas");R.width=O,R.height=1;const T=R.getContext("2d");for(let P=0,Z=O-1;P<O;++P)T.fillStyle=F(P/Z),T.fillRect(P,0,1,1);v.append("image").attr("opacity",m).attr("x",c).attr("y",o).attr("width",i-c-s).attr("height",a-o-f).attr("preserveAspectRatio","none").attr("xlink:href",R.toDataURL())}else if(x==="threshold"){const F=A,O=l===void 0?R=>R:typeof l=="string"?Fi(l):l;_=N(Fu().domain([-1,C.length-1]),[c,i-s]),v.append("g").attr("fill-opacity",m).selectAll().data(C).enter().append("rect").attr("x",(R,T)=>_(T-1)).attr("y",o).attr("width",(R,T)=>_(T)-_(T-1)).attr("height",a-o-f).attr("fill",R=>R),d=ue(F,(R,T)=>T),l=R=>O(F[R],R)}else _=N(qs().domain(A),[c,i-s]),v.append("g").attr("fill-opacity",m).selectAll().data(A).enter().append("rect").attr("x",_).attr("y",o).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",a-o-f).attr("fill",E),$=()=>{};return v.append("g").attr("transform",`translate(0,${a-f})`).call(Bv(_).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Kt(h,"normal")).call($).call(F=>F.select(".domain").remove()),n!==void 0&&v.append("text").attr("x",c).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(n),v.node()}const vs=Math.PI/180;function pl(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=Vf(n),t.markerMid=Vf(r),t.markerEnd=Vf(i)}function Vf(t){if(t==null||t===!1)return null;if(t===!0)return mh;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return ph("auto");case"arrow-reverse":return ph("auto-start-reverse");case"dot":return L7;case"circle":case"circle-fill":return mh;case"circle-stroke":return R7;case"tick":return Xf("auto");case"tick-x":return Xf(90);case"tick-y":return Xf(0)}throw new Error(`invalid marker: ${t}`)}function ph(t){return(e,n)=>ee("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function L7(t,e){return ee("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function mh(t,e){return ee("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function R7(t,e){return ee("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Xf(t){return(e,n)=>ee("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let I7=0;function ng(t,e,{stroke:n},r){return ig(t,e,n&&(i=>n[i]),null,r)}function F7(t,e,{stroke:n,z:r},i){return ig(t,e,n&&(([a])=>n[a]),r,i)}const nu=1,rg=2;function O7(t,e){const n=new Uint8Array(e.length),r=t.data().filter(a=>a.length>1),i=r.length;for(let a=0,o=eu;a<i;++a){const s=r[a];if(s.length>1){const f=s[0];o!==(o=In(e[f]))&&(n[f]|=nu)}}for(let a=i-1,o=eu;a>=0;--a){const s=r[a];if(s.length>1){const f=s[0];o!==(o=In(e[f]))&&(n[f]|=rg)}}return([a])=>n[a]}function ig(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},a=()=>i,o,s){if(!e&&!n&&!r)return;const f=new Map,c=o&&O7(t,o);function u(d,l,h){return function(p){if(h&&!h(p))return;const m=a(p);let b=f.get(l);b||f.set(l,b=new Map);let y=b.get(m);if(!y){const v=this.parentNode.insertBefore(l(m,s),this),$=`plot-marker-${++I7}`;v.setAttribute("id",$),b.set(m,y=`url(#${$})`)}this.setAttribute(d,y)}}e&&t.each(u("marker-start",e,c&&(d=>c(d)&nu))),n&&c&&t.each(u("marker-start",n,d=>!(c(d)&nu))),n&&t.each(u("marker-mid",n)),r&&t.each(u("marker-end",r,c&&(d=>c(d)&rg)))}function ag({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=sg(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function og({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=sg(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function sg(t,e,n){return t===void 0&&e===void 0&&n===void 0?Ae?[1,0]:[.5,.5]:[e,n]}function fg(t,{interval:e}){return t={...ef(t)},t.interval=Ju(t.interval===void 0?e:t.interval),t}function cg(t,e,n,r){const{[t]:i,[`${t}1`]:a,[`${t}2`]:o}=n,{value:s,interval:f}=fg(i,n);if(s==null||f==null&&!r)return n;const c=tf(i);if(f==null){let h;const p={transform:m=>h||(h=ur(m,s)),label:c};return{...n,[t]:void 0,[`${t}1`]:a===void 0?p:a,[`${t}2`]:o===void 0&&!(a===o&&r)?p:o}}let u,d;function l(h){return d!==void 0&&h===u?d:d=ue(ur(u=h,s),p=>f.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:a===void 0?{transform:l,label:c}:a,[`${t}2`]:o===void 0?{transform:h=>l(h).map(p=>f.offset(p)),label:c}:o})}function ug(t,e,n){const{[t]:r}=n,{value:i,interval:a}=fg(r,n);return i==null||a==null?n:e({...n,[t]:{label:tf(r),transform:o=>{const s=ue(ur(o,i),c=>a.floor(c)),f=s.map(c=>a.offset(c));return s.map(vn(s)?(c,u)=>c==null||isNaN(c=+c)||(u=f[u],u==null)||isNaN(u=+u)?void 0:new Date((c+u)/2):(c,u)=>c==null||(u=f[u],u==null)?NaN:(+c+ +u)/2)}}})}function P7(t={}){return cg("x",ag,t)}function q7(t={}){return cg("y",og,t)}function z7(t={}){return ug("x",ag,t)}function U7(t={}){return ug("y",og,t)}const lg={ariaLabel:"rule",fill:null,stroke:"currentColor"};class j7 extends We{constructor(e,n={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:s=o,insetBottom:f=o}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},Kb(n,"x"),lg),this.insetTop=fe(s),this.insetBottom=fe(f),pl(this,n)}render(e,n,r,i,a){const{x:o,y:s}=n,{x:f,y1:c,y2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:b}=i,{insetTop:y,insetBottom:v}=this;return ee("svg:g",a).call(Yn,this,i,a).call(Wn,this,{x:f&&o},Ae,0).call($=>$.selectAll().data(e).enter().append("line").call(Bn,this).attr("x1",f?_=>f[_]:(m+d-p)/2).attr("x2",f?_=>f[_]:(m+d-p)/2).attr("y1",c&&!_s(s)?_=>c[_]+y:h+y).attr("y2",u&&!_s(s)?s.bandwidth?_=>u[_]+s.bandwidth()-v:_=>u[_]-v:l-b-v).call(Zr,this,r).call(ng,this,r,a)).node()}}class H7 extends We{constructor(e,n={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:s=o,insetLeft:f=o}=n;super(e,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Kb(n,"y"),lg),this.insetRight=fe(s),this.insetLeft=fe(f),pl(this,n)}render(e,n,r,i,a){const{x:o,y:s}=n,{y:f,x1:c,x2:u}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:b}=i,{insetLeft:y,insetRight:v}=this;return ee("svg:g",a).call(Yn,this,i,a).call(Wn,this,{y:f&&s},0,Ae).call($=>$.selectAll().data(e).enter().append("line").call(Bn,this).attr("x1",c&&!_s(o)?_=>c[_]+y:m+y).attr("x2",u&&!_s(o)?o.bandwidth?_=>u[_]+o.bandwidth()-v:_=>u[_]-v:d-p-v).attr("y1",f?_=>f[_]:(h+l-b)/2).attr("y2",f?_=>f[_]:(h+l-b)/2).call(Zr,this,r).call(ng,this,r,a)).node()}}function Y7(t,e){let{x:n=jn,y:r,y1:i,y2:a,...o}=q7(e);return[i,a]=dg(r,i,a),new j7(t,{...o,x:n,y1:i,y2:a})}function B7(t,e){let{y:n=jn,x:r,x1:i,x2:a,...o}=P7(e);return[i,a]=dg(r,i,a),new H7(t,{...o,y:n,x1:i,x2:a})}function dg(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function ml(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let a=0;a<n;++a)i+=e[a](r)+t[a+1];return i}}const W7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},hg="";let bl=class extends We{constructor(e,n={}){const{x:r,y:i,text:a=Vr(e)&&vb(e)?jn:J5,frameAnchor:o,textAnchor:s=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:f=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:c=1,lineWidth:u=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:b,fontWeight:y,rotate:v}=n,[$,_]=ge(v,0),[N,x]=K7(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:N,optional:!0},rotate:{value:u4($),optional:!0},text:{value:a,filter:Bu,optional:!0}},n,W7),this.rotate=_,this.textAnchor=Kt(s,"middle"),this.lineAnchor=Be(f,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+u,this.textOverflow=pg(d),this.monospace=!!l,this.fontFamily=ae(h),this.fontSize=x,this.fontStyle=ae(m),this.fontVariant=ae(b),this.fontWeight=ae(y),this.frameAnchor=rf(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${u}`);this.splitLines=bg(this),this.clipLine=gg(this)}render(e,n,r,i,a){const{x:o,y:s}=n,{x:f,y:c,rotate:u,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[m,b]=ro(this,i);return ee("svg:g",a).call(Yn,this,i,a).call(mg,this,d,i).call(Wn,this,{x:f&&o,y:c&&s}).call(y=>y.selectAll().data(e).enter().append("text").call(Bn,this).call(G7,this,d,l).attr("transform",ml`translate(${f?v=>f[v]:m},${c?v=>c[v]:b})${u?v=>` rotate(${u[v]})`:p?` rotate(${p})`:""}`).call(ut,"font-size",h&&(v=>h[v])).call(Zr,this,r)).node()}};function pg(t){return t==null?null:Be(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function G7(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:s,clipLine:f}=e;t.each(function(c){const u=s(Ei(n[c])??"").map(f),d=u.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!u[p])continue;const m=this.ownerDocument.createElementNS(gi.svg,"tspan");m.setAttribute("x",0),p===h-1?m.setAttribute("y",`${(l+p)*a}em`):m.setAttribute("dy",`${h*a}em`),m.textContent=u[p],this.appendChild(m),h=0}}else l&&this.setAttribute("y",`${l*a}em`),this.textContent=u[0];if(o&&!r&&u[0]!==n[c]){const h=this.ownerDocument.createElementNS(gi.svg,"title");h.textContent=n[c],this.appendChild(h)}})}function ar(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Js(e,n)),new bl(t,{...r,x:e,y:n})}function V7(t,{x:e=jn,...n}={}){return new bl(t,U7({...n,x:e}))}function X7(t,{y:e=jn,...n}={}){return new bl(t,z7({...n,y:e}))}function mg(t,e,n){ut(t,"text-anchor",e.textAnchor),ut(t,"font-family",e.fontFamily),ut(t,"font-size",e.fontSize),ut(t,"font-style",e.fontStyle),ut(t,"font-variant",e.fontVariant===void 0?Z7(n):e.fontVariant),ut(t,"font-weight",e.fontWeight)}function Z7(t){return t&&(h4(t)||vn(t))?"tabular-nums":void 0}const Q7=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function K7(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),Q7.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function J7(t,e,n){const r=[];let i,a=0;for(const[o,s,f]of t9(t)){if(i===void 0&&(i=o),a>i&&n(t,i,s)>e&&(r.push(t.slice(i,a)+(t[a-1]===hg?"-":"")),i=o),f){r.push(t.slice(i,s)),i=void 0;continue}a=s}return r}function*t9(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case hg:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const bh={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function gl(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Pi(t,i))r+=bh[t[i]]??(vg(t,i)?120:bh.e);return r}function _l(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=Pi(t,i))r+=vg(t,i)?126:63;return r}function bg({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return a=>a.split(/\r\n?|\n/g);const r=t?_l:gl,i=e*100;return a=>J7(a,i,r)}function gg({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return a=>a;const r=t?_l:gl,i=e*100;switch(n){case"clip-start":return a=>_h(a,i,r,"");case"clip-end":return a=>gh(a,i,r,"");case"ellipsis-start":return a=>_h(a,i,r,li);case"ellipsis-middle":return a=>e9(a,i,r,li);case"ellipsis-end":return a=>gh(a,i,r,li)}}const li="";function Di(t,e,n,r){const i=[];let a=0;for(let o=0,s=0,f=t.length;o<f;o=s){s=Pi(t,o);const c=n(t,o,s);if(a+c>e){for(a+=r;a>e&&o>0;)s=o,o=i.pop(),a-=n(t,o,s);return[o,e-a]}a+=c,i.push(o)}return[-1,0]}function gh(t,e,n,r){t=t.trim();const i=n(r),[a]=Di(t,e,n,i);return a<0?t:t.slice(0,a).trimEnd()+r}function e9(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const a=n(r)/2,[o,s]=Di(t,e/2,n,a),[f]=Di(t,i-e/2-s+a,n,-a);return f<0?r:t.slice(0,o).trimEnd()+r+t.slice(Pi(t,f)).trimStart()}function _h(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const a=n(r),[o]=Di(t,i-e+a,n,-a);return o<0?r:r+t.slice(Pi(t,o)).trimStart()}const ru=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,vh=new RegExp("\\p{Extended_Pictographic}","uy");function Pi(t,e){return e+=n9(t,e)?2:1,i9(t,e)&&(e=ru.lastIndex),r9(t,e)?Pi(t,e+1):e}function _g(t,e){return t.charCodeAt(e)<128}function n9(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function r9(t,e){return t.charCodeAt(e)===8205}function i9(t,e){return _g(t,e)?!1:(ru.lastIndex=e,ru.test(t))}function vg(t,e){return _g(t,e)?!1:(vh.lastIndex=e,vh.test(t))}const a9={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},yg=3.5,o9=yg*5,wg={draw(t,e,n){const r=e*n/o9;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},s9={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},f9=new Map([["arrow",wg],["spike",s9]]);function c9(t){return t&&typeof t.draw=="function"}function u9(t){if(c9(t))return t;const e=f9.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class xg extends We{constructor(e,n={}){const{x:r,y:i,r:a=yg,length:o,rotate:s,shape:f=wg,anchor:c="middle",frameAnchor:u}=n,[d,l]=ge(o,12),[h,p]=ge(s,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,a9),this.r=+a,this.length=l,this.rotate=p,this.shape=u9(f),this.anchor=Be(c,"anchor",["start","middle","end"]),this.frameAnchor=rf(u)}render(e,n,r,i,a){const{x:o,y:s}=n,{x:f,y:c,length:u,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:m,r:b}=this,[y,v]=ro(this,i);return ee("svg:g",a).call(Yn,this,i,a).call(Wn,this,{x:f&&o,y:c&&s}).call($=>$.selectAll().data(e).enter().append("path").call(Bn,this).attr("transform",ml`translate(${f?_=>f[_]:y},${c?_=>c[_]:v})${d?_=>` rotate(${d[_]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?u?_=>` translate(0,${u[_]})`:` translate(0,${l})`:u?_=>` translate(0,${u[_]/2})`:` translate(0,${l/2})`}`).attr("d",u?_=>{const N=Mr();return m.draw(N,u[_],b),N}:(()=>{const _=Mr();return m.draw(_,l,b),_})()).call(Zr,this,r)).node()}}function l9(t,e={}){const{x:n=jn,...r}=e;return new xg(t,{...r,x:n})}function d9(t,e={}){const{y:n=jn,...r}=e;return new xg(t,{...r,y:n})}function br(t,e){return arguments.length<2&&!Vr(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function cf({anchor:t}={},e){return t===void 0?e[0]:Be(t,"anchor",e)}function Mg(t){return cf(t,["left","right"])}function $g(t){return cf(t,["right","left"])}function Sg(t){return cf(t,["bottom","top"])}function Tg(t){return cf(t,["top","bottom"])}function Ag(){const[t,e]=br(...arguments);return Cg("y",Mg(e),t,e)}function h9(){const[t,e]=br(...arguments);return Cg("fy",$g(e),t,e)}function Ng(){const[t,e]=br(...arguments);return kg("x",Sg(e),t,e)}function p9(){const[t,e]=br(...arguments);return kg("fx",Tg(e),t,e)}function Cg(t,e,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:s=1,fill:f=r,fillOpacity:c=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:b,x:y,margin:v,marginTop:$=v===void 0?20:v,marginRight:_=v===void 0?e==="right"?40:0:v,marginBottom:N=v===void 0?20:v,marginLeft:x=v===void 0?e==="left"?40:0:v,label:A,labelAnchor:C,labelArrow:k,labelOffset:E,ariaLabel:S=`${t}-axis`,...F}){return p=fe(p),m=fe(m),b=fe(b),C!==void 0&&(C=Be(C,"labelAnchor",["center","top","bottom"])),k=Pg(k),Zb(p&&!_e(a)?m9(t,e,n,{stroke:a,strokeOpacity:o,strokeWidth:s,tickSize:p,tickPadding:m,tickRotate:b,x:y,ariaLabel:S,...F}):null,_e(f)?null:g9(t,e,n,{fill:f,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:m,tickRotate:b,x:y,marginTop:$,marginRight:_,marginBottom:N,marginLeft:x,ariaLabel:S,...F}),!_e(f)&&A!==null?ar([],Rg({fill:f,fillOpacity:c,...F},function(O,R,T,P,Z){const H=P[t],{marginTop:I,marginRight:Y,marginBottom:Q,marginLeft:W}=t==="y"&&Z.inset||Z,G=C??(H.bandwidth?"center":"top"),et=E??(e==="right"?Y:W)-3;return G==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=G,this.frameAnchor=`${G}-${e}`,this.rotate=0),this.dy=G==="top"?3-I:G==="bottom"?Q-3:0,this.dx=e==="right"?et:-et,this.ariaLabel=`${S} label`,{facets:[[0]],channels:{text:{value:[Og(t,H,{anchor:e,label:A,labelAnchor:G,labelArrow:k})]}}}})):null)}function kg(t,e,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:s=1,fill:f=r,fillOpacity:c=i,textAnchor:u,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:b,y,margin:v,marginTop:$=v===void 0?e==="top"?30:0:v,marginRight:_=v===void 0?20:v,marginBottom:N=v===void 0?e==="bottom"?30:0:v,marginLeft:x=v===void 0?20:v,label:A,labelAnchor:C,labelArrow:k,labelOffset:E,ariaLabel:S=`${t}-axis`,...F}){return p=fe(p),m=fe(m),b=fe(b),C!==void 0&&(C=Be(C,"labelAnchor",["center","left","right"])),k=Pg(k),Zb(p&&!_e(a)?b9(t,e,n,{stroke:a,strokeOpacity:o,strokeWidth:s,tickSize:p,tickPadding:m,tickRotate:b,y,ariaLabel:S,...F}):null,_e(f)?null:_9(t,e,n,{fill:f,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:u,tickSize:p,tickPadding:m,tickRotate:b,y,marginTop:$,marginRight:_,marginBottom:N,marginLeft:x,ariaLabel:S,...F}),!_e(f)&&A!==null?ar([],Rg({fill:f,fillOpacity:c,...F},function(O,R,T,P,Z){const H=P[t],{marginTop:I,marginRight:Y,marginBottom:Q,marginLeft:W}=t==="x"&&Z.inset||Z,G=C??(H.bandwidth?"center":"right"),et=E??(e==="top"?I:Q)-3;return G==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${G}`,this.textAnchor=G==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-et:et,this.dx=G==="right"?Y-3:G==="left"?3-W:0,this.ariaLabel=`${S} label`,{facets:[[0]],channels:{text:{value:[Og(t,H,{anchor:e,label:A,labelAnchor:G,labelArrow:k})]}}}})):null)}function m9(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=e+(t==="y"?"-empty":""),frameAnchor:s=e,tickSize:f,inset:c=0,insetLeft:u=c,insetRight:d=c,dx:l=0,y:h=t==="y"?void 0:null,ariaLabel:p,...m}){return qi(d9,t,n,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:s,y:h,...m,dx:e==="left"?+l-Ae+ +u:+l+Ae-d,anchor:"start",length:f,shape:e==="left"?T9:A9})}function b9(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=e+(t==="x"?"-empty":""),frameAnchor:s=e,tickSize:f,inset:c=0,insetTop:u=c,insetBottom:d=c,dy:l=0,x:h=t==="x"?void 0:null,ariaLabel:p,...m}){return qi(l9,t,n,{ariaLabel:`${p} tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:s,x:h,...m,dy:e==="bottom"?+l-Ae-d:+l+Ae+ +u,anchor:"start",length:f,shape:e==="bottom"?$9:S9})}function g9(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:o=0,tickPadding:s=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*vs):0),text:f,textAnchor:c=Math.abs(o)>60?"middle":e==="left"?"end":"start",lineAnchor:u=o>60?"top":o<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:m=0,ariaLabel:b,y=t==="y"?void 0:null,...v}){return qi(X7,t,n,{ariaLabel:`${b} tick label`},{facetAnchor:r,frameAnchor:i,text:f,textAnchor:c,lineAnchor:u,fontVariant:d,rotate:o,y,...v,dx:e==="left"?+m-a-s+ +h:+m+ +a+ +s-p},function($,_,N,x,A){d===void 0&&(this.fontVariant=Fg($)),f===void 0&&(A.text=Ig($,_,N,x,e))})}function _9(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:a,tickRotate:o=0,tickPadding:s=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*vs):0),text:f,textAnchor:c=Math.abs(o)>=10?o<0^e==="bottom"?"start":"end":"middle",lineAnchor:u=Math.abs(o)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:m=0,x:b=t==="x"?void 0:null,ariaLabel:y,...v}){return qi(V7,t,n,{ariaLabel:`${y} tick label`},{facetAnchor:r,frameAnchor:i,text:f===void 0?null:f,textAnchor:c,lineAnchor:u,fontVariant:d,rotate:o,x:b,...v,dy:e==="bottom"?+m+ +a+ +s-p:+m-a-s+ +h},function($,_,N,x,A){d===void 0&&(this.fontVariant=Fg($)),f===void 0&&(A.text=Ig($,_,N,x,e))})}function v9(){const[t,e]=br(...arguments);return Eg("y",Mg(e),t,e)}function y9(){const[t,e]=br(...arguments);return Eg("fy",$g(e),t,e)}function w9(){const[t,e]=br(...arguments);return Dg("x",Sg(e),t,e)}function x9(){const[t,e]=br(...arguments);return Dg("fx",Tg(e),t,e)}function Eg(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:a=e==="left"?i:null,x2:o=e==="right"?i:null,ariaLabel:s=`${t}-grid`,ariaHidden:f=!0,...c}){return qi(B7,t,n,{ariaLabel:s,ariaHidden:f},{y:r,x1:a,x2:o,...Lg(c)})}function Dg(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:a=e==="top"?i:null,y2:o=e==="bottom"?i:null,ariaLabel:s=`${t}-grid`,ariaHidden:f=!0,...c}){return qi(Y7,t,n,{ariaLabel:s,ariaHidden:f},{x:r,y1:a,y2:o,...Lg(c)})}function Lg({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function Rg({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:s,pointerEvents:f,shapeRendering:c,clip:u=!1},d){return[,t]=Ur(t),[,e]=ge(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:s,pointerEvents:f,shapeRendering:c,clip:u,initializer:d}}function qi(t,e,n,r,i,a){let o;function s(u,d,l,h,p,m){const b=u==null&&(e==="fx"||e==="fy"),{[e]:y}=h;if(!y)throw new Error(`missing scale: ${e}`);const v=y.domain();let{interval:$,ticks:_,tickFormat:N,tickSpacing:x=e==="x"?80:35}=i;if(typeof _=="string"&&qg(y)&&($=_,_=void 0),_===void 0&&(_=Qa($,y.type)??M9(y,x)),u==null){if(Vr(_))u=Wr(_);else if(c4(_))u=Zf(_,...rr(v));else if(y.interval){let C=y.interval;if(y.ticks){const[k,E]=rr(v),S=(E-k)/C[Va];C=Ud(C,S/_)??C,u=Zf(C,k,E)}else{u=v;const k=u.length;C=Ud(C,k/_)??C,C!==y.interval&&(u=Zf(C,...rr(u)))}if(C===y.interval){const k=Math.round(u.length/_);k>1&&(u=u.filter((E,S)=>S%k===0))}}else y.ticks?u=y.ticks(_):u=v;if(!y.ticks&&u.length&&u!==v){const C=new Ns(v);u=u.filter(k=>C.has(k)),u.length||ir(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?d=[Za(u)]:o[e]={scale:e,value:jn}}a?.call(this,y,u,_,N,o);const A=Object.fromEntries(Object.entries(o).map(([C,k])=>[C,{...k,value:ur(u,k.value)}]));return b&&(d=m.filterFacets(u,A)),{data:u,facets:d,channels:A}}const f=ki(i).initializer,c=t(n,ki({...i,initializer:s},f));return n==null?(o=c.channels,c.channels={}):o={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function M9(t,e){const[n,r]=rr(t.range());return(r-n)/e}function Ig(t,e,n,r,i){return{value:vl(t,e,n,r,i)}}function vl(t,e,n,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&e&&vn(e)?W5(t.type,e,i)??Ei:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):typeof r=="string"&&t.domain().length>0?(vn(t.domain())?Ga:Fi)(r):r===void 0?Ei:Qe(r)}function Zf(t,e,n){return t.range(e,t.offset(t.floor(n)))}const $9={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},S9={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},T9={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},A9={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function Fg(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function Og(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&qg(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!e.bandwidth||e.interval)&&!/[]/.test(r)),!a)return r;if(a===!0){const o=C8(e);o&&(a=/x$/.test(t)||i==="center"?/x$/.test(t)===o<0?"left":"right":o<0?"up":"down")}switch(a){case"left":return` ${r}`;case"right":return`${r} `;case"up":return n==="right"?`${r} `:` ${r}`;case"down":return n==="right"?`${r} `:` ${r}`}return r}}function Pg(t="auto"){return _e(t)?!1:typeof t=="boolean"?t:Be(t,"labelArrow",["auto","up","right","down","left"])}function qg(t){return vn(t.domain())}function yh(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function N9(t,{opacity:e,...n}={}){if(!Xr(t)&&!Bb(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return zg(t,n,(r,i,a,o)=>r.append("svg").attr("width",a).attr("height",o).attr("fill",i.scale).attr("fill-opacity",ge(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function C9(t,{fill:e=t.hint?.fill!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=t.hint?.stroke!==void 0?t.hint.stroke:_e(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...s}={},f){const[c,u]=Ur(e),[d,l]=Ur(r),h=yh(f,c),p=yh(f,d),m=o*o*Math.PI;return n=ge(n)[1],i=ge(i)[1],a=ge(a)[1],zg(t,s,(b,y,v,$)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",v).attr("height",$).attr("fill",c==="color"?_=>h.scale(_):u).attr("fill-opacity",n).attr("stroke",d==="color"?_=>p.scale(_):l).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",_=>{const N=Mr();return t.scale(_).draw(N,m),N}))}function zg(t,e={},n){let{columns:r,tickFormat:i,fontVariant:a=eg(t),swatchSize:o=15,swatchWidth:s=o,swatchHeight:f=o,marginLeft:c=0,className:u,style:d,width:l}=e;const h=cl(e);u=ll(u),i=vl(t.scale,t.domain,void 0,i);const p=ee("div",h).attr("class",`${u}-swatches ${u}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${u}-swatches-columns .${u}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${u}-swatches-columns .${u}-swatch::before) {
  flex-shrink: 0;
}
:where(.${u}-swatches-columns .${u}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${u}-swatch`).call(n,t,s,f).call(b=>b.append("div").attr("class",`${u}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${u}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${u}-swatches-wrap .${u}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${u}-swatch`).call(n,t,s,f).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(b=>b.insert("style","*").text(`:where(.${u}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${u}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",c?`${+c}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",Kt(a,"normal")).call(dl,d).node()}const iu=new Map([["symbol",C9],["color",jg],["opacity",E9]]);function k9(t,e,n={}){return(r,i)=>{if(!iu.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return iu.get(r)(t[r],Ug(e,n[r],i),a=>t[a])}}function Ug({className:t,...e},{label:n,ticks:r,tickFormat:i}={},a){return g4(a,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function jg(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return N9(t,n);case"ramp":return D7(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function E9({type:t,interpolate:e,...n},{legend:r=!0,color:i=sr(0,0,0),...a}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return jg({type:t,...n,interpolate:D9(i)},{legend:r,...a})}function D9(t){const{r:e,g:n,b:r}=sr(t)||sr(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function L9(t,e,n){const r=[];for(const[i,a]of iu){const o=n[i];if(o?.legend&&i in t){const s=a(t[i],Ug(e,t[i],o),f=>t[f]);s!=null&&r.push(s)}}return r}function R9(t,{inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:a=e}={}){t.insetTop=fe(n),t.insetRight=fe(r),t.insetBottom=fe(i),t.insetLeft=fe(a)}function I9(t,{r:e,rx:n,ry:r,rx1:i=e,ry1:a=e,rx2:o=e,ry2:s=e,rx1y1:f=i!==void 0?+i:a!==void 0?+a:0,rx1y2:c=i!==void 0?+i:s!==void 0?+s:0,rx2y1:u=o!==void 0?+o:a!==void 0?+a:0,rx2y2:d=o!==void 0?+o:s!==void 0?+s:0}={}){f||c||u||d?(t.rx1y1=f,t.rx1y2=c,t.rx2y1=u,t.rx2y2=d):(t.rx=Kt(n,"auto"),t.ry=Kt(r,"auto"))}function F9(t,e,n,r,i,a){const{rx1y1:o,rx1y2:s,rx2y1:f,rx2y2:c}=a;typeof e!="function"&&(e=Qe(e)),typeof n!="function"&&(n=Qe(n)),typeof r!="function"&&(r=Qe(r)),typeof i!="function"&&(i=Qe(i));const u=Math.max(Math.abs(o+f),Math.abs(s+c)),d=Math.max(Math.abs(o+s),Math.abs(f+c));t.attr("d",l=>{const h=e(l),p=n(l),m=r(l),b=i(l),y=h>m,v=p>b,$=y?m:h,_=y?h:m,N=v?b:p,x=v?p:b,A=Math.min(1,(_-$)/u,(x-N)/d),C=A*(y?v?c:f:v?s:o),k=A*(y?v?s:o:v?c:f),E=A*(y?v?o:s:v?f:c),S=A*(y?v?f:c:v?o:s);return`M${$},${N+xo(C,S)}A${C},${C} 0 0 ${C<0?0:1} ${$+wo(C,S)},${N}H${_-wo(k,E)}A${k},${k} 0 0 ${k<0?0:1} ${_},${N+xo(k,E)}V${x-xo(E,k)}A${E},${E} 0 0 ${E<0?0:1} ${_-wo(E,k)},${x}H${$+wo(S,C)}A${S},${S} 0 0 ${S<0?0:1} ${$},${x-xo(S,C)}Z`})}function wo(t,e){return e<0?t:Math.abs(t)}function xo(t,e){return e<0?Math.abs(t):t}const O9={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},P9={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class q9 extends We{constructor(e={}){const{anchor:n=null}=e;super(Lo,void 0,e,n==null?O9:P9),this.anchor=gb(n,"anchor",["top","right","bottom","left"]),R9(this,e),n||I9(this,e)}render(e,n,r,i,a){const{marginTop:o,marginRight:s,marginBottom:f,marginLeft:c,width:u,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:m,insetLeft:b}=this,{rx:y,ry:v,rx1y1:$,rx1y2:_,rx2y1:N,rx2y2:x}=this,A=c+b,C=u-s-p,k=o+h,E=d-f-m;return ee(l?"svg:line":$||_||N||x?"svg:path":"svg:rect",a).datum(0).call(Yn,this,i,a).call(Bn,this).call(Zr,this,r).call(Wn,this,{}).call(l==="left"?S=>S.attr("x1",A).attr("x2",A).attr("y1",k).attr("y2",E):l==="right"?S=>S.attr("x1",C).attr("x2",C).attr("y1",k).attr("y2",E):l==="top"?S=>S.attr("x1",A).attr("x2",C).attr("y1",k).attr("y2",k):l==="bottom"?S=>S.attr("x1",A).attr("x2",C).attr("y1",E).attr("y2",E):$||_||N||x?S=>S.call(F9,A,k,C,E,this):S=>S.attr("x",A).attr("y",k).attr("width",C-A).attr("height",E-k).attr("rx",y).attr("ry",v)).node()}}function z9(t){return new q9(t)}const Qf={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},U9=new Set(["geometry","href","src","ariaLabel","scales"]);class j9 extends We{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&Vr(e)&&vb(e)&&(n={...n,title:jn});const{x:r,y:i,x1:a,x2:o,y1:s,y2:f,anchor:c,preferredAnchor:u="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:m,fontWeight:b,lineHeight:y=1,lineWidth:v=20,frameAnchor:$,format:_,textAnchor:N="start",textOverflow:x,textPadding:A=8,title:C,pointerSize:k=12,pathFilter:E="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:a!=null&&o!=null?null:r,scale:"x",optional:!0},y:{value:s!=null&&f!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:o==null},y1:{value:s,scale:"y",optional:f==null},x2:{value:o,scale:"x",optional:a==null},y2:{value:f,scale:"y",optional:s==null},title:{value:C,optional:!0}},n,Qf),this.anchor=Vc(c,"anchor"),this.preferredAnchor=Vc(u,"preferredAnchor"),this.frameAnchor=rf($),this.textAnchor=Kt(N,"middle"),this.textPadding=+A,this.pointerSize=+k,this.pathFilter=ae(E),this.lineHeight=+y,this.lineWidth=+v,this.textOverflow=pg(x),this.monospace=!!d,this.fontFamily=ae(l),this.fontSize=fe(h),this.fontStyle=ae(p),this.fontVariant=ae(m),this.fontWeight=ae(b);for(const S in Qf)S in this.channels&&(this[S]=Qf[S]);this.splitLines=bg(this),this.clipLine=gg(this),this.format=typeof _=="string"||typeof _=="function"?{title:_}:{..._}}render(e,n,r,i,a){const o=this,{x:s,y:f,fx:c,fy:u}=n,{ownerSVGElement:d,document:l}=a,{anchor:h,monospace:p,lineHeight:m,lineWidth:b}=this,{textPadding:y,pointerSize:v,pathFilter:$}=this,{marginTop:_,marginLeft:N}=i,{x1:x,y1:A,x2:C,y2:k,x:E=x??C,y:S=A??k}=r,F=c?c(e.fx)-N:0,O=u?u(e.fy)-_:0,[R,T]=ro(this,i),P=Jb(r,R),Z=tg(r,T),H=p?_l:gl,I=H(li);let Y,Q;"title"in r?(Y=wh.call(this,{title:r.channels.title},n),Q=G9):(Y=wh.call(this,r.channels,n),Q=V9);const W=ee("svg:g",a).call(Yn,this,i,a).call(mg,this).call(Wn,this,{x:E&&s,y:S&&f}).call(U=>U.selectAll().data(e).enter().append("g").attr("transform",J=>`translate(${Math.round(P(J))},${Math.round(Z(J))})`).call(Bn,this).call(J=>J.append("path").attr("filter",$)).call(J=>J.append("text").each(function(j){const X=Sr(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const L=Q.call(o,j,e,Y,n,r);if(typeof L=="string")for(const q of o.splitLines(L))G(X,{value:o.clipLine(q)});else{const q=new Set;for(const z of L){const{label:D=""}=z;D&&q.has(D)||(q.add(D),G(X,z))}}})));function G(U,{label:J,value:j,color:X,opacity:L}){J??="",j??="";const q=X!=null||L!=null;let z,D=b*100;const[tt]=Di(J,D,H,I);if(tt>=0)J=J.slice(0,tt).trimEnd()+li,z=j.trim(),j="";else{(J||!j&&!q)&&(j=" "+j);const[V]=Di(j,D-H(J),H,I);V>=0&&(z=j.trim(),j=j.slice(0,V).trimEnd()+li)}const B=U.append("tspan").attr("x",0).attr("dy",`${m}em`).text("");J&&B.append("tspan").attr("font-weight","bold").text(J),j&&B.append(()=>l.createTextNode(j)),q&&B.append("tspan").text(" ").attr("fill",X).attr("fill-opacity",L).style("user-select","none"),z&&B.append("title").text(z)}function et(){const{width:U,height:J}=i.facet??i;W.selectChildren().each(function(j){let{x:X,width:L,height:q}=this.getBBox();L=Math.round(L),q=Math.round(q);let z=h;if(z===void 0){const B=P(j)+F,V=Z(j)+O,nt=B+L+v+y*2<U,at=B-L-v-y*2>0,st=V+q+v+y*2<J,pt=V-q-v-y*2>0;z=nt&&at?st&&pt?o.preferredAnchor:pt?"bottom":"top":st&&pt?nt?"left":"right":(nt||at)&&(st||pt)?`${pt?"bottom":"top"}-${nt?"left":"right"}`:o.preferredAnchor}const D=this.firstChild,tt=this.lastChild;if(D.setAttribute("d",W9(z,v,y,L,q)),X)for(const B of tt.childNodes)B.setAttribute("x",-X);tt.setAttribute("y",`${+Y9(z,tt.childNodes.length,m).toFixed(6)}em`),tt.setAttribute("transform",`translate(${B9(z,v,y,L,q)})`)}),W.attr("visibility",null)}return e.length&&(W.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(et):typeof requestAnimationFrame<"u"&&requestAnimationFrame(et)),W.node()}}function H9(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Js(e,n)),new j9(t,{...r,x:e,y:n})}function Y9(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function B9(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function W9(t,e,n,r,i){const a=r+n*2,o=i+n*2;switch(t){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${e},${e}h${a-e}v${o}h${-a}z`;case"top":return`M0,0l${e/2},${e/2}h${(a-e)/2}v${o}h${-a}v${-o}h${(a-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-a}v${o}h${a}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-o/2}h${-a}v${o}h${a}v${e/2-o/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${a-e}v${-o}h${-a}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(a-e)/2}v${-o}h${-a}v${o}h${(a-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-a}v${-o}h${a}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-o/2}h${a}v${o}h${-a}v${e/2-o/2}z`}}function wh(t,e){const n={};let r=this.format;r=xh(r,t,"x"),r=xh(r,t,"y"),this.format=r;for(const i in r){const a=r[i];if(!(a===null||a===!1))if(i==="fx"||i==="fy")n[i]=!0;else{const o=Zd(t,i);o&&(n[i]=o)}}for(const i in t){if(i in n||i in r||U9.has(i)||(i==="x"||i==="y")&&t.geometry)continue;const a=Zd(t,i);if(a){if(a.scale==null&&a.defaultScale==="color")continue;n[i]=a}}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const i in n){const a=this.format[i];if(typeof a=="string"){const o=n[i]?.value??e[i]?.domain()??[];this.format[i]=(vn(o)?Ga:Fi)(a)}else if(a===void 0||a===!0){const o=e[i];this.format[i]=o?.bandwidth?vl(o,o.domain()):Ei}}return n}function xh(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const a=Object.entries(t),o=t[n];return a.splice(a.findIndex(([s])=>s===n)+1,0,[r,o],[i,o]),Object.fromEntries(a)}function G9(t,e,{title:n}){return this.format.title(n.value[t],t)}function*V9(t,e,n,r,i){for(const a in n){if(a==="fx"||a==="fy"){yield{label:ys(r,n,a),value:this.format[a](e[a],t)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const o=n[a];if(a==="x2"&&"x1"in n)yield{label:$h(r,n,"x"),value:Mh(this.format.x2,n.x1,o,t)};else if(a==="y2"&&"y1"in n)yield{label:$h(r,n,"y"),value:Mh(this.format.y2,n.y1,o,t)};else{const s=o.value[t],f=o.scale;if(!cr(s)&&f==null)continue;yield{label:ys(r,n,a),value:this.format[a](s,t),color:f==="color"?i[a][t]:null,opacity:f==="opacity"?i[a][t]:null}}}}function Mh(t,e,n,r){return n.hint?.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}${t(n.value[r],r)}`}function $h(t,e,n){const r=ys(t,e,`${n}1`,n),i=ys(t,e,`${n}2`,n);return r===i?r:`${r}${i}`}function ys(t,e,n,r=n){const i=e[n],a=t[i?.scale??n];return String(a?.label??i?.label??r)}function Li(t={}){const{facet:e,style:n,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:s}=t,f=ll(t.className),c=t.marks===void 0?[]:Th(t.marks);c.push(...eM(c));const u=J9(e,t),d=new Map;for(const I of c){const Y=Ah(I,u,t);Y&&d.set(I,Y)}const l=new Map;u&&Vi(l,[u],t),Vi(l,d,t);const h=Th(nM(c,l,t));for(const I of h){const Y=Ah(I,u,t);Y&&d.set(I,Y)}c.unshift(...h);let p=O8(l,t);if(p!==void 0){const I=u?Wf(p,u):void 0;for(const Q of c){if(Q.facet===null||Q.facet==="super")continue;const W=d.get(Q);W!==void 0&&(W.facetsIndex=Q.fx!=null||Q.fy!=null?Wf(p,W):I)}const Y=new Set;for(const{facetsIndex:Q}of d.values())Q?.forEach((W,G)=>{W?.length>0&&Y.add(G)});p.forEach(0<Y.size&&Y.size<p.length?(Q,W)=>Q.empty=!Y.has(W):Q=>Q.empty=!1);for(const Q of c)if(Q.facet==="exclude"){const W=d.get(Q);W!==void 0&&(W.facetsIndex=z8(W.facetsIndex))}}for(const I of jt.keys())Wc(t[I])&&I!=="fx"&&I!=="fy"&&l.set(I,[]);const m=new Map;for(const I of c){if(m.has(I))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:Y,channels:Q}=d.get(I)??{},{data:W,facets:G,channels:et}=I.initialize(Y,Q,t);yl(et,t),m.set(I,{data:W,facets:G,channels:et})}const b=Kc(Vi(l,m,t),t),y=N7(b,c,t);A8(b,y);const v=ih(b),{fx:$,fy:_}=v,N=$||_?jb(b,y):y,x=$||_?cM(v,y):y,A=cl(t),C=A.document,k=ks("svg").call(C.documentElement);let E=k;A.ownerSVGElement=k,A.className=f,A.projection=X8(t,N),A.path=function(){return Eu(this.projection??n7(v))},A.filterFacets=(I,Y)=>Wf(p,{channels:Y,groups:fl(I,Y)}),A.getMarkState=I=>{const Y=m.get(I),Q=d.get(I);return{...Y,channels:{...Y.channels,...Q?.channels}}},A.dispatchValue=I=>{E.value!==I&&(E.value=I,E.dispatchEvent(new A.document.defaultView.Event("input",{bubbles:!0})))};const S=new Set;for(const[I,Y]of m)if(I.initializer!=null){const Q=I.facet==="super"?x:N,W=I.initializer(Y.data,Y.facets,Y.channels,v,Q,A);if(W.data!==void 0&&(Y.data=W.data),W.facets!==void 0&&(Y.facets=W.facets),W.channels!==void 0){const{fx:G,fy:et,...U}=W.channels;K9(U),Object.assign(Y.channels,U);for(const J of Object.values(U)){const{scale:j}=J;j!=null&&!y4(jt.get(j))&&(Hg(J,t),S.add(j))}(G!=null||et!=null)&&d.set(I,!0)}}if(S.size){const I=new Map;Vi(I,m,t,G=>S.has(G)),Vi(l,m,t,G=>S.has(G));const Y=fM(Kc(I,t),b),{scales:Q,...W}=ih(Y);Object.assign(b,Y),Object.assign(v,W),Object.assign(v.scales,Q)}let F,O;p!==void 0&&(F={x:$?.domain(),y:_?.domain()},p=P8(p,F),O=q8($,_,y));for(const[I,Y]of m)Y.values=I.scale(Y.channels,v,A);const{width:R,height:T}=y;Sr(k).attr("class",f).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",R).attr("height",T).attr("viewBox",`0 0 ${R} ${T}`).attr("aria-label",o).attr("aria-description",s).call(I=>I.append("style").text(`:where(.${f}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${f} text),
:where(.${f} tspan) {
  white-space: pre;
}`)).call(dl,n);for(const I of c){const{channels:Y,values:Q,facets:W}=m.get(I);if(p===void 0||I.facet==="super"){let G=null;if(W&&(G=W[0],G=I.filter(G,Y,Q),G.length===0))continue;const et=I.render(G,v,Q,x,A);if(et==null)continue;k.appendChild(et)}else{let G;for(const et of p){if(!(I.facetAnchor?.(p,F,et)??!et.empty))continue;let U=null;if(W){const j=d.has(I);if(U=W[j?et.i:0],U=I.filter(U,Y,Q),U.length===0)continue;!j&&U===W[0]&&(U=a4(U)),U.fx=et.x,U.fy=et.y,U.fi=et.i}const J=I.render(U,v,Q,N,A);if(J!=null){(G??=Sr(k).append("g")).append(()=>J).datum(et);for(const j of["aria-label","aria-description","aria-hidden","transform"])J.hasAttribute(j)&&(G.attr(j,J.getAttribute(j)),J.removeAttribute(j))}}G?.selectChildren().each(O)}}const P=L9(b,A,t),{figure:Z=r!=null||i!=null||a!=null||P.length>0}=t;Z&&(E=C.createElement("figure"),E.className=`${f}-figure`,E.style.maxWidth="initial",r!=null&&E.append(Sh(C,r,"h2")),i!=null&&E.append(Sh(C,i,"h3")),E.append(...P,k),a!=null&&E.append(X9(C,a)),"value"in k&&(E.value=k.value,delete k.value)),E.scale=I8(v.scales),E.legend=k9(b,A,t);const H=u8();return H>0&&Sr(k).append("text").attr("x",R).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${H.toLocaleString("en-US")} warning${H===1?"":"s"}. Please check the console.`),E}function Sh(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function X9(t,e){const n=t.createElement("figcaption");return n.append(e),n}function Th(t){return t.flat(1/0).filter(e=>e!=null).map(Z9)}function Z9(t){return typeof t.render=="function"?t:new Q9(t)}class Q9 extends We{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function yl(t,e){for(const n in t)Hg(t[n],e);return t}function Hg(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:a,interval:o,transform:s=a?f=>f==null?NaN:f*100:o4(o,i)}=e[n]??{};s!=null&&(t.value=ue(t.value,s),t.transform=!1)}function K9(t){for(const e in t)Nb(e,t[e])}function Vi(t,e,n,r=t4){for(const{channels:i}of e.values())for(const a in i){const o=i[a],{scale:s}=o;if(s!=null&&r(s))if(s==="projection"){if(!J8(n)){const f=n.x?.domain===void 0,c=n.y?.domain===void 0;if(f||c){const[u,d]=e7(o);f&&Kf(t,"x",u),c&&Kf(t,"y",d)}}}else Kf(t,s,o)}return t}function Kf(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function J9(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=Ni(t.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=Ta(i,{value:n,scale:"fx"})),r!=null&&(a.fy=Ta(i,{value:r,scale:"fy"})),yl(a,e);const o=fl(i,a);return{channels:a,groups:o,data:t.data}}function Ah(t,e,n){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const f=Ni(t.data??r??i);if(f===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(f===null)return;const c={};return r!=null&&(c.fx=Ta(f,{value:r,scale:"fx"})),i!=null&&(c.fy=Ta(f,{value:i,scale:"fy"})),yl(c,n),{channels:c,groups:fl(f,c)}}if(e===void 0)return;const{channels:a,groups:o,data:s}=e;if(t.facet!=="auto"||t.data===s)return{channels:a,groups:o};s.length>0&&(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&Gc(Ni(t.data))===Gc(s)&&ir(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function tM(t,e={}){return ki({...e,x:null,y:null},(n,r,i,a,o,s)=>s.getMarkState(t))}function eM(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?E7:/^y$/i.test(i)?hh:k7,r=i(tM(n,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===hh?"left":"bottom");const o=H9(n.data,r);o.facet=n.facet,o.facetAnchor=n.facetAnchor,e.push(o)}}return e}function nM(t,e,n){let{projection:r,x:i={},y:a={},fx:o={},fy:s={},axis:f,grid:c,facet:u={},facet:{axis:d=f,grid:l}=u,x:{axis:h=f,grid:p=h===null?null:c}=i,y:{axis:m=f,grid:b=m===null?null:c}=a,fx:{axis:y=d,grid:v=y===null?null:l}=o,fy:{axis:$=d,grid:_=$===null?null:l}=s}=n;(r||!Wc(i)&&!Nh("x",t))&&(h=p=null),(r||!Wc(a)&&!Nh("y",t))&&(m=b=null),e.has("fx")||(y=v=null),e.has("fy")||($=_=null),h===void 0&&(h=!So(t,"x")),m===void 0&&(m=!So(t,"y")),y===void 0&&(y=!So(t,"fx")),$===void 0&&($=!So(t,"fy")),h===!0&&(h="bottom"),m===!0&&(m="left"),y===!0&&(y=h==="top"||h===null?"bottom":"top"),$===!0&&($=m==="right"||m===null?"left":"right");const N=[];return $o(N,_,y9,s),Mo(N,$,h9,"right","left",u,s),$o(N,v,x9,o),Mo(N,y,p9,"top","bottom",u,o),$o(N,b,v9,a),Mo(N,m,Ag,"left","right",n,a),$o(N,p,w9,i),Mo(N,h,Ng,"bottom","top",n,i),N}function Mo(t,e,n,r,i,a,o){if(!e)return;const s=rM(e);o=iM(s?r:e,a,o);const{line:f}=o;(n===Ag||n===Ng)&&f&&!Sa(f)&&t.push(z9(aM(o))),t.push(n(o)),s&&t.push(n({...o,anchor:i,label:null}))}function $o(t,e,n,r){!e||Sa(e)||t.push(n(oM(e,r)))}function rM(t){return/^\s*both\s*$/i.test(t)}function iM(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:s,tickRotate:f,fontVariant:c,ariaLabel:u,ariaDescription:d,label:l=e.label,labelAnchor:h,labelArrow:p=e.labelArrow,labelOffset:m}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:s,tickRotate:f,fontVariant:c,ariaLabel:u,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:m}}function aM(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function oM(t,{stroke:e=nf(t)?t:void 0,ticks:n=sM(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function sM(t){switch(typeof t){case"number":return!0;case"string":return!nf(t)}return Vr(t)||typeof t?.range=="function"}function So(t,e){const n=`${e}-axis `;return t.some(r=>r.ariaLabel?.startsWith(n))}function Nh(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function fM(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function cM({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:s,height:f}=sl(n),c=t&&Ch(t),u=e&&Ch(e);return{marginTop:e?u[0]:r,marginRight:t?s-c[1]:i,marginBottom:e?f-u[1]:a,marginLeft:t?c[0]:o,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:s,height:f}}function Ch(t){const e=t.domain();if(e.length===0)return[0,t.bandwidth()];let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const uM=new Map([["basis",M5],["basis-closed",$5],["basis-open",S5],["bundle",T5],["bump-x",d5],["bump-y",h5],["cardinal",A5],["cardinal-closed",N5],["cardinal-open",C5],["catmull-rom",k5],["catmull-rom-closed",E5],["catmull-rom-open",D5],["linear",Gs],["linear-closed",L5],["monotone-x",R5],["monotone-y",I5],["natural",F5],["step",O5],["step-after",q5],["step-before",P5]]);function lM(t=Gs,e){if(typeof t=="function")return t;const n=uM.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function dM(t=ws,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?ws:lM(t,e)}function ws(t){return Gs(t)}function kh(t,e,n){if(t===void 0){if(e===void 0){if(n!==void 0)return[n]}else if(n===void 0)return[e]}else{if(e===void 0)return n===void 0?[t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}const hM={ariaLabel:"arrow",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:1,strokeWidth:1.5};class pM extends We{constructor(e,n={}){const{x1:r,y1:i,x2:a,y2:o,bend:s=0,headAngle:f=60,headLength:c=8,inset:u=0,insetStart:d=u,insetEnd:l=u,sweep:h}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,hM),this.bend=s===!0?22.5:Math.max(-90,Math.min(90,s)),this.headAngle=+f,this.headLength=+c,this.insetStart=+d,this.insetEnd=+l,this.sweep=mM(h)}render(e,n,r,i,a){const{x1:o,y1:s,x2:f=o,y2:c=s,SW:u}=r,{strokeWidth:d,bend:l,headAngle:h,headLength:p,insetStart:m,insetEnd:b}=this,y=u?_=>u[_]:Qe(d===void 0?1:d),v=h*vs/2,$=p/1.5;return ee("svg:g",a).call(Yn,this,i,a).call(Wn,this,n).call(_=>_.selectAll().data(e).enter().append("path").call(Bn,this).attr("d",N=>{let x=o[N],A=s[N],C=f[N],k=c[N];const E=Math.hypot(C-x,k-A);if(E<=m+b)return null;let S=Math.atan2(k-A,C-x);const F=Math.min($*y(N),E/3),O=this.sweep(x,A,C,k)*l*vs,R=Math.hypot(E/Math.tan(O),E)/2;if(m||b)if(R<1e5){const et=Math.sign(O),[U,J]=bM([x,A],[C,k],R,et);if(m&&([x,A]=Eh([U,J,R],[x,A,m],-et*Math.sign(m))),b){const[j,X]=Eh([U,J,R],[C,k,b],et*Math.sign(b));S+=Math.atan2(X-J,j-U)-Math.atan2(k-J,C-U),C=j,k=X}}else{const et=C-x,U=k-A,J=Math.hypot(et,U);m&&(x+=et/J*m,A+=U/J*m),b&&(C-=et/J*b,k-=U/J*b)}const T=S+O,P=T+v,Z=T-v,H=C-F*Math.cos(P),I=k-F*Math.sin(P),Y=C-F*Math.cos(Z),Q=k-F*Math.sin(Z),W=R<1e5?`A${R},${R} 0,0,${O>0?1:0} `:"L",G=F?`M${H},${I}L${C},${k}L${Y},${Q}`:"";return`M${x},${A}${W}${C},${k}${G}`}).call(Zr,this,r)).node()}}function mM(t=1){if(typeof t=="number")return Qe(Math.sign(t));if(typeof t=="function")return(e,n,r,i)=>Math.sign(t(e,n,r,i));switch(Be(t,"sweep",["+x","-x","+y","-y"])){case"+x":return(e,n,r)=>dn(e,r);case"-x":return(e,n,r)=>Dr(e,r);case"+y":return(e,n,r,i)=>dn(n,i);case"-y":return(e,n,r,i)=>Dr(n,i)}}function bM([t,e],[n,r],i,a){const o=n-t,s=r-e,f=Math.hypot(o,s),c=a*Math.sqrt(i*i-f*f/4)/f;return[(t+n)/2-s*c,(e+r)/2+o*c]}function Eh([t,e,n],[r,i,a],o){const s=r-t,f=i-e,c=Math.hypot(s,f),u=(s*s+f*f-a*a+n*n)/(2*c),d=o*Math.sqrt(n*n-u*u);return[t+(s*u+f*d)/c,e+(f*u-s*d)/c]}function au(t,{x:e,x1:n,x2:r,y:i,y1:a,y2:o,...s}={}){return[n,r]=kh(e,n,r),[a,o]=kh(i,a,o),new pM(t,{...s,x1:n,x2:r,y1:a,y2:o})}const gM={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function _M(t){return t.sort===void 0&&t.reverse===void 0?N4({channel:"-r"},t):t}class vM extends We{constructor(e,n={}){const{x:r,y:i,r:a,rotate:o,symbol:s=$a,frameAnchor:f}=n,[c,u]=ge(o,0),[d,l]=T4(s),[h,p]=ge(a,d==null?3:4.5);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},r:{value:h,scale:"r",filter:Zs,optional:!0},rotate:{value:c,optional:!0},symbol:{value:d,scale:"auto",optional:!0}},_M(n),gM),this.r=p,this.rotate=u,this.symbol=l,this.frameAnchor=rf(f);const{channels:m}=this,{symbol:b}=m;if(b){const{fill:y,stroke:v}=m;b.hint={fill:y?y.value===b.value?"color":"currentColor":this.fill??"currentColor",stroke:v?v.value===b.value?"color":"currentColor":this.stroke??"none"}}}render(e,n,r,i,a){const{x:o,y:s}=n,{x:f,y:c,r:u,rotate:d,symbol:l}=r,{r:h,rotate:p,symbol:m}=this,[b,y]=ro(this,i),v=m===$a,$=u?void 0:h*h*Math.PI;return Wu(h)&&(e=[]),ee("svg:g",a).call(Yn,this,i,a).call(Wn,this,{x:f&&o,y:c&&s}).call(_=>_.selectAll().data(e).enter().append(v?"circle":"path").call(Bn,this).call(v?N=>{N.attr("cx",f?x=>f[x]:b).attr("cy",c?x=>c[x]:y).attr("r",u?x=>u[x]:h)}:N=>{N.attr("transform",ml`translate(${f?x=>f[x]:b},${c?x=>c[x]:y})${d?x=>` rotate(${d[x]})`:p?` rotate(${p})`:""}`).attr("d",u&&l?x=>{const A=Mr();return l[x].draw(A,u[x]*u[x]*Math.PI),A}:u?x=>{const A=Mr();return m.draw(A,u[x]*u[x]*Math.PI),A}:l?x=>{const A=Mr();return l[x].draw(A,$),A}:(()=>{const x=Mr();return m.draw(x,$),x})())}).call(Zr,this,r)).node()}}function Na(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Js(e,n)),new vM(t,{...r,x:e,y:n})}const yM={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class wM extends We{constructor(e,n={}){const{x:r,y:i,z:a,curve:o,tension:s}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:i4(n),optional:!0}},n,yM),this.z=a,this.curve=dM(o,s),pl(this,n)}filter(e){return e}project(e,n,r){this.curve!==ws&&super.project(e,n,r)}render(e,n,r,i,a){const{x:o,y:s}=r,{curve:f}=this;return ee("svg:g",a).call(Yn,this,i,a).call(Wn,this,n).call(c=>c.selectAll().data(_7(e,[o,s],this,r)).enter().append("path").call(Bn,this).call(m7,this,r).call(F7,this,r,a).attr("d",f===ws&&a.projection?xM(a.path(),o,s):l5().curve(f).defined(u=>u>=0).x(u=>o[u]).y(u=>s[u]))).node()}}function xM(t,e,n){return e=gs(e),n=gs(n),r=>{let i=[];const a=[i];for(const o of r)o===-1?(i=[],a.push(i)):i.push([e[o],n[o]]);return t({type:"MultiLineString",coordinates:a})}}function MM(t,{x:e,y:n,...r}={}){return[e,n]=Js(e,n),new wM(t,{...r,x:e,y:n})}We.prototype.plot=function({marks:t=[],...e}={}){return Li({...e,marks:[...t,this]})};const $M=[{init_node:1,term_node:2,time:1},{init_node:1,term_node:3,time:2},{init_node:2,term_node:1,time:3},{init_node:2,term_node:6,time:4},{init_node:3,term_node:1,time:5},{init_node:3,term_node:4,time:6},{init_node:3,term_node:12,time:7},{init_node:4,term_node:3,time:8},{init_node:4,term_node:5,time:9},{init_node:4,term_node:11,time:10},{init_node:5,term_node:4,time:11},{init_node:5,term_node:6,time:12},{init_node:5,term_node:9,time:13},{init_node:6,term_node:2,time:14},{init_node:6,term_node:5,time:15},{init_node:6,term_node:8,time:16},{init_node:7,term_node:8,time:17},{init_node:7,term_node:18,time:18},{init_node:8,term_node:6,time:19},{init_node:8,term_node:7,time:20},{init_node:8,term_node:9,time:21},{init_node:8,term_node:16,time:22},{init_node:9,term_node:5,time:23},{init_node:9,term_node:8,time:24},{init_node:9,term_node:10,time:25},{init_node:10,term_node:9,time:26},{init_node:10,term_node:11,time:27},{init_node:10,term_node:15,time:28},{init_node:10,term_node:16,time:29},{init_node:10,term_node:17,time:30},{init_node:11,term_node:4,time:31},{init_node:11,term_node:10,time:32},{init_node:11,term_node:12,time:33},{init_node:11,term_node:14,time:34},{init_node:12,term_node:3,time:35},{init_node:12,term_node:11,time:36},{init_node:12,term_node:13,time:37},{init_node:13,term_node:12,time:38},{init_node:13,term_node:24,time:39},{init_node:14,term_node:11,time:40},{init_node:14,term_node:15,time:41},{init_node:14,term_node:23,time:42},{init_node:15,term_node:10,time:43},{init_node:15,term_node:14,time:44},{init_node:15,term_node:19,time:45},{init_node:15,term_node:22,time:46},{init_node:16,term_node:8,time:47},{init_node:16,term_node:10,time:48},{init_node:16,term_node:17,time:49},{init_node:16,term_node:18,time:50},{init_node:17,term_node:10,time:51},{init_node:17,term_node:16,time:52},{init_node:17,term_node:19,time:53},{init_node:18,term_node:7,time:54},{init_node:18,term_node:16,time:55},{init_node:18,term_node:20,time:56},{init_node:19,term_node:15,time:57},{init_node:19,term_node:17,time:58},{init_node:19,term_node:20,time:59},{init_node:20,term_node:18,time:60},{init_node:20,term_node:19,time:61},{init_node:20,term_node:21,time:62},{init_node:20,term_node:22,time:63},{init_node:21,term_node:20,time:64},{init_node:21,term_node:22,time:65},{init_node:21,term_node:24,time:66},{init_node:22,term_node:15,time:67},{init_node:22,term_node:20,time:68},{init_node:22,term_node:21,time:69},{init_node:22,term_node:23,time:70},{init_node:23,term_node:14,time:71},{init_node:23,term_node:22,time:72},{init_node:23,term_node:24,time:73},{init_node:24,term_node:13,time:74},{init_node:24,term_node:21,time:75},{init_node:24,term_node:23,time:76}],SM=[{node:1,x:5e4,y:51e4},{node:2,x:32e4,y:51e4},{node:3,x:5e4,y:44e4},{node:4,x:13e4,y:44e4},{node:5,x:22e4,y:44e4},{node:6,x:32e4,y:44e4},{node:7,x:42e4,y:38e4},{node:8,x:32e4,y:38e4},{node:9,x:22e4,y:38e4},{node:10,x:22e4,y:32e4},{node:11,x:13e4,y:32e4},{node:12,x:5e4,y:32e4},{node:13,x:5e4,y:5e4},{node:14,x:13e4,y:19e4},{node:15,x:22e4,y:19e4},{node:16,x:32e4,y:32e4},{node:17,x:32e4,y:26e4},{node:18,x:42e4,y:32e4},{node:19,x:32e4,y:19e4},{node:20,x:32e4,y:5e4},{node:21,x:22e4,y:5e4},{node:22,x:22e4,y:13e4},{node:23,x:13e4,y:13e4},{node:24,x:13e4,y:5e4}],Yg=SM,Bg=$M;function Wg(t,e){t=t-1;const n=e.length,r=new Array(n).fill(!1),i=[];let a=t;r[a]=!0,i.push(a);for(let o=1;o<n;o++){let s=-1,f=1/0;for(let c=0;c<n;c++)if(!r[c]){const u=e[a][c];u<f&&(f=u,s=c)}s>=0&&(r[s]=!0,i.push(s),a=s)}return i.push(t),i.map(o=>o+1)}function Gg(t,e){t=t-1;const n=e.length,r=new Array(n).fill(!1),i=[];for(r[t]=!0,i.push(t);i.length<n;){let a=-1,o=1/0,s=-1;for(let f=0;f<n;f++)if(!r[f])for(let c=0;c<i.length;c++){const u=i[c],d=i[(c+1)%i.length],l=e[u][f]+e[f][d]-e[u][d];l<o&&(o=l,a=f,s=c+1)}a>=0&&s>=0&&(r[a]=!0,i.splice(s,0,a))}return i.push(t),i.map(a=>a+1)}function ie(t,e){let n=0;for(let r=0;r<t.length-1;r++){const i=t[r]-1,a=t[r+1]-1;n+=e[i][a]}return n}function*Vg(t,e){const n=Array.from(t),r=n.length;if(e=e===void 0?r:e,e>r)return;const i=[...Array(r).keys()],a=[];for(let o=r;o>r-e;o--)a.push(o);for(yield i.slice(0,e).map(o=>n[o]);r;){let o=!1;for(let s=e-1;s>=0;s--)if(a[s]-=1,a[s]===0){const f=i.splice(s,1);i.push(...f),a[s]=r-s}else{const f=a[s],c=i.length-f;[i[s],i[c]]=[i[c],i[s]],yield i.slice(0,e).map(u=>n[u]),o=!0;break}if(!o)return}}function TM(t,e,n=1){const r=t.length;let i=0;const a=[];let o=t.slice();for(const[s,f]of Vg(Array.from({length:r-2},(c,u)=>u),2)){[o[s],o[f]]=[o[f],o[s]],o[r-1]=o[0];const c=ie(t,e),u=ie(o,e);if(u<c?(i++,t=o.slice(),a.push({i:t[s],j:t[f],feasible:!0,currentDistance:c,newDistance:u,delta:c-u,route:t.slice()})):(a.push({i:t[s],j:t[f],feasible:!1,currentDistance:c,newDistance:u,delta:c-u,route:t.slice()}),[o[s],o[f]]=[o[f],o[s]],o[r-1]=o[0]),i>=n)break}return{route:t,history:a}}function Dh(t,e,n){const r=[];for(let i=0;i<n;i++){const a=TM(t,e,1);t=a.route,r.push(...a.history)}return{route:t,history:r}}function Lh(t,e,n){const r=[];for(let i=0;i<n;i++){const a=AM(t,e,1);t=a.route,r.push(...a.history)}return{route:t,history:r}}function AM(t,e,n=1){const r=t.length;let i=0;const a=[];let o=t.slice();for(const[s,f,c]of Vg(Array.from({length:r-2},(u,d)=>d),3)){[o[f],o[c],o[s]]=[o[s],o[f],o[c]],o[r-1]=o[0];const u=ie(t,e),d=ie(o,e);if(d<u?(i++,t=o.slice(),a.push({i:t[s],j:t[f],k:t[c],feasible:!0,currentDistance:u,newDistance:d,delta:u-d,route:t.slice()})):(a.push({i:t[s],j:t[f],k:t[c],feasible:!1,currentDistance:u,newDistance:d,delta:u-d,route:t.slice()}),[o[s],o[f],o[c]]=[o[f],o[c],o[s]],o[r-1]=o[0]),i>=n)break}return{route:t,history:a}}function Xg(t,e){const n=t.length,r=new Array(n),i=new Map;for(let a=0;a<n;a++)i.set(t[a],a),r[a]=new Array(n).fill(1/0),r[a][a]=0;for(const a of e){const o=i.get(a.from),s=i.get(a.to);o!==void 0&&s!==void 0&&(r[o][s]=a.weight)}for(let a=0;a<n;a++)for(let o=0;o<n;o++)for(let s=0;s<n;s++)r[o][s]>r[o][a]+r[a][s]&&(r[o][s]=r[o][a]+r[a][s]);return r}var NM=bt('<div class=" flex justify-center"><table class="table w-fit"><thead><tr><th colspan="4" class="text-center font-bold text-lg text-primary">Summary</th></tr><tr><th>Method</th><th class="text-center w-40">Initial</th><th class="text-center w-40">2 Opt</th><th class="text-center w-40">3 Opt</th></tr></thead><tbody><tr><td>Nearest Neighbor</td><td class="text-center"> </td><td class="text-center"> </td><td class="text-center"> </td></tr><tr><td>Nearest Insertion</td><td class="text-center"> </td><td class="text-center"> </td><td class="text-center"> </td></tr></tbody></table></div> <div class="grid grid-cols-2 justify-center pt-4 gap-4"><div><h3 class="text-center font-bold text-lg text-primary pb-2">Nearest Neighbor</h3> <!></div> <div><h3 class="text-center font-bold text-lg text-primary pb-2">Nearest Insertion</h3> <!></div> <div><h3 class="text-center font-bold text-lg text-primary pb-2">Nearest Neighbor + 2 Opt</h3> <!></div> <div><h3 class="text-center font-bold text-lg text-primary pb-2">Nearest Insertion + 2 Opt</h3> <!></div> <div><h3 class="text-center font-bold text-lg text-primary pb-2">Nearest Neighbor + 3 Opt</h3> <!></div> <div><h3 class="text-center font-bold text-lg text-primary pb-2">Nearest Insertion + 3 Opt</h3> <!></div></div>',1),CM=bt("<tr><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>"),kM=bt('<div class=" flex justify-center"><div><!></div> <div><table class="table border border-base-content/5 w-fit ml-4"><thead><tr><th colspan="6" class="text-center font-bold text-lg text-primary">Nearest Neighbor + 2 Opt</th></tr><tr><th>i</th><th>j</th><th>Feasible</th><th>Current Distance</th><th>New Distance</th><th>Delta</th></tr></thead><tbody></tbody></table></div></div>'),EM=bt("<tr><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>"),DM=bt('<div class=" flex justify-center"><div><!></div> <div><table class="table border border-base-content/5 w-fit ml-4"><thead><tr><th colspan="6" class="text-center font-bold text-lg text-primary">Nearest Insertion + 2 Opt</th></tr><tr><th>i</th><th>j</th><th>Feasible</th><th>Current Distance</th><th>New Distance</th><th>Delta</th><th>Route</th></tr></thead><tbody></tbody></table></div></div>'),LM=bt("<tr><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>"),RM=bt('<div class=" flex justify-center"><div><!></div> <div><table class="table border border-base-content/5 w-fit ml-4"><thead><tr><th colspan="6" class="text-center font-bold text-lg text-primary">Nearest Neighbor + 3 Opt</th></tr><tr><th>i</th><th>j</th><th>k</th><th>Feasible</th><th>Current Distance</th><th>New Distance</th><th>Delta</th><th>Route</th></tr></thead><tbody></tbody></table></div></div>'),IM=bt("<tr><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td><td> </td></tr>"),FM=bt('<div class=" flex justify-center"><div><!></div> <div><table class="table border border-base-content/5 w-fit ml-4"><thead><tr><th colspan="6" class="text-center font-bold text-lg text-primary">Nearest Insertion + 3 Opt</th></tr><tr><th>i</th><th>j</th><th>k</th><th>Feasible</th><th>Current Distance</th><th>New Distance</th><th>Delta</th><th>Route</th></tr></thead><tbody></tbody></table></div></div>'),OM=bt('<div class="flex justify-center pb-4"><div role="tablist" class="tabs tabs-border"><button role="tab">Summary</button> <button role="tab">2 Opt - NN</button> <button role="tab">2 Opt - NI</button> <button role="tab">3 Opt - NN</button> <button role="tab">3 Opt - NI</button></div></div> <div class="flex justify-center"><table class="table w-fit mb-4"><thead><tr><th colspan="2" class="text-center font-bold text-lg text-primary">Parameters</th></tr></thead><tbody><tr><td>Starting Node:</td><td><label class="input w-32"><input type="number" placeholder="Start Node"/></label></td></tr></tbody></table></div> <!>',1);function PM(t,e){Ca(e,!0);let n=_t(Te([])),r=_t(Te([]));ot(n,Bg,!0),ot(r,Yg.map(U=>({node:U.node,x:U.x/1e4,y:U.y/1e4})),!0);const i=(U,J,j,X,L)=>{let q=j-U,z=X-J,D=0,tt=0;q==0&&(z>0?D=-.5:D=.5),z==0&&(q>0?tt=-.5:tt=.5),q*z>0?D=z/Math.abs(z)*.5:q*z<0&&(tt=q/Math.abs(q)*.5);const B=Math.sqrt(q*q+z*z);if(B===0)return{x1:U,y1:J,x2:j,y2:X,ox:D,oy:tt};q/=B,z/=B;const V={x:(U+j)/2,y:(J+X)/2};return{x1:V.x-q*(B-L)/2+D,y1:V.y-z*(B-L)/2-tt,x2:V.x+q*(B-L)/2+D,y2:V.y+z*(B-L)/2-tt,ox:D,oy:tt}};function a(U){const J=[];for(let X=0;X<U.length-1;X++){const L=g(r).find(z=>z.node===U[X]),q=g(r).find(z=>z.node===U[X+1]);if(L&&q){const z=i(L.x,L.y,q.x,q.y,4);J.push(au([z],{x1:"x1",y1:"y1",x2:"x2",y2:"y2",strokeWidth:2,stroke:"red"}))}}return Li({width:600,height:600,marks:[...J,Na(g(r).map(X=>({x:X.x,y:X.y})),{x:"x",y:"y",fill:"red",r:6}),ar(g(r).map(X=>({x:X.x,y:X.y,label:X.node})),{x:"x",y:"y",text:"label",dy:-12,fill:"black",fontSize:12})],x:{domain:[0,50],ticks:0},y:{domain:[0,55],ticks:0}})}let o=_t(0),s=Ct(()=>g(n).map(U=>({from:U.init_node,to:U.term_node,weight:U.time}))),f=Ct(()=>g(r).map(U=>U.node)),c=Ct(()=>Xg(g(f),g(s))),u=_t(1),d=Ct(()=>Wg(g(u),g(c))),l=Ct(()=>ie(g(d),g(c))),h=Ct(()=>Dh(g(d),g(c),3)),p=Ct(()=>ie(g(h).route,g(c))),m=Ct(()=>Lh(g(d),g(c),3)),b=Ct(()=>ie(g(m).route,g(c))),y=Ct(()=>Gg(g(u),g(c))),v=Ct(()=>ie(g(y),g(c))),$=Ct(()=>Dh(g(y),g(c),3)),_=Ct(()=>ie(g($).route,g(c))),N=Ct(()=>Lh(g(y),g(c),3)),x=Ct(()=>ie(g(N).route,g(c)));var A=OM(),C=Tt(A),k=w(C),E=w(k);E.__click=()=>{ot(o,0)};var S=M(E,2);S.__click=()=>{ot(o,1)};var F=M(S,2);F.__click=()=>{ot(o,2)};var O=M(F,2);O.__click=()=>{ot(o,3)};var R=M(O,2);R.__click=()=>{ot(o,4)};var T=M(C,2),P=w(T),Z=M(w(P)),H=w(Z),I=M(w(H)),Y=w(I),Q=w(Y),W=M(T,2);{var G=U=>{var J=NM(),j=Tt(J),X=w(j),L=M(w(X)),q=w(L),z=M(w(q)),D=w(z),tt=M(z),B=w(tt),V=M(tt),nt=w(V),at=M(q),st=M(w(at)),pt=w(st),mt=M(st),gt=w(mt),Mt=M(mt),wt=w(Mt),Lt=M(j,2),Ft=w(Lt),Yt=M(w(Ft),2);he(Yt,()=>a(g(d)).outerHTML);var Rt=M(Ft,2),kt=M(w(Rt),2);he(kt,()=>a(g(y)).outerHTML);var Ot=M(Rt,2),Zt=M(w(Ot),2);he(Zt,()=>a(g(h).route).outerHTML);var It=M(Ot,2),Pt=M(w(It),2);he(Pt,()=>a(g($).route).outerHTML);var Qt=M(It,2),le=M(w(Qt),2);he(le,()=>a(g(m).route).outerHTML);var vt=M(Qt,2),de=M(w(vt),2);he(de,()=>a(g(N).route).outerHTML),Dt((Me,Ge,gr,xn,_r,Mn,zi,Qr,Ui,Kr)=>{K(D,`${Me??""} (0%)`),K(B,`${Ge??""} (${gr??""} %)`),K(nt,`${xn??""} (${_r??""} %)`),K(pt,`${Mn??""} (0 %)`),K(gt,`${zi??""} (${Qr??""} %)`),K(wt,`${Ui??""} (${Kr??""} %)`)},[()=>g(l).toLocaleString("en",{useGrouping:!0}),()=>g(p).toLocaleString("en",{useGrouping:!0}),()=>((g(l)-g(p))/g(l)*100).toFixed(2),()=>g(b).toLocaleString("en",{useGrouping:!0}),()=>((g(l)-g(b))/g(l)*100).toFixed(2),()=>g(v).toLocaleString("en",{useGrouping:!0}),()=>g(_).toLocaleString("en",{useGrouping:!0}),()=>((g(v)-g(_))/g(v)*100).toFixed(2),()=>g(x).toLocaleString("en",{useGrouping:!0}),()=>((g(v)-g(x))/g(v)*100).toFixed(2)]),rt(U,J)},et=U=>{var J=Jt(),j=Tt(J);{var X=q=>{var z=kM(),D=w(z),tt=w(D);he(tt,()=>a(g(h).route).outerHTML);var B=M(D,2),V=w(B),nt=M(w(V));qe(nt,21,()=>g(h).history.filter(at=>at.feasible),Pe,(at,st)=>{var pt=CM(),mt=w(pt),gt=w(mt),Mt=M(mt),wt=w(Mt),Lt=M(Mt),Ft=w(Lt),Yt=M(Lt),Rt=w(Yt),kt=M(Yt),Ot=w(kt),Zt=M(kt),It=w(Zt),Pt=M(Zt),Qt=w(Pt);Dt((le,vt,de,Me)=>{Et(pt,1,Xi(g(st).feasible?"bg-accent":"")),K(gt,g(st).i),K(wt,g(st).j),K(Ft,g(st).feasible?"Yes":"No"),K(Rt,le),K(Ot,vt),K(It,de),K(Qt,Me)},[()=>g(st).currentDistance.toLocaleString("en",{useGrouping:!0}),()=>g(st).newDistance.toLocaleString("en",{useGrouping:!0}),()=>g(st).delta.toLocaleString("en",{useGrouping:!0}),()=>g(st).route.join("-")]),rt(at,pt)}),rt(q,z)},L=q=>{var z=Jt(),D=Tt(z);{var tt=V=>{var nt=DM(),at=w(nt),st=w(at);he(st,()=>a(g($).route).outerHTML);var pt=M(at,2),mt=w(pt),gt=M(w(mt));qe(gt,21,()=>g($).history.filter(Mt=>Mt.feasible),Pe,(Mt,wt)=>{var Lt=EM(),Ft=w(Lt),Yt=w(Ft),Rt=M(Ft),kt=w(Rt),Ot=M(Rt),Zt=w(Ot),It=M(Ot),Pt=w(It),Qt=M(It),le=w(Qt),vt=M(Qt),de=w(vt),Me=M(vt),Ge=w(Me);Dt((gr,xn,_r,Mn)=>{Et(Lt,1,Xi(g(wt).feasible?"bg-accent":"")),K(Yt,g(wt).i),K(kt,g(wt).j),K(Zt,g(wt).feasible?"Yes":"No"),K(Pt,gr),K(le,xn),K(de,_r),K(Ge,Mn)},[()=>g(wt).currentDistance.toLocaleString("en",{useGrouping:!0}),()=>g(wt).newDistance.toLocaleString("en",{useGrouping:!0}),()=>g(wt).delta.toLocaleString("en",{useGrouping:!0}),()=>g(wt).route.join("-")]),rt(Mt,Lt)}),rt(V,nt)},B=V=>{var nt=Jt(),at=Tt(nt);{var st=mt=>{var gt=RM(),Mt=w(gt),wt=w(Mt);he(wt,()=>a(g(m).route).outerHTML);var Lt=M(Mt,2),Ft=w(Lt),Yt=M(w(Ft));qe(Yt,21,()=>g(m).history.filter(Rt=>Rt.feasible),Pe,(Rt,kt)=>{var Ot=LM(),Zt=w(Ot),It=w(Zt),Pt=M(Zt),Qt=w(Pt),le=M(Pt),vt=w(le),de=M(le),Me=w(de),Ge=M(de),gr=w(Ge),xn=M(Ge),_r=w(xn),Mn=M(xn),zi=w(Mn),Qr=M(Mn),Ui=w(Qr);Dt((Kr,uf,lf,df)=>{Et(Ot,1,Xi(g(kt).feasible?"bg-accent":"")),K(It,g(kt).i),K(Qt,g(kt).j),K(vt,g(kt).k),K(Me,g(kt).feasible?"Yes":"No"),K(gr,Kr),K(_r,uf),K(zi,lf),K(Ui,df)},[()=>g(kt).currentDistance.toLocaleString("en",{useGrouping:!0}),()=>g(kt).newDistance.toLocaleString("en",{useGrouping:!0}),()=>g(kt).delta.toLocaleString("en",{useGrouping:!0}),()=>g(kt).route.join("-")]),rt(Rt,Ot)}),rt(mt,gt)},pt=mt=>{var gt=Jt(),Mt=Tt(gt);{var wt=Lt=>{var Ft=FM(),Yt=w(Ft),Rt=w(Yt);he(Rt,()=>a(g(N).route).outerHTML);var kt=M(Yt,2),Ot=w(kt),Zt=M(w(Ot));qe(Zt,21,()=>g(N).history.filter(It=>It.feasible),Pe,(It,Pt)=>{var Qt=IM(),le=w(Qt),vt=w(le),de=M(le),Me=w(de),Ge=M(de),gr=w(Ge),xn=M(Ge),_r=w(xn),Mn=M(xn),zi=w(Mn),Qr=M(Mn),Ui=w(Qr),Kr=M(Qr),uf=w(Kr),lf=M(Kr),df=w(lf);Dt((Zg,Qg,Kg,Jg)=>{Et(Qt,1,Xi(g(Pt).feasible?"bg-accent":"")),K(vt,g(Pt).i),K(Me,g(Pt).j),K(gr,g(Pt).k),K(_r,g(Pt).feasible?"Yes":"No"),K(zi,Zg),K(Ui,Qg),K(uf,Kg),K(df,Jg)},[()=>g(Pt).currentDistance.toLocaleString("en",{useGrouping:!0}),()=>g(Pt).newDistance.toLocaleString("en",{useGrouping:!0}),()=>g(Pt).delta.toLocaleString("en",{useGrouping:!0}),()=>g(Pt).route.join("-")]),rt(It,Qt)}),rt(Lt,Ft)};zt(Mt,Lt=>{g(o)==4&&Lt(wt)},!0)}rt(mt,gt)};zt(at,mt=>{g(o)==3?mt(st):mt(pt,!1)},!0)}rt(V,nt)};zt(D,V=>{g(o)==2?V(tt):V(B,!1)},!0)}rt(q,z)};zt(j,q=>{g(o)==1?q(X):q(L,!1)},!0)}rt(U,J)};zt(W,U=>{g(o)==0?U(G):U(et,!1)})}Dt(()=>{Et(E,1,`tab ${g(o)==0?"tab-active":""}`),Et(S,1,`tab ${g(o)==1?"tab-active":""}`),Et(F,1,`tab ${g(o)==2?"tab-active":""}`),Et(O,1,`tab ${g(o)==3?"tab-active":""}`),Et(R,1,`tab ${g(o)==4?"tab-active":""}`)}),Ht(Q,()=>g(u),U=>ot(u,U)),rt(t,A),ka()}Ra(["click"]);var qM=bt('<div class="flex row"><div><table class="table table-md w-full mt-4 border-2 border-base-content/5"><thead><tr><th class="text-center font-bold text-lg text-primary" colspan="2">Summary</th></tr></thead><tbody><tr><td class="font-bold w-32">Number of Nodes</td><td class="text-center w-80"> </td></tr><tr><td class="font-bold">Number of Edges</td><td class="text-center"> </td></tr><tr><td class="font-bold">Starting Node</td><td class="text-center"><label class="input w-24"><input type="number" placeholder="Start Node" class="text-center" min="1"/></label></td></tr><tr><td class="font-bold">NN Route</td><td class="text-center"> </td></tr><tr><td class="font-bold">Total NN Distance</td><td class="text-center"> </td></tr><tr><td class="font-bold">NI Route</td><td class="text-center"> </td></tr><tr><td class="font-bold">Total NI Distance</td><td class="text-center"> </td></tr></tbody></table> <table class="table table-md w-full mt-4 border-2 border-base-content/5"><tbody><tr><td class="font-bold">Z<sup>NN</sup>/z*</td><td class="text-center"> </td><td></td><td class="font-bold">0.5([log<sub>2</sub> n] +1)</td><td class="text-center"> </td></tr><tr><td class="font-bold">Z<sup>NI</sup>/z*</td><td class="text-center"> </td><td></td><td class="font-bold">2</td><td class="text-center">2</td></tr></tbody></table></div> <div><!></div></div>'),zM=bt("<th> </th>"),UM=bt("<td> </td>"),jM=bt("<tr><th> </th><!></tr>"),HM=bt('<div class="flex justify-center"><table class="table w-80 border-2 border-base-content/5"><thead><tr><th>Node A</th><th>Node B</th><th>Shortest Path Distance</th></tr></thead><tbody><tr><td><input type="number" class="input input-bordered w-24"/></td><td><input type="number" class="input input-bordered w-24"/></td><td class="text-center"> </td></tr></tbody></table></div> <div class="overflow-x-auto py-4"><table class="table w-full border-2 border-base-content/5"><thead><tr><th>From - To</th><!></tr></thead><tbody></tbody></table></div>',1),YM=bt('<div class="flex justify-center"><table class="table table-md w-full mt-4 border-2 border-base-content/5"><thead><tr><th class="text-center font-bold text-lg text-primary" colspan="2">Summary</th></tr></thead><tbody><tr><td class="font-bold">Starting Node</td><td class="text-center"><label class="input w-24"><input type="number" placeholder="Start Node" class="text-center" min="1"/></label></td></tr><tr><td class="font-bold">Total Distance</td><td class="text-center"> </td></tr><tr><td class="font-bold">Tour</td><td class="text-center"> </td></tr></tbody></table></div> <div class="flex justify-center"><!></div>',1),BM=bt('<div class="flex justify-center"><table class="table table-md w-full mt-4 border-2 border-base-content/5"><thead><tr><th class="text-center font-bold text-lg text-primary" colspan="2">Summary</th></tr></thead><tbody><tr><td class="font-bold">Starting Node</td><td class="text-center"><label class="input w-24"><input type="number" placeholder="Start Node" class="text-center" min="1"/></label></td></tr><tr><td class="font-bold">Total Distance</td><td class="text-center"> </td></tr><tr><td class="font-bold">Tour</td><td class="text-center"> </td></tr></tbody></table></div> <div class="flex justify-center"><!></div>',1),WM=bt('<div class="flex justify-center pb-4"><div role="tablist" class="tabs tabs-border"><button role="tab">Summary</button> <button role="tab">Nearest Neighbor</button> <button role="tab">Nearest Insertion</button> <button role="tab">Floyd Warshall Distance Matrix</button></div></div> <!>',1);function GM(t,e){Ca(e,!0);let n=_t(Te([])),r=_t(Te([]));ot(n,Bg,!0),ot(r,Yg.map(E=>({node:E.node,x:E.x/1e4,y:E.y/1e4})),!0);const i=(E,S,F,O,R)=>{let T=F-E,P=O-S,Z=0,H=0;T==0&&(P>0?Z=-.5:Z=.5),P==0&&(T>0?H=-.5:H=.5),T*P>0?Z=P/Math.abs(P)*.5:T*P<0&&(H=T/Math.abs(T)*.5);const I=Math.sqrt(T*T+P*P);if(I===0)return{x1:E,y1:S,x2:F,y2:O,ox:Z,oy:H};T/=I,P/=I;const Y={x:(E+F)/2,y:(S+O)/2};return{x1:Y.x-T*(I-R)/2+Z,y1:Y.y-P*(I-R)/2-H,x2:Y.x+T*(I-R)/2+Z,y2:Y.y+P*(I-R)/2-H,ox:Z,oy:H}};function a(){const E=[],S=[],F=R=>R.init_node<R.term_node;for(let R of g(n)){const T=g(r).find(Z=>Z.node===R.init_node),P=g(r).find(Z=>Z.node===R.term_node);if(T&&P){const Z=F(R),H=i(T.x,T.y,P.x,P.y,4);S.push(ar([{x:(H.x1+H.x2)/2+2*H.ox,y:(H.y1+H.y2)/2-2*H.oy,label:R.time}],{x:"x",y:"y",text:"label",fill:"black",fontSize:10})),E.push(au([H],{x1:"x1",y1:"y1",x2:"x2",y2:"y2",strokeWidth:2,stroke:Z?"blue":"green"}))}}return Li({width:600,height:600,marks:[...E,...S,Na(g(r).map(R=>({x:R.x,y:R.y})),{x:"x",y:"y",fill:"red",r:6}),ar(g(r).map(R=>({x:R.x,y:R.y,label:R.node})),{x:"x",y:"y",text:"label",dy:-12,fill:"black",fontSize:12})],x:{domain:[0,50],ticks:0},y:{domain:[0,55],ticks:0}})}function o(E){const S=[];for(let O=0;O<E.length-1;O++){const R=g(r).find(P=>P.node===E[O]),T=g(r).find(P=>P.node===E[O+1]);if(R&&T){const P=i(R.x,R.y,T.x,T.y,4);S.push(au([P],{x1:"x1",y1:"y1",x2:"x2",y2:"y2",strokeWidth:2,stroke:"red"}))}}return Li({width:600,height:600,marks:[...S,Na(g(r).map(O=>({x:O.x,y:O.y})),{x:"x",y:"y",fill:"red",r:6}),ar(g(r).map(O=>({x:O.x,y:O.y,label:O.node})),{x:"x",y:"y",text:"label",dy:-12,fill:"black",fontSize:12})],x:{domain:[0,50],ticks:0},y:{domain:[0,55],ticks:0}})}let s=Ct(()=>g(n).map(E=>({from:E.init_node,to:E.term_node,weight:E.time}))),f=Ct(()=>g(r).map(E=>E.node)),c=Ct(()=>Xg(g(f),g(s))),u=_t(1),d=Ct(()=>Wg(g(u),g(c))),l=Ct(()=>Gg(g(u),g(c))),h=_t(1),p=_t(1),m=_t(0);var b=WM(),y=Tt(b),v=w(y),$=w(v);$.__click=()=>{ot(m,0)};var _=M($,2);_.__click=()=>{ot(m,2)};var N=M(_,2);N.__click=()=>{ot(m,3)};var x=M(N,2);x.__click=()=>{ot(m,1)};var A=M(y,2);{var C=E=>{var S=qM(),F=w(S),O=w(F),R=M(w(O)),T=w(R),P=M(w(T)),Z=w(P),H=M(T),I=M(w(H)),Y=w(I),Q=M(H),W=M(w(Q)),G=w(W),et=w(G),U=M(Q),J=M(w(U)),j=w(J),X=M(U),L=M(w(X)),q=w(L),z=M(X),D=M(w(z)),tt=w(D),B=M(z),V=M(w(B)),nt=w(V),at=M(O,2),st=w(at),pt=w(st),mt=M(w(pt)),gt=w(mt),Mt=M(mt,3),wt=w(Mt),Lt=M(pt),Ft=M(w(Lt)),Yt=w(Ft),Rt=M(F,2),kt=w(Rt);he(kt,()=>a().outerHTML),Dt((Ot,Zt,It,Pt,Qt,le,vt,de,Me)=>{K(Z,Ot),K(Y,Zt),fi(et,"max",g(r).length),K(j,It),K(q,Pt),K(tt,Qt),K(nt,le),K(gt,vt),K(wt,de),K(Yt,Me)},[()=>g(r).length.toLocaleString("en",{useGrouping:!0}),()=>g(n).length.toLocaleString("en",{useGrouping:!0}),()=>g(d).join("-"),()=>ie(g(d),g(c)).toLocaleString("en",{useGrouping:!0}),()=>g(l).join("-"),()=>ie(g(l),g(c)).toLocaleString("en",{useGrouping:!0}),()=>ie(g(d),g(c))/685,()=>(.5*(Math.ceil(Math.log2(g(r).length))+1)).toLocaleString("en",{useGrouping:!0}),()=>ie(g(l),g(c))/685]),Ht(et,()=>g(u),Ot=>ot(u,Ot)),rt(E,S)},k=E=>{var S=Jt(),F=Tt(S);{var O=T=>{var P=HM(),Z=Tt(P),H=w(Z),I=M(w(H)),Y=w(I),Q=w(Y),W=w(Q),G=M(Q),et=w(G),U=M(G),J=w(U),j=M(Z,2),X=w(j),L=w(X),q=w(L),z=M(w(q));qe(z,17,()=>g(f),Pe,(tt,B)=>{var V=zM(),nt=w(V);Dt(()=>K(nt,g(B))),rt(tt,V)});var D=M(L);qe(D,21,()=>g(c),Pe,(tt,B,V)=>{var nt=jM(),at=w(nt),st=w(at),pt=M(at);qe(pt,17,()=>g(B),Pe,(mt,gt)=>{var Mt=UM(),wt=w(Mt);Dt(()=>K(wt,g(gt))),rt(mt,Mt)}),Dt(()=>K(st,g(f)[V])),rt(tt,nt)}),Dt(tt=>K(J,tt),[()=>g(c)[g(f).indexOf(g(h))][g(f).indexOf(g(p))].toLocaleString("en",{useGrouping:!0})]),Ht(W,()=>g(h),tt=>ot(h,tt)),Ht(et,()=>g(p),tt=>ot(p,tt)),rt(T,P)},R=T=>{var P=Jt(),Z=Tt(P);{var H=Y=>{var Q=YM(),W=Tt(Q),G=w(W),et=M(w(G)),U=w(et),J=M(w(U)),j=w(J),X=w(j),L=M(U),q=M(w(L)),z=w(q),D=M(L),tt=M(w(D)),B=w(tt),V=M(W,2),nt=w(V);he(nt,()=>o(g(d)).outerHTML),Dt((at,st)=>{fi(X,"max",g(r).length),K(z,at),K(B,st)},[()=>ie(g(d),g(c)).toLocaleString("en",{useGrouping:!0}),()=>g(d).join("-")]),Ht(X,()=>g(u),at=>ot(u,at)),rt(Y,Q)},I=Y=>{var Q=Jt(),W=Tt(Q);{var G=et=>{var U=BM(),J=Tt(U),j=w(J),X=M(w(j)),L=w(X),q=M(w(L)),z=w(q),D=w(z),tt=M(L),B=M(w(tt)),V=w(B),nt=M(tt),at=M(w(nt)),st=w(at),pt=M(J,2),mt=w(pt);he(mt,()=>o(g(l)).outerHTML),Dt((gt,Mt)=>{fi(D,"max",g(r).length),K(V,gt),K(st,Mt)},[()=>ie(g(l),g(c)).toLocaleString("en",{useGrouping:!0}),()=>g(l).join("-")]),Ht(D,()=>g(u),gt=>ot(u,gt)),rt(et,U)};zt(W,et=>{g(m)==3&&et(G)},!0)}rt(Y,Q)};zt(Z,Y=>{g(m)==2?Y(H):Y(I,!1)},!0)}rt(T,P)};zt(F,T=>{g(m)==1?T(O):T(R,!1)},!0)}rt(E,S)};zt(A,E=>{g(m)==0?E(C):E(k,!1)})}Dt(()=>{Et($,1,`tab ${g(m)==0?"tab-active":""}`),Et(_,1,`tab ${g(m)==2?"tab-active":""}`),Et(N,1,`tab ${g(m)==3?"tab-active":""}`),Et(x,1,`tab ${g(m)==1?"tab-active":""}`)}),rt(t,b),ka()}Ra(["click"]);function VM(t){return t.feasible?`Merged nodes ${t.i} and ${t.j} successfully. ${t.reason}`:`Could not merge nodes ${t.i} and ${t.j}. Reason: ${t.reason}`}class XM{Q;RouteNodeLimit;Coordinates;Demand;DistanceMatrix;Routes=[];savingList=[];MergeAttempts=[];constructor(e,n,r,i){this.Q=e,this.RouteNodeLimit=n,this.Coordinates=r,this.Demand=i,this.DistanceMatrix=this.matrixDistance(),this.initializeClarkeWrightRoutes(),this.savingList=this.calculateSavings()}routeNodeCount(e){return e.length-1}routeDemand(e){let n=0;for(const r of e)n+=this.Demand[r];return n}calculateDistance(e){let n=0;for(let r=0;r<e.length-1;r++)n+=this.DistanceMatrix[e[r]][e[r+1]];return n}calculateRouteDemand(e){let n=0;for(const r of e)n+=this.Demand[r];return n}calculateTotalDistance(){let e=0;for(const n of this.Routes)for(let r=0;r<n.length-1;r++)e+=this.DistanceMatrix[n[r]][n[r+1]];return e}findRouteContainingNode(e){for(let n=0;n<this.Routes.length;n++)if(this.Routes[n].includes(e))return n;return null}merge(){for(const e of this.savingList){const n=this.findRouteContainingNode(e.i),r=this.findRouteContainingNode(e.j);if(n===null||r===null){console.log("This should never happen!! => Merge: route not found for nodes ",e.i,e.j);continue}else if(n===r)this.MergeAttempts.push({i:e.i,j:e.j,saving:e.saving,feasible:!1,routeI:this.Routes[n],routeJ:this.Routes[r],reason:"Same route"});else{const i=this.routeNodeCount(this.Routes[n]),a=this.routeNodeCount(this.Routes[r]),o=i+a-1;if(o>this.RouteNodeLimit)this.MergeAttempts.push({i:e.i,j:e.j,saving:e.saving,routeI:this.Routes[n],routeJ:this.Routes[r],feasible:!1,reason:"Node limit exceeded"});else{const s=this.routeDemand(this.Routes[n]),f=this.routeDemand(this.Routes[r]),c=s+f;if(c>this.Q)this.MergeAttempts.push({i:e.i,j:e.j,saving:e.saving,routeI:this.Routes[n],routeJ:this.Routes[r],feasible:!1,reason:"Capacity exceeded"});else{const u=this.Routes[n].slice(0,-1).concat(this.Routes[r].slice(1));this.MergeAttempts.push({i:e.i,j:e.j,saving:e.saving,routeI:this.Routes[n],routeJ:this.Routes[r],feasible:!0,reason:"Total demand: "+c+", Total nodes: "+o}),this.Routes.splice(Math.max(n,r),1),this.Routes.splice(Math.min(n,r),1),this.Routes.push(u)}}}}}optimizeRoutes(){for(let e of this.Routes);}initializeClarkeWrightRoutes(){const e=this.Coordinates.length;for(let n=1;n<e;n++)this.Routes.push([0,n,0])}calculateSavings(){const e=[],n=this.Coordinates.length;for(let r=1;r<n;r++)for(let i=r+1;i<n;i++){const a=this.DistanceMatrix[0][r]+this.DistanceMatrix[0][i]-this.DistanceMatrix[r][i];e.push({i:r,j:i,saving:a})}return e.sort((r,i)=>i.saving-r.saving),e}euclideanDistance(e,n){return Math.sqrt((e[0]-n[0])**2+(e[1]-n[1])**2)}matrixDistance(){const e=this.Coordinates.length;let n=[];for(let r=0;r<e;r++){n.push([]);for(let i=0;i<e;i++)n[r].push(this.euclideanDistance(this.Coordinates[r],this.Coordinates[i]))}return n}}var ZM=bt('<tr><td class="text-center"></td><td class="text-center"> </td><td class="text-center"> </td><td class="text-center"> </td></tr>'),QM=bt('<div class=" grid grid-cols-2"><div class="w-full col-span-2 my-4"><div class="flex justify-center"><!></div></div> <div class="mx-4 py-4"><table class="table border-base-content/5 border-2"><thead><tr><th class="text-center font-bold text-lg text-primary" colspan="2">Summary</th></tr><tr><th class="text-left">Parameter</th><th class=" text-center">Value</th></tr></thead><tbody><tr><td class="font-bold">Total demand</td><td class="text-center"> </td></tr><tr><td class="font-bold">Truck Capacity</td><td class="text-center">300</td></tr><tr><td class="font-bold">Max nodes per route</td><td class="text-center">6</td></tr><tr><td class="font-bold">Depot Location</td><td class="text-center"> </td></tr><tr><td class="font-bold">Number of Routes</td><td class="text-center"> </td></tr></tbody></table></div> <div class="mx-4 py-4"><table class="table border-base-content/5 border-2"><thead><tr><th class="text-center font-bold text-lg text-primary" colspan="4">Routes</th></tr><tr><th class="w-10 text-center">Route #</th><th class="text-center">Nodes</th><th class="w-20 text-center">Demand</th><th class="w-20 text-center">Cost</th></tr></thead><tbody><!><tr><td>Total</td><td></td><td class="text-center"> </td><td class="text-center"> </td></tr></tbody></table></div></div>'),KM=bt('<tr><td class="text-center"><label class="input w-28 border-0"><b></b> <input type="number"/></label></td><td><label class="input w-28 border-0"><b></b> <input type="number"/></label></td><td><label class="input w-28 border-0"><b></b> <input type="number"/></label></td><td class="text-center"><button class="btn btn-square btn-sm btn-error">X</button></td></tr>'),JM=bt('<div class="flex justify-center"><!></div> <div class="flex justify-center"><table class="table table-xs border-base-content/5 border-2 my-4 w-fit"><thead><tr><th colspan="4" class="text-center font-bold text-lg text-primary">Demand and Locations</th></tr><tr><th class="text-center">Demand</th><th class="w-20 text-center">X</th><th class="w-20 text-center">Y</th><th class="w-20 text-center">Action</th></tr></thead><tbody><!><tr><td colspan="4" class="h-8"></td></tr><tr><td class="text-center"><label class="input w-24"><b>d:</b> <input type="number" placeholder="Demand"/></label></td><td><label class="input w-24"><b>x:</b> <input type="number" placeholder="X"/></label></td><td><label class="input w-24"><b>y:</b> <input type="number" placeholder="Y"/></label></td><td class="text-center"><button class="btn btn-sm btn-primary">Add</button></td></tr></tbody></table></div>',1),t$=bt('<tr><td class="font-bold text-center"> </td><td class="font-bold text-center"> </td><td class="text-center"> </td><td class="text-center"> </td><td class="font-bold text-center"> </td><td> </td><td class="text-center"> </td></tr>'),e$=bt('<div class=" flex"><table class="table table-sm border-base-content/5 border-2 my-4 w-fit"><thead><tr><th class="text-center font-bold text-lg text-primary" colspan="7">Merge Attempts</th></tr><tr><th class="w-6 text-center">i</th><th class="w-6 text-center">j</th><th class="text-center">Route i</th><th class="text-center">Route j</th><th class="w-20 text-center">Saving</th><th class="text-center">Feasible</th><th class="text-center w-52">Reason</th></tr></thead><tbody></tbody></table></div>'),n$=bt('<div class="flex justify-center"><div role="tablist" class="tabs tabs-border"><button role="tab">Summary</button> <button role="tab">Demand and Locations</button> <button role="tab">Merge Attempts</button></div></div> <!>',1);function r$(t,e){Ca(e,!0);let n=0,r=Te([0,50,100,50,100,50,50,50,50,50,50,100,50,50]),i=Te([[50,50],[70,95],[90,80],[82,63],[75,58],[90,48],[98,52],[90,40],[60,40],[46,37],[30,48],[20,55],[20,70],[30,90]]);function a(C,k,E){r.push(C),i.push([k,E])}function o(C){r.length>1&&(r.splice(C,1),i.splice(C,1))}let s=_t(0),f=_t(0),c=_t(0);function u(){a(g(s),g(f),g(c)),ot(s,0),ot(f,0),ot(c,0)}function d(){return Li({marks:[Na(i.map((k,E)=>({x:k[0],y:k[1],r:50})),{x:"x",y:"y",r:"r",fill:"magenta",opacity:.9}),ar(i.map((k,E)=>({x:k[0],y:k[1],label:E.toString()})),{x:"x",y:"y",text:"label",fontSize:14,dy:-12,dx:-5,fill:"currentColor"})],width:600,height:400,x:{label:"X Coordinate"},y:{label:"Y Coordinate"}})}function l(){const C=["blue","green","orange","purple","cyan","magenta","brown","pink"],k=[];let E=0;for(const F of h.Routes){const O=F.map(R=>i[R]).map(R=>({x:R[0],y:R[1]}));k.push(MM(O,{x:"x",y:"y",stroke:C[E%C.length],strokeWidth:2})),E++}return Li({marks:[...k,Na(i.map((F,O)=>({x:F[0],y:F[1],r:50})),{x:"x",y:"y",r:"r",fill:"red",opacity:.9}),ar(i.map((F,O)=>({x:F[0],y:F[1],label:O.toString()})),{x:"x",y:"y",text:"label",fontSize:14,dy:-12,dx:-5,fill:"currentColor"})],width:600,height:400,x:{label:"X Coordinate"},y:{label:"Y Coordinate"}})}let h=Te(new XM(300,6,i,r));h.merge(),h.MergeAttempts;let p=_t(0);var m=n$(),b=Tt(m),y=w(b),v=w(y);v.__click=()=>{ot(p,0)};var $=M(v,2);$.__click=()=>{ot(p,1)};var _=M($,2);_.__click=()=>{ot(p,2)};var N=M(b,2);{var x=C=>{var k=QM(),E=w(k),S=w(E),F=w(S);he(F,()=>l().outerHTML);var O=M(E,2),R=w(O),T=M(w(R)),P=w(T),Z=M(w(P)),H=w(Z),I=M(P,3),Y=M(w(I)),Q=w(Y),W=M(I),G=M(w(W)),et=w(G),U=M(O,2),J=w(U),j=M(w(J)),X=w(j);qe(X,17,()=>h.Routes,Pe,(B,V,nt)=>{var at=ZM(),st=w(at);st.textContent=nt+1;var pt=M(st),mt=w(pt),gt=M(pt),Mt=w(gt),wt=M(gt),Lt=w(wt);Dt((Ft,Yt,Rt)=>{K(mt,Ft),K(Mt,Yt),K(Lt,Rt)},[()=>g(V).join("-"),()=>h.calculateRouteDemand(g(V)).toLocaleString("en",{useGrouping:!0,maximumFractionDigits:2}),()=>h.calculateDistance(g(V)).toLocaleString("en",{useGrouping:!0,maximumFractionDigits:2,minimumFractionDigits:2})]),rt(B,at)});var L=M(X),q=M(w(L),2),z=w(q),D=M(q),tt=w(D);Dt((B,V,nt)=>{K(H,B),K(Q,`Node 0 (${i[n]??""})`),K(et,h.Routes.length),K(z,V),K(tt,nt)},[()=>r.reduce((B,V)=>B+V,0),()=>r.reduce((B,V)=>B+V,0).toLocaleString("en",{useGrouping:!0}),()=>h.calculateTotalDistance().toLocaleString("en",{useGrouping:!0,maximumFractionDigits:2,minimumFractionDigits:2})]),rt(C,k)},A=C=>{var k=Jt(),E=Tt(k);{var S=O=>{var R=JM(),T=Tt(R),P=w(T);he(P,()=>d().outerHTML);var Z=M(T,2),H=w(Z),I=M(w(H)),Y=w(I);qe(Y,17,()=>r,Pe,(tt,B,V)=>{var nt=KM(),at=w(nt),st=w(at),pt=w(st);pt.textContent=`d${V}:`;var mt=M(pt,2);fi(mt,"placeholder",`Demand ${V}`);var gt=M(at),Mt=w(gt),wt=w(Mt);wt.textContent=`x${V}:`;var Lt=M(wt,2);fi(Lt,"placeholder",`X${V}`);var Ft=M(gt),Yt=w(Ft),Rt=w(Yt);Rt.textContent=`y${V}:`;var kt=M(Rt,2);fi(kt,"placeholder",`Y${V}`);var Ot=M(Ft),Zt=w(Ot);Zt.__click=()=>o(V),Ht(mt,()=>r[V],It=>r[V]=It),Ht(Lt,()=>i[V][0],It=>i[V][0]=It),Ht(kt,()=>i[V][1],It=>i[V][1]=It),rt(tt,nt)});var Q=M(Y,2),W=w(Q),G=w(W),et=M(w(G),2),U=M(W),J=w(U),j=M(w(J),2),X=M(U),L=w(X),q=M(w(L),2),z=M(X),D=w(z);D.__click=u,Ht(et,()=>g(s),tt=>ot(s,tt)),Ht(j,()=>g(f),tt=>ot(f,tt)),Ht(q,()=>g(c),tt=>ot(c,tt)),rt(O,R)},F=O=>{var R=Jt(),T=Tt(R);{var P=Z=>{var H=e$(),I=w(H),Y=M(w(I));qe(Y,21,()=>h.MergeAttempts,Pe,(Q,W)=>{var G=t$(),et=w(G),U=w(et),J=M(et),j=w(J),X=M(J),L=w(X),q=M(X),z=w(q),D=M(q),tt=w(D),B=M(D),V=w(B),nt=M(B),at=w(nt);Dt((st,pt,mt,gt)=>{Et(G,1,Xi(g(W).feasible?"bg-accent":"")),K(U,g(W).i),K(j,g(W).j),K(L,st),K(z,pt),K(tt,mt),Et(B,1,`${g(W).feasible?"font-bold":""} text-center`),K(V,g(W).feasible?"Yes":"No"),K(at,gt)},[()=>g(W).routeI?.map(st=>st).join("-"),()=>g(W).routeJ?.map(st=>st).join("-"),()=>g(W).saving?.toLocaleString("en",{useGrouping:!0,maximumFractionDigits:2,minimumFractionDigits:2}),()=>VM(g(W))]),rt(Q,G)}),rt(Z,H)};zt(T,Z=>{g(p)==2&&Z(P)},!0)}rt(O,R)};zt(E,O=>{g(p)==1?O(S):O(F,!1)},!0)}rt(C,k)};zt(N,C=>{g(p)==0?C(x):C(A,!1)})}Dt(()=>{Et(v,1,`tab ${g(p)==0?"tab-active":""}`),Et($,1,`tab ${g(p)==1?"tab-active":""}`),Et(_,1,`tab ${g(p)==2?"tab-active":""}`)}),rt(t,m),ka()}Ra(["click"]);function i$(t,e,n,r=1e-7){const i=(l,h)=>n(l,h)*n(l,h),a=(l,h)=>{const m=i(l-1e-7,h),b=i(l+1e-7,h),y=i(l,h+1e-7),v=i(l,h-1e-7),$=(b-m)/(2*1e-7),_=(y-v)/(2*1e-7);return[$,_]},o=(l,h,p,m)=>{const[b,y]=a(p,m),[v,$]=a(l,h),_=(b-v)**2+(y-$)**2;return Math.abs(((l-p)*b+(h-m)*y)/_)};let s=Math.sqrt(i(t,e)),f=.05,c=0,u=0,d=0;for(;s>r;){const[l,h]=a(t,e);c=t,u=e,t=t-f*l,e=e-f*h;const p=Math.sqrt(i(t,e));if(p<s&&(s=p),f=o(t,e,c,u),d+=1,d>2500){console.log("GradientDescent2D: Max iterations reached"),console.log("c1: ",t," c2: ",e," obj: ",s);break}}return console.log("Gradient Descent: Iterations: ",d,"c1: ",t,"c2: ",e," Final Objective: ",s," Final Step: ",f),[t,e]}const a$={transportationCostPerUnitDistance:3};function Se(t){return t<0?(console.log("CummulativeDemand: d out of bounds d: ",t),0):t<500?5*t:t<1e3?2500+(t-500):t<=1500?3e3+5*(t-1e3):(console.log("CummulativeDemand: d out of bounds d: ",t),NaN)}function Rh(t,e){return t*e}function xs(t){return t<=500?5*t**2/2:t<=1e3?xs(500)+Rh(t-500,Se(500))+(t-500)**2/2:t<=1501?xs(1e3)+Rh(t-1e3,Se(1e3))+5*(t-1e3)**2/2:1/0}function Xn(t,e){return xs(e)-xs(t)}function Vn(t,e,n){const r=a$.transportationCostPerUnitDistance,i=Xn(t,n)-Se(t)*(n-t),a=Se(e)*(e-n)-Xn(n,e);return r*(i+a)}function di(t,e,n){const r=[],i=be(t,e,n,r);let a=0;for(let o=0;o<r.length-1;o++){const s=r[o],f=r[o+1],c=i[o];a+=Vn(s,f,c)}return a}function Jf(t,e,n,r){const i=r.slice().sort((o,s)=>o-s),a=[];if(n==1){const o=di(t,e,1);for(let s=0;s<i.length-1;s++){const f=Vn(t,e,i[s]),c=f-o,u=c/o*100;a.push({locations:[i[s]],cost:f,left:t,right:e,delta:c,percentage:u,optimalCost:o})}}else if(n==2){const o=di(t,e,2);for(let s=0;s<i.length-1;s++)for(let f=s+1;f<i.length;f++){const c=i[s],u=i[f],d=be(c,u,1)[0],l=Vn(t,d,i[s])+Vn(d,e,i[f]),h=l-o,p=h/o*100;a.push({locations:[i[s],i[f]],cost:l,left:c,right:u,delta:h,percentage:p,optimalCost:o})}}else if(n==3){const o=di(t,e,3);for(let s=0;s<i.length-2;s++)for(let f=s+1;f<i.length-1;f++)for(let c=f+1;c<i.length;c++){const u=i[s],d=i[f],l=i[c],h=be(u,d,1)[0],p=be(d,l,1)[0],m=Vn(t,h,i[s])+Vn(h,p,i[f])+Vn(p,e,i[c]),b=m-o,y=b/o*100;a.push({locations:[i[s],i[f],i[c]],cost:m,left:u,right:l,delta:b,percentage:y,optimalCost:o})}}return a}function be(t,e,n,r=null){if(n==1){const i=Xn(t,e),a=Se(t)-Se(e),o=Se(t)*t-Se(e)*e;return r&&r.push(t,e),[(i+o)/a]}if(n==2){const i=c=>Xn(c,e)/(e-c)-Xn(t,c)/(c-t)-Se(c)+Se(t);let a=t,o=e,s=(a+o)/2,f=i(s);for(;Math.abs(f)>1e-5;)f<0?o=s:a=s,s=(a+o)/2,f=i(s);return r&&r.push(t,s,e),[be(t,s,1)[0],be(s,e,1)[0]]}if(n==3){const i=(f,c)=>Xn(t,f)/(f-t)-Xn(c,e)/(e-c)-Se(t)+Se(c),a=(t+e)/2;let o=be(t,a,1)[0],s=be(a,e,1)[0];return[o,s]=i$(o,s,i,1e-7),r&&r.push(t,o,s,e),[be(t,o,1)[0],be(o,s,1)[0],be(s,e,1)[0]]}return[]}function To(t,e=2){return"["+t.map(n=>n.toLocaleString("en",{useGrouping:!0,minimumFractionDigits:e,maximumFractionDigits:e})).join("  ")+"]"}var o$=bt('<div class="border rounded-box border-base-content/5"><table class="table"><thead><tr><th colspan="3" class="text-center font-bold text-lg text-primary">Calculator</th></tr><tr><th>Function</th><th>Parameters</th><th class="w-60 text-center">Result</th></tr></thead><tbody><tr><td>CummulativeDemand(d)</td><td><label class="input w-80"><b>d:</b> <input type="number" placeholder="d"/></label></td><td class=" text-center"> </td></tr><tr><td>IntegralCummulativeDemand(a, b)</td><td><div class="join w-80"><label class="input join-item"><b>a:</b> <input type="number" placeholder="a"/></label> <label class="input join-item"><b>b:</b> <input type="number" placeholder="b"/></label></div></td><td class="text-center"> </td></tr><tr><td>AccessCostInterval(a,b,p)</td><td><div class="join w-80"><label class="input join-item"><b>a:</b> <input type="number" placeholder="a"/></label> <label class="input join-item"><b>b:</b> <input type="number" placeholder="b"/></label> <label class="input join-item"><b>p:</b> <input type="number" placeholder="b"/></label></div></td><td class="text-center"> </td></tr><tr><td>OptimalLocation(a,b,n)</td><td><div class="join w-80"><label class="input join-item"><b>a:</b> <input type="number" placeholder="a"/></label> <label class="input join-item"><b>b:</b> <input type="number" placeholder="b"/></label> <label class="input join-item"><b>n:</b> <input type="number" placeholder="n"/></label></div></td><td class="text-center"> </td></tr></tbody></table></div>'),s$=bt('<div class=" flex justify-center"><table class="table border-base-content/5"><thead><tr><th># of locations</th><th>Optimal locations</th><th>Total Access Cost</th></tr></thead><tbody><tr><td>1</td><td> </td><td> </td></tr><tr><td>2</td><td> </td><td> </td></tr><tr><td>3</td><td> </td><td> </td></tr></tbody></table></div>'),f$=bt("<tr><td> </td><td> </td><td> </td><td> </td><td> </td></tr>"),c$=bt('<div class=" flex justify-center"><table class="table border-base-content/5"><thead><tr><th>Location</th><th>Total Access Cost</th><th>Optimal Access Cost</th><th>Delta</th><th>Percentage</th></tr></thead><tbody></tbody></table></div>'),u$=bt('<div class=" flex justify-center"><table class="table border-base-content/5 w-fit border-2 my-2"><thead><tr><th>Parameter</th><th>Value</th></tr></thead><tbody><tr class="text-center"><td class="font-bold">c<sub>T</sub></td><td>120000</td></tr><tr class="text-center"><td class="font-bold">n<sup>*</sup></td><td>-</td></tr><tr class="text-center"><td class="font-bold">z<sup>*</sup></td><td>-</td></tr></tbody></table></div> <div class=" flex justify-center"><table class="table border-base-content/5"><thead><tr><th># of Locations</th><th>Optimal Locations</th><th>Total Access Cost</th></tr></thead><tbody></tbody></table></div>',1),l$=bt('<div class="flex justify-center"><div role="tablist" class="tabs tabs-border"><button role="tab">Summary</button> <button role="tab">Optimal Location</button> <button role="tab">Location Selection</button> <button role="tab">Optimal Number of Locations</button> <button role="tab">Continuum Aproximation</button></div></div> <!>',1);function d$(t,e){Ca(e,!0);let n=_t(0),r=_t(0),i=_t(0),a=_t(0),o=_t(0),s=_t(0),f=_t(0),c=_t(1500),u=_t(3),d=_t(0),l=Te([103,179,258,272,294,321,326,331,343,377,436,455,622,649,670,694,696,707,839,842,872,894,994,1044,1080,1085,1153,1289,1382,1451]),h=Ct(()=>Jf(0,1500,1,l)),p=Ct(()=>g(h).reduce((R,T)=>T.cost<R.cost?T:R)),m=Ct(()=>Jf(0,1500,2,l)),b=Ct(()=>g(m).reduce((R,T)=>T.cost<R.cost?T:R)),y=Ct(()=>Jf(0,1500,3,l)),v=Ct(()=>g(y).reduce((R,T)=>T.cost<R.cost?T:R));var $=l$(),_=Tt($),N=w(_),x=w(N);x.__click=()=>{ot(d,0)};var A=M(x,2);A.__click=()=>{ot(d,1)};var C=M(A,2);C.__click=()=>{ot(d,2)};var k=M(C,2);k.__click=()=>{ot(d,3)};var E=M(k,2);E.__click=()=>{ot(d,4)};var S=M(_,2);{var F=R=>{var T=o$(),P=w(T),Z=M(w(P)),H=w(Z),I=M(w(H)),Y=w(I),Q=M(w(Y),2),W=M(I),G=w(W),et=M(H),U=M(w(et)),J=w(U),j=w(J),X=M(w(j),2),L=M(j,2),q=M(w(L),2),z=M(U),D=w(z),tt=M(et),B=M(w(tt)),V=w(B),nt=w(V),at=M(w(nt),2),st=M(nt,2),pt=M(w(st),2),mt=M(st,2),gt=M(w(mt),2),Mt=M(B),wt=w(Mt),Lt=M(tt),Ft=M(w(Lt)),Yt=w(Ft),Rt=w(Yt),kt=M(w(Rt),2),Ot=M(Rt,2),Zt=M(w(Ot),2),It=M(Ot,2),Pt=M(w(It),2),Qt=M(Ft),le=w(Qt);Dt((vt,de,Me,Ge)=>{K(G,vt),K(D,de),K(wt,Me),K(le,Ge)},[()=>Se(g(n)).toLocaleString("en",{useGrouping:!0}),()=>Xn(g(r),g(i)).toLocaleString("en",{useGrouping:!0}),()=>Vn(g(a),g(o),g(s)).toLocaleString("en",{useGrouping:!0}),()=>To(be(g(f),g(c),g(u)))]),Ht(Q,()=>g(n),vt=>ot(n,vt)),Ht(X,()=>g(r),vt=>ot(r,vt)),Ht(q,()=>g(i),vt=>ot(i,vt)),Ht(at,()=>g(a),vt=>ot(a,vt)),Ht(pt,()=>g(o),vt=>ot(o,vt)),Ht(gt,()=>g(s),vt=>ot(s,vt)),Ht(kt,()=>g(f),vt=>ot(f,vt)),Ht(Zt,()=>g(c),vt=>ot(c,vt)),Ht(Pt,()=>g(u),vt=>ot(u,vt)),rt(R,T)},O=R=>{var T=Jt(),P=Tt(T);{var Z=I=>{var Y=s$(),Q=w(Y),W=M(w(Q)),G=w(W),et=M(w(G)),U=w(et),J=M(et),j=w(J),X=M(G),L=M(w(X)),q=w(L),z=M(L),D=w(z),tt=M(X),B=M(w(tt)),V=w(B),nt=M(B),at=w(nt);Dt((st,pt,mt,gt,Mt,wt)=>{K(U,st),K(j,pt),K(q,mt),K(D,gt),K(V,Mt),K(at,wt)},[()=>To(be(0,1500,1)),()=>di(0,1500,1).toLocaleString("en",{useGrouping:!0}),()=>To(be(0,1500,2)),()=>di(0,1500,2).toLocaleString("en",{useGrouping:!0}),()=>To(be(0,1500,3)),()=>di(0,1500,3).toLocaleString("en",{useGrouping:!0})]),rt(I,Y)},H=I=>{var Y=Jt(),Q=Tt(Y);{var W=et=>{var U=c$(),J=w(U),j=M(w(J));qe(j,21,()=>[g(p),g(b),g(v)],Pe,(X,L)=>{var q=f$(),z=w(q),D=w(z),tt=M(z),B=w(tt),V=M(tt),nt=w(V),at=M(V),st=w(at),pt=M(at),mt=w(pt);Dt((gt,Mt,wt)=>{K(D,g(L).locations),K(B,gt),K(nt,Mt),K(st,g(L).delta),K(mt,`${wt??""}%`)},[()=>g(L).cost.toFixed(2),()=>g(L).optimalCost.toFixed(2),()=>g(L).percentage.toFixed(2)]),rt(X,q)}),rt(et,U)},G=et=>{var U=Jt(),J=Tt(U);{var j=X=>{var L=u$();rt(X,L)};zt(J,X=>{g(d)==3&&X(j)},!0)}rt(et,U)};zt(Q,et=>{g(d)==2?et(W):et(G,!1)},!0)}rt(I,Y)};zt(P,I=>{g(d)==1?I(Z):I(H,!1)},!0)}rt(R,T)};zt(S,R=>{g(d)==0?R(F):R(O,!1)})}Dt(()=>{Et(x,1,`tab ${g(d)==0?"tab-active":""}`),Et(A,1,`tab ${g(d)==1?"tab-active":""}`),Et(C,1,`tab ${g(d)==2?"tab-active":""}`),Et(k,1,`tab ${g(d)==3?"tab-active":""}`),Et(E,1,`tab ${g(d)==4?"tab-active":""}`)}),rt(t,$),ka()}Ra(["click"]);var h$=bt('<button role="tab"></button>'),p$=bt('<div class="flex justify-center"><div role="tablist" class="tabs tabs-lift"></div></div> <div class="grid justify-center"><!></div>',1);function m$(t){let e=_t(3),n=6;function r(d){ot(e,d,!0)}var i=p$(),a=Tt(i),o=w(a);qe(o,21,()=>Array(n),Pe,(d,l,h)=>{var p=h$();p.__click=()=>r(h+1),p.textContent=`Question ${h+1}`,Dt(()=>Et(p,1,`tab ${g(e)===h+1?"tab-active bg-secondary":""}`)),rt(d,p)});var s=M(a,2),f=w(s);{var c=d=>{hv(d)},u=d=>{var l=Jt(),h=Tt(l);{var p=b=>{GM(b,{})},m=b=>{var y=Jt(),v=Tt(y);{var $=N=>{PM(N,{})},_=N=>{var x=Jt(),A=Tt(x);{var C=E=>{r$(E,{})},k=E=>{var S=Jt(),F=Tt(S);{var O=T=>{d$(T,{})},R=T=>{var P=Jt(),Z=Tt(P);{var H=I=>{};zt(Z,I=>{g(e)===6&&I(H)},!0)}rt(T,P)};zt(F,T=>{g(e)===5?T(O):T(R,!1)},!0)}rt(E,S)};zt(A,E=>{g(e)===4?E(C):E(k,!1)},!0)}rt(N,x)};zt(v,N=>{g(e)===3?N($):N(_,!1)},!0)}rt(b,y)};zt(h,b=>{g(e)===2?b(p):b(m,!1)},!0)}rt(d,l)};zt(f,d=>{g(e)===1?d(c):d(u,!1)})}rt(t,i)}Ra(["click"]);K_(m$,{target:document.getElementById("app")});
//# sourceMappingURL=index-CYHvbsS9.js.map
